{"version":3,"file":"NFTDetails-dad6cae2.js","sources":["../../src/pages/Wallet/NFTDetails.tsx"],"sourcesContent":["import { useEffect, useContext, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { LAYERS_IC } from '~/assets';\nimport { Loading } from '~/components';\nimport { AppContext } from '~/context';\nimport { getFirstKeyVal, getNFT, getOwnship, getWallet } from '~/functions';\n\nconst NFTDetails = () => {\n    const { id } = useParams();\n    console.log(\"NFTDetails\", id);\n\n    const { state: { myWallet }, dispatch } = useContext(AppContext);\n    const [data, setData] = useState<any>({});\n    const [loading, setLoading] = useState<boolean>(true);\n    const [ownershipIdNFT, setOwnershipIdNFT] = useState<{ ownershipId: string, nftId: string }>({ ownershipId: \"\", nftId: \"\" });\n    const [ownershipData, setOwnershipData] = useState<any>({});\n\n    useEffect(() => {\n        (myWallet?.privateKey || myWallet?.address) === null ? getWallet({ myWallet, dispatch }) : onGetNFT();\n    }, [id, myWallet?.privateKey]);\n\n    const onGetNFT = async () => {\n        id && !loading && setLoading(true);\n        if (!id) return;\n        const { nftId, ownershipId } = extractFromOwnerShipId(id);\n        getNFT(nftId).then(async ({ data, err }) => {\n            if (err === null) {\n                setData(data);// console.log(\"NFTdataById\", JSON.stringify(data));\n                await getOwnship(ownershipId).then(({ data: oData, err }) => {\n                    if (err === null) {\n                        setOwnershipData(oData); console.log(\"OwnershipData\", JSON.stringify(oData));\n                    } else { console.error(err); }\n                }).finally(() => setLoading(false));\n            } else { console.error(err); }\n        }).finally(() => setLoading(false));\n    };\n\n    // extract the NFT id from the ownerShipIdNFT\n    const extractFromOwnerShipId = (ownershipIdNFT: string) => {\n        // return ownershipId & nftId in object\n        let ownershipId = ownershipIdNFT;\n        let nftId = ownershipIdNFT?.split(\":\")?.slice(0, 4)?.join(\":\");\n        return { ownershipId, nftId };\n    }\n\n\n    return (\n        <section className=\"overflow-hidden text-gray-700 bg-white body-font\">\n            {loading ? <div className=\"flex flex-row items-center justify-center w-[100%] h-[100vh]\">\n                <div className=\"flex flex-col items-center justify-center\">\n                    <Loading />\n                </div>\n            </div> : <div className=\"container px-5 sm-px-1 xs:px-1 md:px-[5%] py-16 mx-auto\">\n                <span className=\"block text-3xl font-semibold text-center text-black font-lato\">NFT Details</span>\n                <div className=\"flex flex-wrap mx-auto lg:w-12/12 \">{/* items-center */}\n                    {/* <video className=\"object-contain w-full lg:w-1/2 max-w-min\" src=\"https://dummyimage.com/700x400\" /> */}\n                    {/* {getFirstKeyVal(data?.item?.meta?.content || [], \"@type\") && ( */}\n                    <video\n                        autoPlay\n                        className=\"lg:w-1/2 w-full object-cover max-w-min aspect-[39/22] max-h-[80vh] lg:mt-7\"\n                        loop\n                        muted\n                        controls={false}\n                        key={getFirstKeyVal(data?.meta?.content || [], \"@type\", \"VIDEO\")}\n                    // ref={videoRef}\n                    // onClick={handleVideo}\n                    // onEnded={() => setPlayBool(!playBool)}\n                    >\n                        <source\n                            src={getFirstKeyVal(data?.meta?.content || [], \"@type\", \"VIDEO\")}\n                            type=\"video/mp4\"\n                            className=\"h-[86vh] w-full object-cover max-h-[86vh]\"\n                        />\n                    </video>\n                    {/* )} */}\n                    <div className=\"w-full mt-6 lg:w-1/2 lg:pl-10 lg:py-6 lg:mt-0\">\n                        <div className={`flex flex-row items-center justify-center w-[100%] border-b-2 border-zinc-100 pb-4 mb-4`}>\n                            <div className=\"flex flex-col justify-between w-[100%] pr-4 min-h-[100px]\">\n                                <span className=\"block text-base font-semibold text-black md:text-2xl font-lato\">{data?.meta?.name || '--'}</span>\n                                <div className=\"flex flex-row items-center w-[100%]\">\n                                    <span className=\"block text-sm font-medium md:text-lg lg:text-xl text-zinc-600 font-lato\">{`Price: ${data?.bestSellOrder?.makePrice || '--'} ${data?.bestSellOrder?.take?.type?.[\"@type\"] || \"--\"}`}</span>\n                                    <section className=\"flex flex-row items-center ml-[2%]\">\n                                        <img src={LAYERS_IC} alt=\"Layers\" className=\"w-[20px] h-[20px] mr-2\" />\n                                        <span className=\"block text-sm md:text-lg lg:text-xl text-zinc-700 font-lato\">{ownershipData?.value || \"--\"}</span>\n                                    </section>\n                                </div>\n                            </div>\n                            <img src={getFirstKeyVal(data?.meta?.content || [], \"@type\", \"IMAGE\")} alt=\"NFT\" className=\"min-w-[100px] h-[100px]\" />\n                        </div>\n                        <span className=\"block text-base font-semibold text-black md:text-2xl font-lato\">{\"Details\"}</span>\n                        <span className=\"block mt-3 text-sm font-semibold text-black md:text-lg lg:text-xl font-lato\">{\"Contact Address\"}</span>\n                        <span className=\"block text-xs font-medium break-all md:text-lg lg:text-xl text-zinc-600 font-lato\">{data?.contract ? data?.contract?.split(\":\")?.slice(1)?.join(\":\") : \"--\"}</span>\n                        <span className=\"block mt-3 text-sm font-semibold text-black md:text-lg lg:text-xl font-lato\">{\"Token Id\"}</span>\n                        <span className=\"block text-xs font-medium break-all md:text-lg lg:text-xl text-zinc-600 font-lato\">{data?.tokenId || \"--\"}</span>\n                        <span className=\"block mt-3 text-sm font-semibold text-black md:text-lg lg:text-xl font-lato\">{\"Blockchain\"}</span>\n                        <span className=\"block text-xs font-medium break-all md:text-lg lg:text-xl text-zinc-600 font-lato\">{data?.blockchain || \"--\"}</span>\n                        <span className=\"block mt-3 text-sm font-semibold text-black md:text-lg lg:text-xl font-lato\">{\"Description\"}</span>\n                        <pre className=\"block mt-2 text-xs font-medium break-all whitespace-pre-wrap md:text-lg lg:text-xl text-zinc-600 font-lato\">{data?.meta?.description || \"--\"}</pre>\n                    </div>\n                </div>\n            </div>}\n        </section>\n    )\n};\n\nexport default NFTDetails;"],"names":["NFTDetails","id","useParams","myWallet","dispatch","useContext","AppContext","data","setData","useState","loading","setLoading","ownershipData","setOwnershipData","useEffect","getWallet","onGetNFT","nftId","ownershipId","extractFromOwnerShipId","getNFT","err","getOwnship","oData","ownershipIdNFT","jsx","Loading","jsxs","getFirstKeyVal","_a","_b","_c","_d","_g","_f","_e","LAYERS_IC","_h","_k","_j","_i","_l"],"mappings":"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"}