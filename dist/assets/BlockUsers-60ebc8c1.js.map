{"version":3,"file":"BlockUsers-60ebc8c1.js","sources":["../../src/pages/BlockUsers.tsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Loading, UserIcon } from \"../components\";\r\n\r\nconst BlockUsers = () => {\r\n  const [blockUser, setBlockUser] = useState<any>([]);\r\n\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n  const token = user?.token;\r\n\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    getBlockUserList();\r\n  }, []);\r\n\r\n  const getBlockUserList = () => {\r\n    const obj = {\r\n      method: \"block_user_list\",\r\n    };\r\n    setLoading(true);\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}user`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    }).then((res) => {\r\n      res.json().then((response) => {\r\n        if (response.status === 1) {\r\n          setBlockUser(response.data);\r\n          setLoading(false);\r\n          // console.log(\".../....\", response)\r\n        } else {\r\n          // console.log(\"else\", response);\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  const unBlockUserClick = (blockUserId: number) => {\r\n    const obj = {\r\n      method: \"unblock_user\",\r\n      blocked_user: blockUserId,\r\n    };\r\n    setLoading(true);\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}user`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    }).then((res) => {\r\n      res.json().then((response) => {\r\n        if (response.status === 1) {\r\n          setBlockUser(response.data);\r\n          setLoading(false);\r\n          getBlockUserList();\r\n          // console.log(\"un block\", response)\r\n        } else {\r\n          // console.log(\"else\", response);\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"edup-content\">\r\n        <div className=\"block-list-div\">\r\n          {loading ? (\r\n            <div className=\"w-full h-[100%] flex justify-center items-center\">\r\n              {\" \"}\r\n              <Loading size={100} />\r\n            </div>\r\n          ) : (\r\n            blockUser.map((item: any, index: number) => {\r\n              return (\r\n                <Fragment key={index}>\r\n                  <div className=\"block-u-div\">\r\n                    <div className=\"block-user-dp-name-div \">\r\n                      <UserIcon\r\n                        src={item.photo}\r\n                        popups={undefined}\r\n                        popupval={undefined}\r\n                        setPopupLike={undefined}\r\n                        popupLike={undefined}\r\n                        setPopupExplore={undefined}\r\n                      />\r\n                      <span className=\"block-user-name\">{item.name}</span>\r\n                    </div>\r\n                    <div className=\"block-btn-div\">\r\n                      <button\r\n                        className=\"block-btn\"\r\n                        onClick={() => unBlockUserClick(item.blocked_user_id)}\r\n                      >\r\n                        Unblock\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </Fragment>\r\n              );\r\n            })\r\n          )}\r\n          {/* </div> */}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BlockUsers;\r\n"],"names":["BlockUsers","blockUser","setBlockUser","useState","user","useSelector","state","token","loading","setLoading","useEffect","getBlockUserList","obj","res","response","unBlockUserClick","blockUserId","jsx","Fragment","jsxs","Loading","item","index","UserIcon"],"mappings":"6JAIA,MAAMA,EAAa,IAAM,CACvB,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAA,SAAc,CAAE,CAAA,EAE5C,CAAE,KAAAC,CAAK,EAAIC,EAAaC,GAAeA,EAAM,SAAS,EACtDC,EAAQH,GAAA,YAAAA,EAAM,MAEd,CAACI,EAASC,CAAU,EAAIN,WAAkB,EAAK,EAErDO,EAAAA,UAAU,IAAM,CACGC,GACnB,EAAG,CAAE,CAAA,EAEL,MAAMA,EAAmB,IAAM,CAC7B,MAAMC,EAAM,CACV,OAAQ,iBAAA,EAEVH,EAAW,EAAI,EACT,MAAA,yCAA0C,CAC9C,OAAQ,OACR,QAAS,CACP,OAAQ,mBACR,YAAa,mBACb,QAAS,QACT,MAAO,UAAUF,GACnB,EACA,KAAM,KAAK,UAAUK,CAAG,CAAA,CACzB,EAAE,KAAMC,GAAQ,CACfA,EAAI,KAAK,EAAE,KAAMC,GAAa,CACxBA,EAAS,SAAW,IACtBZ,EAAaY,EAAS,IAAI,EAC1BL,EAAW,EAAK,EAIlB,CACD,CAAA,CACF,CAAA,EAGGM,EAAoBC,GAAwB,CAChD,MAAMJ,EAAM,CACV,OAAQ,eACR,aAAcI,CAAA,EAEhBP,EAAW,EAAI,EACT,MAAA,yCAA0C,CAC9C,OAAQ,OACR,QAAS,CACP,OAAQ,mBACR,YAAa,mBACb,QAAS,QACT,MAAO,UAAUF,GACnB,EACA,KAAM,KAAK,UAAUK,CAAG,CAAA,CACzB,EAAE,KAAMC,GAAQ,CACfA,EAAI,KAAK,EAAE,KAAMC,GAAa,CACxBA,EAAS,SAAW,IACtBZ,EAAaY,EAAS,IAAI,EAC1BL,EAAW,EAAK,EACCE,IAInB,CACD,CAAA,CACF,CAAA,EAGH,OAEIM,EAAAC,EAAA,CAAA,SAAAD,EAAC,MAAI,CAAA,UAAU,eACb,SAAAA,EAAC,MAAI,CAAA,UAAU,iBACZ,SAAAT,EACEW,EAAA,MAAA,CAAI,UAAU,mDACZ,SAAA,CAAA,IACDF,EAACG,EAAQ,CAAA,KAAM,GAAK,CAAA,CAAA,CAAA,CACtB,EAEAnB,EAAU,IAAI,CAACoB,EAAWC,MAErBJ,WAAA,CACC,SAACC,EAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAF,EAACM,EAAA,CACC,IAAKF,EAAK,MACV,OAAQ,OACR,SAAU,OACV,aAAc,OACd,UAAW,OACX,gBAAiB,MAAA,CACnB,EACCJ,EAAA,OAAA,CAAK,UAAU,kBAAmB,WAAK,KAAK,CAAA,EAC/C,EACAA,EAAC,MAAI,CAAA,UAAU,gBACb,SAAAA,EAAC,SAAA,CACC,UAAU,YACV,QAAS,IAAMF,EAAiBM,EAAK,eAAe,EACrD,SAAA,SAAA,CAAA,EAGH,CAAA,EACF,GArBaC,CAsBf,CAEH,CAGL,CAAA,EACF,CACF,CAAA,CAEJ"}