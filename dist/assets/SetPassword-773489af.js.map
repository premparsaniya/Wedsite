{"version":3,"file":"SetPassword-773489af.js","sources":["../../src/pages/SetPassword.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { BTN } from '~/components';\r\nimport { BLACK_LOGO } from '../assets'\r\nimport MyLoading from '../components/MyLoading'\r\n\r\nconst SetPassword = () => {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    const [pass, setPass] = useState<string>(\"\");\r\n    const [confPass, setConfPass] = useState<string>(\"\")\r\n    const [error, setError] = useState<string>(\"\");\r\n    const [myLoading, setMyLoading] = useState<boolean>(false);\r\n\r\n    const updatePass = () => {\r\n\r\n        setError(\"\")\r\n        if (pass === confPass) {\r\n            const setPassData = {\r\n                method: \"set_new_password\",\r\n                email: `${location.state.email}`,\r\n                user_id: `${location.state.userId}`,\r\n                password: confPass,\r\n            };\r\n\r\n            setMyLoading(true);\r\n\r\n            fetch(`${import.meta.env.VITE_PUBLIC_URL}login`, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    Accept: \"application/Json\",\r\n                    \"Content-Type\": \"application/Json\",\r\n                    version: \"1.0.0\",\r\n                },\r\n                body: JSON.stringify(setPassData),\r\n            })\r\n                .then((result) => {\r\n                    result.json().then((res) => {\r\n                        if (res.status === 1) {\r\n                            navigate(\"/login\");\r\n                        } else {\r\n                            setError(res.message);\r\n                        }\r\n                        setMyLoading(false);\r\n                    });\r\n                })\r\n                .catch(() => { });\r\n        }\r\n        else {\r\n            toast.error(\"Password doesn't match\", { position: \"top-center\", autoClose: 1000 });\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <section className=\"login-main-sec\" >\r\n                <div className=\"root-container\">\r\n                    <div className=\"box-cp\">\r\n                        <div className=\"cp-insta-logo \">\r\n                            <img src={BLACK_LOGO} className=\"cp-logo\" alt=\"hh\"></img>\r\n                        </div>\r\n                        <div className=\"cp-heading-div\" >\r\n                            <span className=\"cp-text-heading\">Generate password</span>\r\n                            <span className=\"cp-text\">Create a new password and please never share anyone for safe use.</span>\r\n                        </div>\r\n                        <div className=\"cp-inp\" >\r\n                            <input\r\n                                type=\"password\"\r\n                                placeholder=\"Enter new password\"\r\n                                onChange={(e) => { setPass(e.target.value), setError(\"\") }}\r\n                                value={pass}\r\n                                className=\"u-inp\"\r\n                            />\r\n                            <input\r\n                                type=\"password\"\r\n                                placeholder=\"Enter confirm new password\"\r\n                                onChange={(e) => { setConfPass(e.target.value), setError(\"\") }}\r\n                                value={confPass}\r\n                                className=\"p-inp\"\r\n                            />\r\n                            <BTN\r\n                                className=\"px-30\"\r\n                                onP={updatePass}\r\n                                loading={myLoading}\r\n                                title=\"Update password\"\r\n                                disabled={\r\n                                    myLoading || (confPass !== \"\" && pass !== \"\")\r\n                                        ? false\r\n                                        : true\r\n                                }\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    {error ? (\r\n                        <div className=\"cp-error-box\">\r\n                            <h1>{error}</h1>\r\n                        </div>\r\n                    ) : null}\r\n                </div>\r\n            </section>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SetPassword"],"names":["SetPassword","navigate","useNavigate","location","useLocation","pass","setPass","useState","confPass","setConfPass","error","setError","myLoading","setMyLoading","jsx","Fragment","jsxs","BLACK_LOGO","BTN","setPassData","result","res","toast"],"mappings":"mNAOA,MAAMA,EAAc,IAAM,CACtB,MAAMC,EAAWC,IACXC,EAAWC,IAEX,CAACC,EAAMC,CAAO,EAAIC,WAAiB,EAAE,EACrC,CAACC,EAAUC,CAAW,EAAIF,WAAiB,EAAE,EAC7C,CAACG,EAAOC,CAAQ,EAAIJ,WAAiB,EAAE,EACvC,CAACK,EAAWC,CAAY,EAAIN,WAAkB,EAAK,EAyCrD,OAAAO,EAAAC,EAAA,CACI,WAAC,UAAQ,CAAA,UAAU,iBACf,SAACC,EAAA,MAAA,CAAI,UAAU,iBACX,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,SACX,SAAA,CAACF,EAAA,MAAA,CAAI,UAAU,iBACX,SAACA,EAAA,MAAA,CAAI,IAAKG,EAAY,UAAU,UAAU,IAAI,IAAK,CAAA,EACvD,EACAD,EAAC,MAAI,CAAA,UAAU,iBACX,SAAA,CAACF,EAAA,OAAA,CAAK,UAAU,kBAAkB,SAAiB,oBAAA,EAClDA,EAAA,OAAA,CAAK,UAAU,UAAU,SAAiE,oEAAA,CAAA,EAC/F,EACAE,EAAC,MAAI,CAAA,UAAU,SACX,SAAA,CAAAF,EAAC,QAAA,CACG,KAAK,WACL,YAAY,qBACZ,SAAW,GAAM,CAAER,EAAQ,EAAE,OAAO,KAAK,EAAGK,EAAS,EAAE,CAAE,EACzD,MAAON,EACP,UAAU,OAAA,CACd,EACAS,EAAC,QAAA,CACG,KAAK,WACL,YAAY,6BACZ,SAAW,GAAM,CAAEL,EAAY,EAAE,OAAO,KAAK,EAAGE,EAAS,EAAE,CAAE,EAC7D,MAAOH,EACP,UAAU,OAAA,CACd,EACAM,EAACI,EAAA,CACG,UAAU,QACV,IAnET,IAAM,CAGrB,GADAP,EAAS,EAAE,EACPN,IAASG,EAAU,CACnB,MAAMW,EAAc,CAChB,OAAQ,mBACR,MAAO,GAAGhB,EAAS,MAAM,QACzB,QAAS,GAAGA,EAAS,MAAM,SAC3B,SAAUK,CAAA,EAGdK,EAAa,EAAI,EAEX,MAAA,0CAA2C,CAC7C,OAAQ,OACR,QAAS,CACL,OAAQ,mBACR,eAAgB,mBAChB,QAAS,OACb,EACA,KAAM,KAAK,UAAUM,CAAW,CAAA,CACnC,EACI,KAAMC,GAAW,CACdA,EAAO,KAAK,EAAE,KAAMC,GAAQ,CACpBA,EAAI,SAAW,EACfpB,EAAS,QAAQ,EAEjBU,EAASU,EAAI,OAAO,EAExBR,EAAa,EAAK,CAAA,CACrB,CAAA,CACJ,EACA,MAAM,IAAM,CAAA,CAAG,CAAA,MAGpBS,EAAM,MAAM,yBAA0B,CAAE,SAAU,aAAc,UAAW,IAAM,CACrF,EAgCwB,QAASV,EACT,MAAM,kBACN,SACI,EAAAA,GAAcJ,IAAa,IAAMH,IAAS,GAEpC,CAEd,CAAA,EACJ,CAAA,EACJ,EACCK,IACI,MAAI,CAAA,UAAU,eACX,SAACI,EAAA,KAAA,CAAI,SAAMJ,CAAA,CAAA,CAAA,CACf,EACA,IAAA,EACR,EACJ,CACJ,CAAA,CAER"}