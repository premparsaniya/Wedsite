{"version":3,"file":"Login-aeb7ff6c.js","sources":["../../src/pages/Login.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { BTN, DownBox } from \"../components/index\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { LoginUser } from \"../reduxState/action\";\n// import MyLoading from \"../components/MyLoading\";\nimport { BLACK_LOGO } from \"../assets\";\n\nconst Login = () => {\n  // const { user } = useSelector((state: any) => state.UserLogin);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [un, setUN] = useState<string>(\"\");\n  const [pass, setPass] = useState<string>(\"\");\n  const [error, setError] = useState<string>(\"\");\n  const [terms, setTerms] = useState<boolean>(false);\n  const [myLoading, setMyLoading] = useState<boolean>(false);\n\n  const goHome = () => {\n    setError(\"\");\n    if (un !== \"\" && pass !== \"\") {\n      const loginUserObj = {\n        username: un,\n        password: pass,\n        method: \"do_login\",\n      };\n      setMyLoading(true);\n      fetch(`${import.meta.env.VITE_API_URL}login`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-type\": \"application/json\",\n          version: \"1.0.0\",\n          // token: `Bearer ${token}`,\n          // 'Access-Control-Allow-Origin' : \"*\",\n        },\n        body: JSON.stringify(loginUserObj),\n      })\n        .then((result) => {\n          result.json().then((response) => {\n            if (response.status === 1) {\n              // setNavBAck(\"1\");\n              convertResponse(response);\n              // console.log(\"Responce IF\", response);\n            } else {\n              setError(response.message);\n            }\n            setMyLoading(false);\n          });\n        })\n        .catch(() => {\n          setMyLoading(false);\n          setError(\"Check your Network...\");\n        });\n    }\n  };\n\n  const convertResponse = (res: any) => {\n    const obj = {\n      data: {\n        name: res?.data.name,\n        email: res?.data.email,\n        bio: res?.data.bio,\n        dob: res?.data.dob,\n        gender: res?.data.gender,\n        mobile: res?.data.mobile,\n        profile_status: res?.data.profile_status,\n        token: res?.extra.token,\n        photo: res?.data.photo,\n        user_id: res?.data.user_id,\n        user_type: res?.data.user_type,\n        status: res?.data.status,\n        is_password_set: res?.data.is_password_set,\n        total_followers: res?.data.total_followers,\n        total_followings: res?.data.total_followings,\n        total_follow_requests: res?.data.total_follow_requests,\n        noti_badge_count: res?.data.noti_badge_count,\n        settings: {\n          profile: res?.data.settings.profile,\n          notification: res?.data.settings.notification,\n          preference: res?.data.settings.preference,\n          activity: res?.data.settings.activity,\n          check_in: res?.data.settings.check_in,\n          level: res?.data.settings.level,\n          phase: res?.data.settings.phase,\n          streak_days: res?.data.settings.streak_days,\n        },\n        activity_instructions: res?.data.activity_instructions,\n        posts: [\n          {\n            // total_post: res?.data.posts.total_post,\n            reference_post: [],\n          },\n        ],\n      },\n      token: res?.extra.token,\n      session_id: res?.session_id,\n      message: res?.message,\n      status: res?.status,\n    };\n    dispatch(LoginUser(obj));\n    navigate(\"/\");\n  };\n\n  const forgot = () => {\n    navigate(\"/reset\");\n  };\n\n  return (\n    <>\n      <section className=\"login-main-sec\">\n        <div className=\"root-container\">\n          <div className=\"box-l\">\n            <div className=\"insta-logo \">\n              <img src={BLACK_LOGO} className=\"login-logo\" alt=\"hh\"></img>\n            </div>\n            <div\n              className=\"login-inp d-f\"\n              style={{ justifyContent: \"space-between\" }}\n            >\n              <input\n                type=\"email\"\n                placeholder=\"Email \"\n                onChange={(e) => {\n                  setUN(e.target.value), setError(\"\");\n                }}\n                value={un}\n                className=\"u-inp\"\n              />\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                onChange={(e) => {\n                  setPass(e.target.value), setError(\"\");\n                }}\n                value={pass}\n                className=\"p-inp my-2.5\"\n              />\n              <div className=\"login-forgot-psw\">\n                <span style={{ fontSize: \"15px\" }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={terms}\n                    className=\"login-checkbox\"\n                    onChange={({ target }) => { setTerms(target.checked); setError(\"\"); }}\n                    onKeyDown={(e) => { if (e.key === 'Enter') { goHome() } }}\n                  />{\" \"}\n                  <Link className=\"ml-2\" to=\"/Terms_and_Conditions\">Terms and Conditions</Link>\n                </span>\n                <span\n                  className=\"login-fp-span\"\n                  style={{ fontSize: \"15px\" }}\n                  onClick={() => forgot()}\n                >\n                  Forgot Password?\n                </span>\n              </div>\n              <BTN\n                className=\"px-32\"\n                onP={goHome}\n                loading={myLoading}\n                title=\"Log In\"\n                disabled={\n                  myLoading || (un !== \"\" && pass !== \"\" && terms)\n                    ? false\n                    : true\n                }\n              />\n            </div>\n          </div>\n          <DownBox\n            text={`Don't have an account?`}\n            className={\"l-under-box\"}\n            linkName={`Sign Up`}\n            page={`/signup`}\n          />\n          {error ? (\n            <div className=\"login-error-box\">\n              <h1>{error}</h1>\n            </div>\n          ) : null}\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default Login;\n"],"names":["Login","dispatch","useDispatch","navigate","useNavigate","un","setUN","useState","pass","setPass","error","setError","terms","setTerms","myLoading","setMyLoading","goHome","loginUserObj","result","response","convertResponse","res","obj","LoginUser","forgot","jsx","Fragment","jsxs","BLACK_LOGO","e","target","Link","BTN","DownBox"],"mappings":"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"}