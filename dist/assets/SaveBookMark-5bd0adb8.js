import{r as c,a as n,F as f,j as i}from"./jsx-runtime-89a93595.js";import{u as L,c as E,e as M,s as S,B as I,k as R,ay as y,l as T}from"./EmojiBoard-d3fa8393.js";import{E as z}from"./Empty-0bf29612.js";import"./web3.min-cf08a409.js";const J=()=>{const{user:l}=L(a=>a.UserLogin),e=L(a=>a==null?void 0:a.PostListReducer),j=l==null?void 0:l.token,h=10,[m,p]=c.useState(!1),[B,g]=c.useState(!1),[o,k]=c.useState(!1),[r,P]=c.useState(1),C=E(),v=M(),_=()=>{C(-1)};c.useEffect(()=>{u()},[r]);const u=()=>{r===1&&g(!0),k(!0);const a={method:"get_post_list",user_id:l.data.user_id,page:r,limit:h,filter_by:{bookmark:1}};fetch("https://nwo.capital/app/state/api/post",{method:"POST",headers:{accept:"application/json",contentType:"application/json",version:"1.0.0",token:`Bearer ${j}`},body:JSON.stringify(a)}).then(s=>{s.json().then(t=>{var N;if(console.log("bm --->",t),t.status===1){g(!1);let O=h,x=(N=t==null?void 0:t.data)==null?void 0:N.length;if(p(x>=O),r===1)v(S(t==null?void 0:t.data));else{let b=[...e];t!=null&&t.data&&b.push(...t==null?void 0:t.data),v(S(b))}}})}).finally(()=>k(!1))},d=c.useRef(),w=c.useCallback(a=>{o||(d.current&&d.current.disconnect(),d.current=new IntersectionObserver(s=>{s[0].isIntersecting&&m&&P(t=>t+1)}),a&&d.current.observe(a))},[o,m]);return n(f,{children:[n("div",{className:"sb-header-div",children:[i("img",{src:I,alt:"back",className:"back-arrow",onClick:_}),i("span",{className:"page-title-span",children:"Save Bookmark"})]}),B?i("div",{className:"w-full h-[50vh] flex justify-center items-center",children:i(R,{size:100})}):(e==null?void 0:e.length)===0?n(f,{children:[" ",n("div",{className:"no-video-div",children:[i("img",{src:z,alt:"EMpty",className:"no-video-icon"}),i("span",{className:"no-video-span",children:"No Videos"})]})]}):i(f,{children:n("div",{className:"sb-content-div",children:[(e==null?void 0:e.length)>0?e.map((a,s)=>(e==null?void 0:e.length)===s+1?i(y,{index:s,item:a,ref:w,getBookMarkList:u},s):i(y,{index:s,item:a,getBookMarkList:u},s)):!o&&i("p",{children:"No users yet !!"}),o&&i(T,{isLoading:!0,colClass:"text-black",size:10,className:"mb-4 w-full flex justify-center items-center"})]})})]})};export{J as default};
//# sourceMappingURL=SaveBookMark-5bd0adb8.js.map
