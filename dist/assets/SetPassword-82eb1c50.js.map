{"version":3,"file":"SetPassword-82eb1c50.js","sources":["../../src/pages/SetPassword.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { BTN } from '~/components';\nimport { BLACK_LOGO } from '../assets'\nimport MyLoading from '../components/MyLoading'\n\nconst SetPassword = () => {\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    const [pass, setPass] = useState<string>(\"\");\n    const [confPass, setConfPass] = useState<string>(\"\")\n    const [error, setError] = useState<string>(\"\");\n    const [myLoading, setMyLoading] = useState<boolean>(false);\n\n    const updatePass = () => {\n\n        setError(\"\")\n        if (pass === confPass) {\n            const setPassData = {\n                method: \"set_new_password\",\n                email: `${location.state.email}`,\n                user_id: `${location.state.userId}`,\n                password: confPass,\n            };\n\n            setMyLoading(true);\n\n            fetch(`${import.meta.env.VITE_API_URL}login`, {\n                method: \"POST\",\n                headers: {\n                    Accept: \"application/Json\",\n                    \"Content-Type\": \"application/Json\",\n                    version: \"1.0.0\",\n                },\n                body: JSON.stringify(setPassData),\n            })\n                .then((result) => {\n                    result.json().then((res) => {\n                        if (res.status === 1) {\n                            navigate(\"/login\");\n                        } else {\n                            setError(res.message);\n                        }\n                        setMyLoading(false);\n                    });\n                })\n                .catch(() => { });\n        }\n        else {\n            toast.error(\"Password doesn't match\", { position: \"top-center\", autoClose: 1000 });\n        }\n    }\n    return (\n        <>\n            <section className=\"login-main-sec\" >\n                <div className=\"root-container\">\n                    <div className=\"box-cp\">\n                        <div className=\"cp-insta-logo \">\n                            <img src={BLACK_LOGO} className=\"cp-logo\" alt=\"hh\"></img>\n                        </div>\n                        <div className=\"cp-heading-div\" >\n                            <span className=\"cp-text-heading\">Generate password</span>\n                            <span className=\"cp-text\">Create a new password and please never share anyone for safe use.</span>\n                        </div>\n                        <div className=\"cp-inp\" >\n                            <input\n                                type=\"password\"\n                                placeholder=\"Enter new password\"\n                                onChange={(e) => { setPass(e.target.value), setError(\"\") }}\n                                value={pass}\n                                className=\"u-inp\"\n                            />\n                            <input\n                                type=\"password\"\n                                placeholder=\"Enter confirm new password\"\n                                onChange={(e) => { setConfPass(e.target.value), setError(\"\") }}\n                                value={confPass}\n                                className=\"p-inp\"\n                            />\n                            <BTN\n                                className=\"px-30\"\n                                onP={updatePass}\n                                loading={myLoading}\n                                title=\"Update password\"\n                                disabled={\n                                    myLoading || (confPass !== \"\" && pass !== \"\")\n                                        ? false\n                                        : true\n                                }\n                            />\n                        </div>\n                    </div>\n                    {error ? (\n                        <div className=\"cp-error-box\">\n                            <h1>{error}</h1>\n                        </div>\n                    ) : null}\n                </div>\n            </section>\n        </>\n    )\n}\n\nexport default SetPassword"],"names":["SetPassword","navigate","useNavigate","location","useLocation","pass","setPass","useState","confPass","setConfPass","error","setError","myLoading","setMyLoading","jsx","Fragment","jsxs","BLACK_LOGO","BTN","setPassData","result","res","toast"],"mappings":"mNAOA,MAAMA,EAAc,IAAM,CACtB,MAAMC,EAAWC,IACXC,EAAWC,IAEX,CAACC,EAAMC,CAAO,EAAIC,WAAiB,EAAE,EACrC,CAACC,EAAUC,CAAW,EAAIF,WAAiB,EAAE,EAC7C,CAACG,EAAOC,CAAQ,EAAIJ,WAAiB,EAAE,EACvC,CAACK,EAAWC,CAAY,EAAIN,WAAkB,EAAK,EAyCrD,OAAAO,EAAAC,EAAA,CACI,WAAC,UAAQ,CAAA,UAAU,iBACf,SAACC,EAAA,MAAA,CAAI,UAAU,iBACX,SAAA,CAACA,EAAA,MAAA,CAAI,UAAU,SACX,SAAA,CAACF,EAAA,MAAA,CAAI,UAAU,iBACX,SAACA,EAAA,MAAA,CAAI,IAAKG,EAAY,UAAU,UAAU,IAAI,IAAK,CAAA,EACvD,EACAD,EAAC,MAAI,CAAA,UAAU,iBACX,SAAA,CAACF,EAAA,OAAA,CAAK,UAAU,kBAAkB,SAAiB,oBAAA,EAClDA,EAAA,OAAA,CAAK,UAAU,UAAU,SAAiE,oEAAA,CAAA,EAC/F,EACAE,EAAC,MAAI,CAAA,UAAU,SACX,SAAA,CAAAF,EAAC,QAAA,CACG,KAAK,WACL,YAAY,qBACZ,SAAW,GAAM,CAAER,EAAQ,EAAE,OAAO,KAAK,EAAGK,EAAS,EAAE,CAAE,EACzD,MAAON,EACP,UAAU,OAAA,CACd,EACAS,EAAC,QAAA,CACG,KAAK,WACL,YAAY,6BACZ,SAAW,GAAM,CAAEL,EAAY,EAAE,OAAO,KAAK,EAAGE,EAAS,EAAE,CAAE,EAC7D,MAAOH,EACP,UAAU,OAAA,CACd,EACAM,EAACI,EAAA,CACG,UAAU,QACV,IAnET,IAAM,CAGrB,GADAP,EAAS,EAAE,EACPN,IAASG,EAAU,CACnB,MAAMW,EAAc,CAChB,OAAQ,mBACR,MAAO,GAAGhB,EAAS,MAAM,QACzB,QAAS,GAAGA,EAAS,MAAM,SAC3B,SAAUK,CAAA,EAGdK,EAAa,EAAI,EAEX,MAAA,0CAAwC,CAC1C,OAAQ,OACR,QAAS,CACL,OAAQ,mBACR,eAAgB,mBAChB,QAAS,OACb,EACA,KAAM,KAAK,UAAUM,CAAW,CAAA,CACnC,EACI,KAAMC,GAAW,CACdA,EAAO,KAAK,EAAE,KAAMC,GAAQ,CACpBA,EAAI,SAAW,EACfpB,EAAS,QAAQ,EAEjBU,EAASU,EAAI,OAAO,EAExBR,EAAa,EAAK,CAAA,CACrB,CAAA,CACJ,EACA,MAAM,IAAM,CAAA,CAAG,CAAA,MAGpBS,EAAM,MAAM,yBAA0B,CAAE,SAAU,aAAc,UAAW,IAAM,CACrF,EAgCwB,QAASV,EACT,MAAM,kBACN,SACI,EAAAA,GAAcJ,IAAa,IAAMH,IAAS,GAEpC,CAEd,CAAA,EACJ,CAAA,EACJ,EACCK,IACI,MAAI,CAAA,UAAU,eACX,SAACI,EAAA,KAAA,CAAI,SAAMJ,CAAA,CAAA,CAAA,CACf,EACA,IAAA,EACR,EACJ,CACJ,CAAA,CAER"}