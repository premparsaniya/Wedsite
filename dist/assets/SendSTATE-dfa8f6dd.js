import{r as i,a as l,j as t}from"./jsx-runtime-911a162d.js";import{a as M,aE as V,aF as P,aq as F,aL as L,Q as y}from"./EmojiBoard-9ff11c42.js";import{I as k}from"./index-79255bbd.js";import{A as B,T as f}from"./AvailableBalanceCard-df6bca73.js";import{W as D}from"./web3.min-e56af654.js";import"./index-3309fe6c.js";const{VITE_STATE_COIN_CONTRACT_ABI:U,VITE_STATE_COIN_CONTRACT_ADDRESS:H}={VITE_API_URL:"https://nwo.capital/app/state/api/",VITE_ENCRIPT_KEY:"PublicaeSTATE",VITE_MAINNET_URL:"https://mainnet.infura.io/v3/",VITE_MAINNET_INFURA_KEY:"8d0b5f5b3c5e4c3e9c1b1b0b8b0b0b0b",VITE_INFURA_KEY:"8ef07902c67b45b6b16df2f5cb85adff",VITE_GOERIL_TEST_URL:"https://goerli.infura.io/v3/",VITE_GOERIL_TEST_INFURA_KEY:"8ef07902c67b45b6b16df2f5cb85adff",VITE_BALANCE_STATE_COIN:"https://api.coingecko.com/api/v3/simple/token_price/ethereum?contract_addresses=",VITE_BALANCE_ETH_COIN:"https://api.etherscan.io/api?module=stats&action=ethprice&apikey=",VITE_EHTER_SCAN_API_KEY:"8VAG1Q1FGH2EBP8RI7NF7IQR111ZI58TJX",VITE_MAINNET_ETH_COIN_TRANSACTION_HISTORY_API:"https://api.etherscan.io/api?module=account&action=txlist&address=",VITE_MAINNET_STATE_COIN_TRANSACTION_HISTORY_API:"https://api.etherscan.io/api?module=account&action=tokentx&contractaddress=",VITE_GOERIL_ETH_COIN_TRANSACTION_HISTORY_API:"https://api-goerli.etherscan.io/api?module=account&action=txlist&address=",VITE_GOERIL_TEST_STATE_COIN_TRANSACTION_HISTORY_API:"https://api-goerli.etherscan.io/api?module=account&action=tokentx&contractaddress=",VITE_SWAP_COIN_URL:"https://app.zerion.io/swap?inputCurrency=0x00c2999c8b2adf4abc835cc63209533973718eb1",VITE_NFT_API_URL:"https://api.rarible.org/v0.1/items/byOwnerWithOwnership?owner=ETHEREUM:",VITE_NFT_ITEM_API_URL:"https://api.rarible.org/v0.1/items/",VITE_NFT_OWNERSHIP_API_URL:"https://api.rarible.org/v0.1/ownerships/",VITE_STATE_COIN_CONTRACT_ADDRESS:"0x00C2999c8B2AdF4ABC835cc63209533973718eB1",VITE_MAINNET_ETH_COIN_TRANSACTION_RECEIPT_API:"https://api.etherscan.io/api?module=transaction&action=gettxreceiptstatus&txhash=",VITE_GOERIL_ETH_COIN_TRANSACTION_RECEIPT_API:"https://api-goerli.etherscan.io/api?module=transaction&action=gettxreceiptstatus&txhash=",VITE_STATE_COIN_CONTRACT_ABI:'[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"delegator","type":"address"},{"indexed":true,"internalType":"address","name":"fromDelegate","type":"address"},{"indexed":true,"internalType":"address","name":"toDelegate","type":"address"}],"name":"DelegateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"delegate","type":"address"},{"indexed":false,"internalType":"uint256","name":"previousBalance","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newBalance","type":"uint256"}],"name":"DelegateVotesChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"}],"name":"Snapshot","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"snapshotId","type":"uint256"}],"name":"balanceOfAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint32","name":"pos","type":"uint32"}],"name":"checkpoints","outputs":[{"components":[{"internalType":"uint32","name":"fromBlock","type":"uint32"},{"internalType":"uint224","name":"votes","type":"uint224"}],"internalType":"struct ERC20Votes.Checkpoint","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"delegatee","type":"address"}],"name":"delegate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"delegatee","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"uint256","name":"expiry","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"delegateBySig","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"delegates","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getPastTotalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getPastVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"getVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"numCheckpoints","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"snapshot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"snapshotId","type":"uint256"}],"name":"totalSupplyAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]',VITE_STATE_COIN_MARKET_DATA:"https://api.coingecko.com/api/v3/coins/ethereum/contract/",VITE_FIRE_API_KEY:"AIzaSyAmUQrwx57wwbgMTeu71CnJg8acp2Sllhk",VITE_FIRE_AUTH_DOM:"newworldorder-46319.firebaseapp.com",VITE_FIRE_DB_URL:"https://newworldorder-46319-default-rtdb.firebaseio.com",VITE_FIRE_PRJ_ID:"newworldorder-46319",VITE_FIRE_STG_BKT:"newworldorder-46319.appspot.com",VITE_FIRE_MSG_ID:"65383464540",VITE_FIRE_APP_ID:"1:65383464540:web:a81a75e6c7b8cb8166b099",VITE_FIRE_MESG_ID:"G-QZGJ2KEYYL",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},Q=()=>{const{state:{myWallet:{isMainNet:I,address:o,privateKey:d}}}=i.useContext(M),u=new D(I===!0?V:P),[n,E]=i.useState(""),[s,m]=i.useState(""),[A,b]=i.useState(!1),[_,h]=i.useState(0),[x,N]=i.useState(),[g,w]=i.useState("0"),S=async()=>{const p=new u.eth.Contract(JSON.parse(U),H).methods.transfer(n,L(s,"18")).encodeABI();let a={from:o||"",to:n,nonce:x,gas:21e3,gasPrice:g,data:p};d&&o&&u.eth.accounts.signTransaction(a,d,(c,r)=>{if(c){console.error("err:",c);return}console.log("result",r),r!=null&&r.rawTransaction?u.eth.sendSignedTransaction(r==null?void 0:r.rawTransaction).then(({transactionHash:T})=>{console.log("transactionHash",T)}).catch(T=>{console.error("err:::",T)}):console.error(":::_err_:::",c)})};function C(){var e,p,a;if(((e=n==null?void 0:n.trim())==null?void 0:e.length)===0){y.error("Please enter address",{position:"top-center"});return}if(((p=n==null?void 0:n.trim())==null?void 0:p.length)!==42){y.error("Please enter valid address",{position:"top-center"});return}if(((a=s==null?void 0:s.trim())==null?void 0:a.length)===0){y.error("Please enter amount",{position:"top-center"});return}if(Number(s)<=0){y.error("Please enter valid amount",{position:"top-center"});return}b(!0)}function v(){b(!1)}i.useEffect(()=>{(d||o)===null||(O(),R())},[o]);async function R(){return o?await u.eth.getTransactionCount(o).then(e=>(N(e),console.log("nonce",e),e)):void 0}async function O(){return await u.eth.getGasPrice().then(e=>{w(e);let p=u.utils.fromWei(e,"ether"),a=parseFloat(p)*21e3;return console.log("gasFees::::",a),h(a),console.log("gasFees",a),a})}return l("div",{className:"flex flex-col items-center min-h-screen py-20 bg-white min-w-screen px-3.5",children:[t(B,{}),t("span",{className:"font-lato font-bold text-xl text-center text-black mx-[2%] mt-[2%] mb-2",children:"Please fill in the form below to send STATE"}),t(f,{pHolder:"Address",val:n,onChangeT:E}),t(f,{pHolder:"Amount",val:s,onChangeT:e=>{if(e==="--"||e==="-"||e===""){m("");return}else{if(parseFloat(e)<0){m("");return}m(e)}},rLabel:"STATE",type:"number",min:0}),t(F,{title:"Send STATE",className:"mt-8 px-[7%] text-base",onP:C}),l(k,{visible:A,onClose:v,saveBtnTxt:"Send",onSave:S,title:"Confirm Transaction",subClass:"w-[100%] mx-1 sm:mx-10 ",children:[l("div",{className:"flex justify-between border-t-[1px] border-gray-300 px-4 pt-2",children:[t("span",{className:"text-sm text-gray-600 md:text-base",children:"Amount"}),t("span",{className:"block text-[14px] md:text-lg font-lato",children:s})]}),l("div",{className:"flex justify-between px-4 pt-2 border-gray-300",children:[t("span",{className:"text-sm text-gray-600 md:text-base Estimated gas fee",children:"Estimated gas fee"}),t("span",{className:"block text-[14px] md:text-lg font-lato",children:_.toFixed(12)})]}),l("div",{className:"flex justify-between px-4 pt-4 border-t-[1px] border-black mt-4",children:[t("span",{className:"text-sm text-agray-600 md:text-base",children:"Total"}),t("span",{className:"block text-[14px] md:text-lg font-lato",children:(parseFloat(s)+_).toFixed(12)})]})]})]})};export{Q as default};
//# sourceMappingURL=SendSTATE-dfa8f6dd.js.map
