import{r as o,a,j as e,F as R}from"./jsx-runtime-89a93595.js";import{S as ce}from"./settings_black-b7df1623.js";import{u as J,c as L,b as S,D,ar as j,e as ie,a as le,Q as oe,L as de,h as re,j as pe,as as me,av as Y}from"./EmojiBoard-d3fa8393.js";import"./web3.min-cf08a409.js";import{H as he}from"./index-08fdccfb.js";import{N as r}from"./index-bc563521.js";import{C as ue}from"./close_round_icon-3cf23f63.js";import ge from"./AboutUs-5d2ba494.js";import Ne from"./BlockUsers-60ebc8c1.js";import ve from"./DeleteAccount-7f29f41b.js";import fe from"./HiddenPost-69d8f124.js";import ye from"./PrivacyPolicy-c387c49f.js";import Ce from"./SaveBookMark-5bd0adb8.js";import"./index-2e4736b8.js";import"./Empty-0bf29612.js";const z="/assets/eye_off-233723d8.svg",$="/assets/password-ad8b92a8.svg",G="/assets/profile_setting-4f618186.svg",H="/assets/settings-89211f9e.svg",K="/assets/bookmark_gray-20f6c173.svg",W="/assets/block-2315b9d7.svg",Q="/assets/info-3e139d12.svg",be=()=>{const{user:s}=J(d=>d.UserLogin),[i,l]=o.useState(""),t=L(),{id:c}=S(),[f,m]=o.useState(""),[y,C]=o.useState(""),[g,I]=o.useState(""),[p,k]=o.useState(!1),O=s==null?void 0:s.token,N=()=>{y===g?(k(!p),m("")):(k(!p),m("Current password and confirm password does not Match..."))},v=()=>{if(y===g){const d={method:"change_password",email:s.data.email,old_password:i,new_password:g,user_id:s.data.user_id};fetch("https://nwo.capital/app/state/api/profile",{method:"POST",headers:{accept:"application/json",contentType:"application/json",version:"1.0.0",token:`Bearer ${O}`},body:JSON.stringify(d)}).then(x=>{x.json().then(w=>{w.status===1&&t(`/uapp/ep/${c}/gen`),m(w.extra.message)})}).catch(x=>{m(x)})}else m("Current password and confirm password does not Match...")};return a("div",{className:"edup-content",children:[e("div",{style:{padding:"20px"}}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:e("img",{className:"cng-icon-img",src:s.data.photo,onError:d=>(d.target.onerror=null)||(d.target.src=D),alt:"hh",crossOrigin:"anonymous"})}),e("div",{className:"gen-pro-col ds-f",children:e("span",{className:"c0",children:s.data.name})})]}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:e("span",{className:"c0",children:"Email"})}),e("div",{className:"gen-pro-col ds-f",children:e("span",{children:e("input",{type:"email",className:"p-inp",value:s.data.email,disabled:!0})})})]}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:e("span",{className:"c0",children:"Old Pasword"})}),e("div",{className:"gen-pro-col ds-f",children:e("span",{children:e("input",{type:"password",className:"p-inp",value:i,onChange:d=>l(d.target.value)})})})]}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:e("span",{className:"c0",children:"New Pasword"})}),e("div",{className:"gen-pro-col ds-f",children:e("span",{children:e("input",{type:"password",className:"p-inp",value:y,onChange:d=>C(d.target.value)})})})]}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"cng-pro-row",children:e("span",{className:"c0",children:"Confirm New Pasword"})}),e("div",{className:"gen-pro-col ds-f",children:e("span",{children:e("input",{type:"password",className:"p-inp",value:g,onChange:d=>I(d.target.value)})})})]}),e("div",{className:"gen-pro-ed my-2.5",children:e("div",{className:"gen-pro-row-sub",children:a("span",{className:"c0",children:[e("input",{type:"checkbox",className:"cng-cb",checked:p,onChange:N}),e("label",{className:"c0",children:"Conform Your Details is Correct"})]})})}),f?e("div",{className:"gen-pro-ed my-2.5",children:e("div",{className:"gen-pro-row-sub",children:e("span",{className:"c0",children:e("label",{className:"c0",children:f})})})}):e(R,{children:p?e("div",{className:"mx-auto mt-2 ",children:e(j,{className:"px-32",onP:v,title:"Edit"})}):null})]})},ke=()=>{const s=o.useRef(null),{id:i}=S(),l=ie(),t=L(),{user:c}=J(n=>n.UserLogin),{dispatch:f}=o.useContext(le),[m,y]=o.useState(c.data.name),[C]=o.useState(c.data.email),[g,I]=o.useState(c.data.bio),[p,k]=o.useState(c.data.gender),[O,N]=o.useState(c.data.mobile),[v,d]=o.useState(!1),[x,w]=o.useState(""),[U,q]=o.useState(""),[B,V]=o.useState(new Date(c.data.dob)),[T,A]=o.useState(""),[F,P]=o.useState(!1),X=c==null?void 0:c.token,E=n=>{k(n.target.value)},Z=()=>{d(!v)},ee=n=>{n.preventDefault();let h=new FileReader,b=n.target.files[0];h.onloadend=()=>{w(b),q(h.result)},h.readAsDataURL(b)},ae=()=>{var n=new Date(B),h=""+(n.getMonth()+1),b=""+n.getDate(),ne=n.getFullYear();h.length<2&&(h="0"+h),b.length<2&&(b="0"+b);const te=[ne,h,b].join("-"),u=new FormData;u.append("method","set_profile"),u.append("name",m),u.append("email",C),u.append("gender",p),u.append("mobile",O),u.append("bio",g),u.append("photo",x),u.append("dob",te),u.append("user_id",i),P(!0),fetch("https://nwo.capital/app/state/api/profile",{method:"POST",headers:{version:"1.0.0",token:`Bearer ${X}`},body:u}).then(M=>{M.json().then(_=>{_.status===1&&(se(_),P(!1)),_.status===2?(oe.error("Your session is expired. Please login to access your account",{position:"top-center"}),l(de()),l(re()),t("/"),P(!1),pe(f)):A(_.message)})}).catch(M=>{A(M.message),P(!1)})},se=n=>{const h={...c,data:{...c.data,name:n==null?void 0:n.data.name,email:n==null?void 0:n.data.email,bio:n==null?void 0:n.data.bio,dob:n==null?void 0:n.data.dob,gender:n==null?void 0:n.data.gender,mobile:n==null?void 0:n.data.mobile,photo:n==null?void 0:n.data.photo}};l(me(h)),t(`/userprofile/${i}`)};return a("div",{className:"edup-content",children:[e("div",{style:{padding:"20px"},className:"padding-span"}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:U?e("img",{className:"gen-icon-img",src:U,crossOrigin:"anonymous",onError:n=>(n.target.onerror=null)||(n.target.src=D),alt:"hh"}):e("img",{className:"gen-icon-img",src:c.data.photo,crossOrigin:"anonymous",onError:n=>(n.target.onerror=null)||(n.target.src=D),alt:"hh"})}),a("div",{className:"gen-pro-col ds-f",children:[e("span",{className:"c0",children:c.data.name}),e("span",{className:"c1",children:a("button",{className:"gen-inp-btn",onClick:()=>{var n;(n=s.current)==null||n.click()},children:["Select Profile Image",e("input",{style:{display:"none"},hidden:!0,type:"file",ref:s,accept:"image/*",onChange:ee})]})})]})]}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:e("span",{className:"c0",children:"User Name"})}),e("div",{className:"gen-pro-col ds-f",children:e("input",{type:"text",className:"p-inp",value:m,onChange:n=>y(n.target.value)})})]}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:e("span",{className:"c0",children:"Email"})}),e("div",{className:"gen-pro-col ds-f",children:e("span",{children:e("input",{type:"text",className:"p-inp",value:C,disabled:!0})})})]}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:e("span",{className:"c0",children:"Bio"})}),e("div",{className:"gen-pro-col ds-f",children:e("span",{children:e("textarea",{className:"p-inp",value:g,onChange:n=>I(n.target.value)})})})]}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:e("span",{className:"c0",children:"Date of Birth"})}),e("div",{className:"gen-pro-col ds-f",children:e("span",{children:e(he,{selected:B,className:"p-inp",onChange:V,showMonthDropdown:!0,showYearDropdown:!0})})})]}),a("div",{className:"gen-pro-ed my-2.5",children:[e("div",{className:"gen-pro-row",children:e("span",{className:"c0",children:"Phone Number"})}),e("div",{className:"gen-pro-col ds-f",children:e("span",{children:e("input",{type:"text",className:"p-inp",value:O,onChange:n=>N(n.target.value)})})})]}),a("div",{className:"gen-pro-ed  my-2.5",children:[e("div",{className:"gen-pro-row ",children:e("span",{className:"c0",children:"Gender"})}),e("div",{className:"gen-pro-col ds-f",children:a("div",{className:"c0",children:[a("div",{className:"flex items-center mr-4",children:[e("input",{id:"male-radio",type:"radio",value:"M",checked:p==="M",name:"inline-radio-group",className:"radio-comp",onChange:E}),e("label",{htmlFor:"male-radio",className:"text-lg radio-label",children:"Male"})]}),a("div",{className:"flex items-center mr-4",children:[e("input",{id:"female-radio",value:"F",type:"radio",checked:p==="F",name:"inline-radio-group",className:"radio-comp",onChange:E}),e("label",{htmlFor:"female-radio",className:"text-lg radio-label",children:"Female"})]}),a("div",{className:"flex items-center mr-4",children:[e("input",{id:"other-radio",type:"radio",value:"O",checked:p==="O",name:"inline-radio-group",className:"radio-comp",onChange:E}),e("label",{htmlFor:"other-radio",className:"text-lg radio-label",children:"Other"})]})]})})]}),e("div",{className:"gen-pro-ed my-2.5",children:e("div",{className:"gen-pro-row-sub",children:a("span",{className:"gen-conf-corr c0",children:[e("input",{type:"checkbox",className:"gen-cb",checked:v,onChange:Z}),e("label",{className:"c0",children:"Conform Your Details is Correct"})]})})}),v?e("div",{className:"mx-auto mt-2 ",children:e(j,{className:"px-32",onP:ae,loading:F,title:"Save",disabled:F})}):null,T?e("div",{className:"gen-pro-ed my-2.5",children:e("div",{className:"gen-pro-row-sub",children:e("span",{className:"c0",children:e("label",{className:"c0",children:T})})})}):null]})},Oe=()=>{let s={textDecoration:"none",borderLeft:"3px solid #000",color:"black",height:"60px",paddingLeft:"26px",display:"flex",fontSize:"1.5rem",alignItems:"center"},i={textDecoration:"none",height:"60px",paddingLeft:"30px",display:"flex",alignItems:"center",color:"black",fontSize:"1.4rem"};const{id:l}=S();return a("div",{className:"edup-menus",children:[e("div",{children:a(r,{to:`/uapp/ep/${l}/gen`,style:({isActive:t})=>t?s:i,children:[e("img",{src:G,alt:"EMOJI_ICON",className:"edit-menu-icon"})," ",e("span",{children:"Edit Profile"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${l}/cp`,style:({isActive:t})=>t?s:i,children:[e("img",{src:$,alt:"EMOJI_ICON",className:"edit-menu-icon"}),e("span",{children:"Change Password"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${l}/settings`,style:({isActive:t})=>t?s:i,children:[e("img",{src:H,alt:"EMOJI_ICON",className:"edit-menu-icon"}),e("span",{children:"Settings"})]})}),e("div",{children:a(r,{to:`/ep/${l}/sb`,style:({isActive:t})=>t?s:i,children:[e("img",{src:K,alt:"EMOJI_ICON",className:"edit-menu-icon"}),e("span",{children:"Save Bookmark"})]})}),e("div",{children:a(r,{to:`/${l}/hp`,style:({isActive:t})=>t?s:i,children:[e("img",{src:z,alt:"EMOJI_ICON",className:"edit-menu-icon"}),e("span",{children:"Hidden Post"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${l}/bu`,style:({isActive:t})=>t?s:i,children:[e("img",{src:W,alt:"EMOJI_ICON",className:"edit-menu-icon"}),e("span",{children:"Blocked Users"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${l}/da`,style:({isActive:t})=>t?s:i,children:[e("img",{src:Y,alt:"EMOJI_ICON",className:"edit-menu-icon"}),e("span",{children:"Delete Account"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${l}/pp`,style:({isActive:t})=>t?s:i,children:[e("img",{src:$,alt:"EMOJI_ICON",className:"edit-menu-icon"}),e("span",{children:"Privacy Policy"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${l}/au`,style:({isActive:t})=>t?s:i,children:[e("img",{src:Q,alt:"EMOJI_ICON",className:"edit-menu-icon"}),e("span",{children:"About Us"})]})})]})},Se=()=>{const{user:s}=J(N=>N.UserLogin),[i,l]=o.useState(!1),[t,c]=o.useState(!1),[f,m]=o.useState(!1),{id:y}=S(),C=s==null?void 0:s.token,g=L(),I=()=>{l(!i)},p=()=>{c(!t)},k=()=>{m(!f)},O=()=>{const N={method:"set_user_settings",user_id:s.data.user_id,profile:i===!0?"0":"1",notification:t===!0?"1":"0"};fetch("https://nwo.capital/app/state/api/profile",{method:"POST",headers:{accept:"application/json",contentType:"application/json",version:"1.0.0",token:`Bearer ${C}`},body:JSON.stringify(N)}).then(v=>{v.json().then(d=>{d.status===1&&g(`/uapp/ep/${y}/gen`)})})};return o.useEffect(()=>{const N={method:"get_user_settings",user_id:s.data.user_id};fetch("https://nwo.capital/app/state/api/profile",{method:"POST",headers:{accept:"application/json",contentType:"application/json",version:"1.0.0",token:`Bearer ${C}`},body:JSON.stringify(N)}).then(v=>{v.json().then(d=>{d.status===1&&(d.data.profile==="1"?l(!1):d.data.profile==="0"&&l(!0),d.data.notification==="1"?c(!0):d.data.notification==="0"&&c(!1))})})},[]),a("div",{className:"edup-content setting-content ",children:[e("div",{style:{padding:"20px"}}),e("div",{className:"setting-head c0 my-2.5",children:e("span",{className:"setting-r1",children:"Account Privacy"})}),e("div",{className:"setting-head my-2.5",children:a("span",{className:"c0",children:[e("input",{type:"checkbox",className:"gen-cb",defaultChecked:i,checked:i,onChange:I}),e("label",{className:"c0",children:"Private Account"})]})}),e("div",{className:"setting-head  my-2.5",children:e("span",{style:{color:"#857e7e",fontSize:"1rem"},children:"When your account is private, only people you approve can see your photos and videos on Instagram. Your existing followers won't be affected."})}),e("div",{className:"setting-head c0 my-2.5",children:e("span",{className:"setting-r1",children:"Notification"})}),e("div",{className:"setting-head my-2.5",children:a("span",{className:"c0",children:[e("input",{type:"checkbox",className:"gen-cb",defaultChecked:t,checked:t,onChange:p}),e("label",{className:"c0",children:"Notification ON "})]})}),e("div",{className:"setting-head c0 my-2.5",children:e("span",{className:"setting-r1",children:"Auto Enable Sound"})}),e("div",{className:"setting-head my-2.5",children:a("span",{className:"c0",children:[e("input",{type:"checkbox",className:"gen-cb",defaultChecked:f,checked:f,onChange:k}),e("label",{className:"c0",children:"Sound ON "})]})}),e("div",{className:"mt-2 mx-auto ",children:e(j,{className:"px-32",onP:O,title:"Change Settings"})})]})},Ie=({handleFunction:s})=>{let i={textDecoration:"none",borderLeft:"3px solid #000",color:"black",height:"60px",paddingLeft:"30px",display:"flex",fontSize:"1.5rem",alignItems:"center"},l={textDecoration:"none",height:"60px",paddingLeft:"30px",display:"flex",alignItems:"center",color:"black",fontSize:"1.5rem"};const{id:t}=S();return e("div",{className:"main-menu-popup",children:a("div",{className:"menu-popup-contain",children:[e("div",{className:"menu-popup-close-div",children:e("img",{src:ue,alt:"close",className:"object-contain w-5 h-5 menu-popup-close",onClick:s})}),e("div",{children:a(r,{to:`/uapp/ep/${t}/gen`,style:({isActive:c})=>c?i:l,onClick:s,children:[e("img",{src:G,alt:"EMOJI_ICON",className:"menu-popup-menu-icon"})," ",e("span",{className:"menu-popup-title",children:"Edit Profile"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${t}/cp`,style:({isActive:c})=>c?i:l,onClick:s,children:[e("img",{src:$,alt:"EMOJI_ICON",className:"menu-popup-menu-icon"}),e("span",{className:"menu-popup-title",children:"Change Password"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${t}/settings`,style:({isActive:c})=>c?i:l,onClick:s,children:[e("img",{src:H,alt:"EMOJI_ICON",className:"menu-popup-menu-icon"}),e("span",{className:"menu-popup-title",children:"Settings"})]})}),e("div",{children:a(r,{to:`/ep/${t}/sb`,style:({isActive:c})=>c?i:l,onClick:s,children:[e("img",{src:K,alt:"EMOJI_ICON",className:"menu-popup-menu-icon"}),e("span",{className:"menu-popup-title",children:"Save Bookmark"})]})}),e("div",{children:a(r,{to:`/${t}/hp`,style:({isActive:c})=>c?i:l,onClick:s,children:[e("img",{src:z,alt:"EMOJI_ICON",className:"menu-popup-menu-icon"}),e("span",{className:"menu-popup-title",children:"Hidden Post"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${t}/bu`,style:({isActive:c})=>c?i:l,onClick:s,children:[e("img",{src:W,alt:"EMOJI_ICON",className:"menu-popup-menu-icon"}),e("span",{className:"menu-popup-title",children:"Blocked Users"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${t}/da`,style:({isActive:c})=>c?i:l,onClick:s,children:[e("img",{src:Y,alt:"EMOJI_ICON",className:"menu-popup-menu-icon"}),e("span",{className:"menu-popup-title",children:"Delete Account"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${t}/pp`,style:({isActive:c})=>c?i:l,onClick:s,children:[e("img",{src:$,alt:"EMOJI_ICON",className:"menu-popup-menu-icon"}),e("span",{className:"menu-popup-title",children:"Privacy Policy"})]})}),e("div",{children:a(r,{to:`/uapp/ep/${t}/au`,style:({isActive:c})=>c?i:l,onClick:s,children:[e("img",{src:Q,alt:"EMOJI_ICON",className:"menu-popup-menu-icon"}),e("span",{className:"menu-popup-title",children:"About Us"})]})})]})})},Fe=()=>{const{general:s}=S(),[i,l]=o.useState(!1),t=()=>{l(!i)};return a(R,{children:[a("div",{className:"flex  ml-1  border border-black mt-20 sm:hidden",onClick:t,children:[e("img",{src:ce,alt:"EMOJI_ICON",className:"main-menu-icon mt-1.5 ml-1.5"}),e("span",{className:" ml-2 border  border-black"}),e("span",{className:"text-black font-bold ml-2 p-2 text-base",children:"Setting"})]}),i&&e(Ie,{handleFunction:t}),e("div",{className:"edup-main",children:a("div",{className:"edup-box",children:[e(Oe,{}),s==="gen"?e(ke,{}):null,s==="cp"?e(be,{}):null,s==="settings"?e(Se,{}):null,s==="sb"?e(Ce,{}):null,s==="hp"?e(fe,{}):null,s==="bu"?e(Ne,{}):null,s==="da"?e(ve,{}):null,s==="pp"?e(ye,{}):null,s==="au"?e(ge,{}):null]})})]})};export{Fe as default};
//# sourceMappingURL=EditUProfile-9f7ae7eb.js.map
