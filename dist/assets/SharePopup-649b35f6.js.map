{"version":3,"file":"SharePopup-649b35f6.js","sources":["../../src/components/SharePopup.tsx"],"sourcesContent":["import { FC, ReactNode, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { App_state } from \"~/reduxState\";\nimport PopUp from \"./PopUp\";\nimport ReportPostBox from \"./ReportPostBox\";\n\ninterface Props {\n  visible: boolean;\n  onClose: (b: boolean) => void;\n  closeBtnTxt?: string;\n  className?: string;\n  subClass?: string;\n  value: any;\n}\n\nconst SharePopup: FC<Props> = ({\n  visible,\n  onClose,\n  closeBtnTxt,\n  className = \"\",\n  subClass = \"\",\n  value,\n}) => {\n\n  const { user } = useSelector((state: App_state) => state.UserLogin);\n\n  const token = user?.token;\n  const navigate = useNavigate()\n  const [loading, setLoading] = useState<boolean>(false)\n  const [report, setReport] = useState<boolean>(false);\n  const [blockUser, setBlockUser] = useState<boolean>(false)\n\n  const handleReportPost = () => {\n    setReport(!report)\n  }\n  const handleBlockUserPopup = () => {\n    setBlockUser(!blockUser)\n  }\n\n  const handleBlockUser = () => {\n    const obj = {\n      method: \"block_user\",\n      blocked_user: value?.user_id,\n    };\n    setLoading(true)\n    fetch(`${import.meta.env.VITE_API_URL}user`, {\n      method: \"POST\",\n      headers: {\n        accept: \"application/json\",\n        contentType: \"application/json\",\n        version: \"1.0.0\",\n        token: `Bearer ${token}`,\n      },\n      body: JSON.stringify(obj),\n    }).then((res) => {\n      res.json().then((response) => {\n        if (response.status === 1) {\n          setLoading(false)\n          setBlockUser(!blockUser)\n          onClose(false)\n          navigate(\"/\")\n          toast.success(\"user blocked successfully...\", { position: \"top-center\", autoClose: 1000 });\n        } else {\n          // console.log(\"else\", response);\n        }\n      });\n    });\n  }\n\n  return visible ? (\n    <>\n      <div\n        className={\n          className +\n          \"fixed text-black flex items-center justify-center overflow-auto z-40 bg-black bg-opacity-40 left-0 right-0 top-0 bottom-0 transition-all duration-300\"\n        }\n      >\n        <div\n          className={\n            subClass +\n            \" bg-white rounded-xl shadow-2xl p-6  sm:w-8/12 xs:w-8/12 mx-10 flex justify-center flex-col\"\n          }\n        >\n          <div className=\"p-3 mb-3 \">\n            <div className=\"text-center font-bold text-md cursor-pointer\">\n              share profile\n            </div>\n            <div className=\"flex  items-center justify-center\">\n              <div className=\"border border-gray-400 border-xs my-3 w-full\" />\n            </div>\n            <div className=\"text-center font-bold text-md cursor-pointer\" onClick={handleBlockUserPopup}>\n              Block user\n            </div>\n            {/* <div className=\"flex  items-center justify-center\">\n              <div className=\"border border-gray-400 border-xs my-3 w-full\" />\n            </div>\n            <div className=\"text-center font-bold text-md cursor-pointer\" onClick={handleReportPost}>\n              Report user\n            </div> */}\n          </div>\n          <div className=\"flex  items-center justify-center\">\n            <button\n              onClick={() => onClose(false)}\n              className=\"secondary-btn hover:text-white hover:bg-black w-[60%] px-5\"\n            >\n              {closeBtnTxt || \"Close\"}\n            </button>\n          </div>\n        </div>\n      </div>\n      {\n        report && <ReportPostBox postPopup={undefined} setPostPopup={onClose} value={value} setReport={setReport} report={report} />\n      }\n      {\n        blockUser && < PopUp message=\"Are you sure want to block this user ?\" btnMsg={\"Block\"} functionHandle={handleBlockUser} closePopup={handleBlockUserPopup} loading={loading} />\n      }\n    </>) : null;\n};\n\nexport default SharePopup;\n"],"names":["SharePopup","visible","onClose","closeBtnTxt","className","subClass","value","user","useSelector","state","token","navigate","useNavigate","loading","setLoading","useState","report","setReport","blockUser","setBlockUser","handleBlockUserPopup","handleBlockUser","obj","res","response","toast","jsxs","Fragment","jsx","ReportPostBox","PopUp"],"mappings":"6KAiBA,MAAMA,EAAwB,CAAC,CAC7B,QAAAC,EACA,QAAAC,EACA,YAAAC,EACA,UAAAC,EAAY,GACZ,SAAAC,EAAW,GACX,MAAAC,CACF,IAAM,CAEJ,KAAM,CAAE,KAAAC,CAAK,EAAIC,EAAaC,GAAqBA,EAAM,SAAS,EAE5DC,EAAQH,GAAA,YAAAA,EAAM,MACdI,EAAWC,IACX,CAACC,EAASC,CAAU,EAAIC,WAAkB,EAAK,EAC/C,CAACC,EAAQC,CAAS,EAAIF,WAAkB,EAAK,EAC7C,CAACG,EAAWC,CAAY,EAAIJ,WAAkB,EAAK,EAKnDK,EAAuB,IAAM,CACjCD,EAAa,CAACD,CAAS,CAAA,EAGnBG,EAAkB,IAAM,CAC5B,MAAMC,EAAM,CACV,OAAQ,aACR,aAAchB,GAAA,YAAAA,EAAO,OAAA,EAEvBQ,EAAW,EAAI,EACT,MAAA,yCAAuC,CAC3C,OAAQ,OACR,QAAS,CACP,OAAQ,mBACR,YAAa,mBACb,QAAS,QACT,MAAO,UAAUJ,GACnB,EACA,KAAM,KAAK,UAAUY,CAAG,CAAA,CACzB,EAAE,KAAMC,GAAQ,CACfA,EAAI,KAAK,EAAE,KAAMC,GAAa,CACxBA,EAAS,SAAW,IACtBV,EAAW,EAAK,EAChBK,EAAa,CAACD,CAAS,EACvBhB,EAAQ,EAAK,EACbS,EAAS,GAAG,EACZc,EAAM,QAAQ,+BAAgC,CAAE,SAAU,aAAc,UAAW,IAAM,EAG3F,CACD,CAAA,CACF,CAAA,EAGH,OAAOxB,EAEHyB,EAAAC,EAAA,CAAA,SAAA,CAAAC,EAAC,MAAA,CACC,UACExB,EACA,wJAGF,SAAAsB,EAAC,MAAA,CACC,UACErB,EACA,8FAGF,SAAA,CAACqB,EAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACE,EAAA,MAAA,CAAI,UAAU,+CAA+C,SAE9D,gBAAA,EACAA,EAAC,OAAI,UAAU,oCACb,WAAC,MAAI,CAAA,UAAU,+CAA+C,CAChE,CAAA,IACC,MAAI,CAAA,UAAU,+CAA+C,QAASR,EAAsB,SAE7F,aAAA,CAAA,EAOF,EACAQ,EAAC,MAAI,CAAA,UAAU,oCACb,SAAAA,EAAC,SAAA,CACC,QAAS,IAAM1B,EAAQ,EAAK,EAC5B,UAAU,6DAET,SAAeC,GAAA,OAAA,CAAA,EAEpB,CAAA,CAAA,CACF,CAAA,CACF,EAEEa,KAAWa,EAAc,CAAA,UAAW,OAAW,aAAc3B,EAAS,MAAAI,EAAc,UAAAW,EAAsB,OAAAD,CAAgB,CAAA,EAG1HE,GAAeU,EAAAE,EAAA,CAAM,QAAQ,yCAAyC,OAAQ,QAAS,eAAgBT,EAAiB,WAAYD,EAAsB,QAAAP,CAAkB,CAAA,CAAA,CAEhL,CAAA,EAAO,IACX"}