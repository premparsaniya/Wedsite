{"version":3,"file":"main-c81c01e2.js","sources":["../../node_modules/react-dom/client.js","../../node_modules/redux-persist/es/integration/react.js","../../node_modules/react-redux/es/utils/Subscription.js","../../node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","../../node_modules/react-redux/es/components/Provider.js","../../src/context/reducer.ts","../../src/context/AppContextProvider.tsx","../../src/assets/image/Union1.svg","../../src/assets/image/Chat.svg","../../src/assets/image/Vector1.svg","../../src/assets/image/arrow.svg","../../src/assets/svg/TOP_ARROW.svg","../../src/assets/svg/wallet_inactive.svg","../../src/assets/svg/home.svg","../../src/assets/svg/add_post.svg","../../src/assets/svg/messages.svg","../../src/assets/svg/notification.svg","../../src/assets/svg/profile_black.svg","../../src/assets/svg/LOG_OUT.svg","../../src/components/NavBar.tsx","../../src/components/Accountprofile.tsx","../../src/components/CreatePost.tsx","../../src/components/Discard.tsx","../../node_modules/@ethersproject/constants/lib.esm/addresses.js","../../node_modules/@ethersproject/constants/lib.esm/hashes.js","../../node_modules/@ethersproject/base64/lib.esm/base64.js","../../node_modules/@ethersproject/hash/lib.esm/ens-normalize/decoder.js","../../node_modules/@ethersproject/hash/lib.esm/ens-normalize/include.js","../../node_modules/@ethersproject/hash/lib.esm/ens-normalize/lib.js","../../node_modules/@ethersproject/hash/lib.esm/namehash.js","../../node_modules/@ethersproject/networks/lib.esm/_version.js","../../node_modules/@ethersproject/networks/lib.esm/index.js","../../node_modules/@ethersproject/web/lib.esm/_version.js","../../node_modules/@ethersproject/web/lib.esm/geturl.js","../../node_modules/@ethersproject/web/lib.esm/index.js","../../node_modules/bech32/index.js","../../node_modules/@ethersproject/providers/lib.esm/_version.js","../../node_modules/@ethersproject/providers/lib.esm/formatter.js","../../node_modules/@ethersproject/providers/lib.esm/base-provider.js","../../node_modules/@ethersproject/providers/lib.esm/json-rpc-provider.js","../../node_modules/@ethersproject/providers/lib.esm/web3-provider.js","../../node_modules/@ethersproject/providers/lib.esm/index.js","../../src/pages/UserProfile.tsx","../../src/components/UserAccountPostPreview.tsx","../../src/components/comment/ShowComm.tsx","../../src/components/Followers.tsx","../../src/components/ReportPost.tsx","../../src/components/comment/DeleteConform.tsx","../../src/pages/PostList.tsx","../../src/routes/index.tsx","../../node_modules/tiny-invariant/dist/esm/tiny-invariant.js","../../node_modules/@web3-react/types/dist/types.esm.js","../../node_modules/@web3-react/core/dist/core.esm.js","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from 'react'; // eslint-disable-line import/no-unresolved\n\nexport var PersistGate =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(PersistGate, _PureComponent);\n\n  function PersistGate() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PersistGate);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PersistGate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      bootstrapped: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_unsubscribe\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePersistorState\", function () {\n      var persistor = _this.props.persistor;\n\n      var _persistor$getState = persistor.getState(),\n          bootstrapped = _persistor$getState.bootstrapped;\n\n      if (bootstrapped) {\n        if (_this.props.onBeforeLift) {\n          Promise.resolve(_this.props.onBeforeLift()).finally(function () {\n            return _this.setState({\n              bootstrapped: true\n            });\n          });\n        } else {\n          _this.setState({\n            bootstrapped: true\n          });\n        }\n\n        _this._unsubscribe && _this._unsubscribe();\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(PersistGate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._unsubscribe = this.props.persistor.subscribe(this.handlePersistorState);\n      this.handlePersistorState();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._unsubscribe && this._unsubscribe();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (process.env.NODE_ENV !== 'production') {\n        if (typeof this.props.children === 'function' && this.props.loading) console.error('redux-persist: PersistGate expects either a function child or loading prop, but not both. The loading prop will be ignored.');\n      }\n\n      if (typeof this.props.children === 'function') {\n        return this.props.children(this.state.bootstrapped);\n      }\n\n      return this.state.bootstrapped ? this.props.children : this.props.loading;\n    }\n  }]);\n\n  return PersistGate;\n}(PureComponent);\n\n_defineProperty(PersistGate, \"defaultProps\", {\n  children: null,\n  loading: null\n});","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  const batch = getBatch();\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n\n    notify() {\n      batch(() => {\n        let listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n\n    get() {\n      let listeners = [];\n      let listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n\n    subscribe(callback) {\n      let isSubscribed = true;\n      let listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n\n  };\n}\n\nconst nullListeners = {\n  notify() {},\n\n  get: () => []\n};\nexport function createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    return listeners.subscribe(listener);\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return Boolean(unsubscribe);\n  }\n\n  function trySubscribe() {\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    if (unsubscribe) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe,\n    tryUnsubscribe,\n    getListeners: () => listeners\n  };\n  return subscription;\n}","import { useEffect, useLayoutEffect } from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n// Matches logic in React's `shared/ExecutionEnvironment` file\n\nexport const canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\nexport const useIsomorphicLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;","import React, { useMemo } from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState\n}) {\n  const contextValue = useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : undefined\n    };\n  }, [store, serverState]);\n  const previousState = useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      subscription\n    } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = undefined;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext; // @ts-ignore 'AnyAction' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nexport default Provider;","import { IAction, IAppState } from \"types\";\r\nimport { initialState } from \"~/utils\";\r\nimport { ActionType } from \"./action\";\r\n\r\nconst appReducer = (state: IAppState, action: IAction): typeof initialState => {\r\n\r\n    switch (action.type) {\r\n        case ActionType.SET_WALLET: {\r\n            return {\r\n                ...state,\r\n                myWallet: action.myWallet ?? state.myWallet\r\n            }\r\n        }\r\n        case ActionType.RESET: {\r\n            return {\r\n                ...state,\r\n                myWallet: {...initialState.myWallet, loadingWallet: false }\r\n            }\r\n        }\r\n        default: return state\r\n    }\r\n};\r\n\r\nexport default appReducer;","import { FC, ReactNode, useReducer } from \"react\";\r\nimport { AppContext } from \"./\";\r\nimport { initialState } from \"~/utils\";\r\nimport appReducer from \"./reducer\";\r\nimport { IAppState } from \"types\";\r\n\r\nconst AppContextProvider: FC<{ children: ReactNode }> = ({ children }) => {\r\n    const [state, dispatch] = useReducer(appReducer, initialState as IAppState);\r\n    const val = { state, dispatch };\r\n\r\n    return (\r\n        <AppContext.Provider value={val}>{children}</AppContext.Provider>\r\n    )\r\n};\r\n\r\nexport { AppContextProvider };","export default \"__VITE_ASSET__474d673d__\"","export default \"__VITE_ASSET__0bb612ad__\"","export default \"__VITE_ASSET__b25dd906__\"","export default \"__VITE_ASSET__cf45d1c9__\"","export default \"__VITE_ASSET__5b3aaaec__\"","export default \"__VITE_ASSET__4c6a0f9f__\"","export default \"__VITE_ASSET__2b4d7694__\"","export default \"__VITE_ASSET__3e70fee4__\"","export default \"__VITE_ASSET__4f6fdd60__\"","export default \"__VITE_ASSET__b1dac06e__\"","export default \"__VITE_ASSET__11c1f427__\"","export default \"__VITE_ASSET__3d751b0f__\"","import { useState, useRef, Fragment } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { UserIcon, Accountprofile, CreatePost } from \"./\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\n\r\n// import ScrollToTop from \"react-scroll-to-top\";\r\nimport {\r\n  ADD_POST_ICON,\r\n  BLACK_LOGO,\r\n  HOME_ICON,\r\n  MESSAGES_ICON,\r\n  NOTIFICATION_ICON,\r\n  SEARCH_ICON,\r\n  TOP_ARROW,\r\n  WALLET_INACTIVE,\r\n} from \"../assets\";\r\nimport { useOnClickOutside } from \"~/hooks\";\r\nimport ScrollToTop from \"react-scroll-to-top\";\r\n\r\nconst NavBar = () => {\r\n  const [popup, setPopup] = useState(false);\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n  const { id } = useParams();\r\n  const [popuplike, setPopupLike] = useState<boolean>(false);\r\n  const [popupPost, setPopupPost] = useState<boolean>(false);\r\n  const [/* popupExplore */, setPopupExplore] = useState<boolean>(false);\r\n  const navigate = useNavigate();\r\n\r\n  const postpop = () => {\r\n    setPopupPost(!popupPost);\r\n    setPopupLike(false);\r\n    setPopup(false);\r\n    setPopupExplore(false);\r\n  };\r\n  const goHome = () => navigate(\"/\");\r\n\r\n  const userMenuRef = useRef(null);\r\n  const hideUserMenu = () => setPopup(false);\r\n  useOnClickOutside(userMenuRef, hideUserMenu);\r\n\r\n  return (\r\n    <div className=\"nav-bar\">\r\n      <ScrollToTop smooth component={<div className=\"rounded-sm flex items-center flex-col\"><img src={TOP_ARROW} className=\"w-7 h-5\" alt=\"TOP_ARROW\" /></div>} />\r\n      <div className=\"nav-blur\"></div>\r\n      <Link to=\"/\" className=\"nav-logo-div\">\r\n        <img src={BLACK_LOGO} className=\"nav-logo1\" alt=\"hello\" />\r\n      </Link>\r\n      <div className=\"nav-icons \">\r\n        <div>\r\n          <img\r\n            src={HOME_ICON}\r\n            alt=\"Home\"\r\n            className=\"navbar__icon\"\r\n            onClick={() => goHome()}\r\n          />\r\n        </div>\r\n        <Link to=\"/discover\">\r\n          <img\r\n            src={SEARCH_ICON}\r\n            alt=\"Search\"\r\n            className=\"navbar__icon mr-2.5 ml-2.5\"\r\n          />\r\n        </Link>\r\n        <div>\r\n          <img\r\n            src={ADD_POST_ICON}\r\n            alt=\"Post\"\r\n            className=\"navbar__icon mr-2.5 ml-2.5\"\r\n            onClick={() => postpop()}\r\n          />\r\n        </div>\r\n        <Link to=\"/notification\">\r\n          <img\r\n            src={NOTIFICATION_ICON}\r\n            alt=\"Notification\"\r\n            className=\"navbar__icon mr-2.5 ml-2.5\"\r\n          />\r\n        </Link>\r\n        <Link to=\"/messages\">\r\n          <img\r\n            src={MESSAGES_ICON}\r\n            alt=\"Msg\"\r\n            className=\"navbar__icon mr-2.5 ml-2.5\"\r\n          />\r\n        </Link>\r\n        <Link className=\"nav-btn\" to=\"/wallet\">\r\n          <img\r\n            src={WALLET_INACTIVE}\r\n            alt=\"Wallet\"\r\n            className=\"navbar__icon mr-2.5 ml-2.5\"\r\n          />\r\n        </Link>\r\n        {popupPost && (\r\n          <CreatePost setPopupPost={setPopupPost} popupPost={popupPost} />\r\n        )}\r\n\r\n        <section ref={userMenuRef}>\r\n          <UserIcon\r\n            // className=\"mr ml-2.5\"\r\n            popups={setPopup}\r\n            popupval={popup}\r\n            setPopupLike={setPopupLike}\r\n            popupLike={popuplike}\r\n            src={user.data.photo}\r\n            setPopupExplore={setPopupExplore}\r\n          // style={{ cursor: \"pointer\" }}          \r\n          />\r\n          {popup && (\r\n            <Accountprofile /* className=\"mr ml-2.5\" */ setPopup={setPopup} />\r\n          )}\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import { LOG_OUT_ICON, UP_ARROW } from \"~/assets\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { LogoutUser, LogoutUserPost } from \"../reduxState/action\";\r\nimport { PROFILE_BLACK_ICON, SEND_ICON, SETTING_BLACK_ICON } from \"~/assets\";\r\nimport { AppContext, resetUser } from \"~/context\";\r\nimport { useContext } from \"react\";\r\n\r\ntype props = {\r\n  setPopup: any;\r\n};\r\nconst Accountprofile = ({ setPopup }: props) => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n  const { dispatch: disp } = useContext(AppContext);\r\n\r\n  const GoLogout = () => {\r\n    dispatch(LogoutUser());\r\n    dispatch(LogoutUserPost());\r\n    navigate(\"/\");\r\n    resetUser(disp);\r\n  };\r\n  const goSettings = () => {\r\n    navigate(`/uapp/ep/${user.data.user_id}/${\"gen\"}`);\r\n    setPopup(false);\r\n  };\r\n  const goProfile = () => {\r\n    navigate(`/userprofile/${user.data.user_id}`);\r\n    setPopup(false);\r\n  };\r\n  return (\r\n    <div className=\"acc-box\" onClick={() => setPopup(false)}>\r\n      <img src={UP_ARROW} className=\"acc-arrow\" alt=\"img\" />\r\n      <div className=\"acc-box-in\">\r\n        <div\r\n          className=\"acc-row1 \"\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={() => goProfile()}\r\n        >\r\n          <p className=\"acc-col1\">\r\n            <img src={PROFILE_BLACK_ICON} alt=\"Profile\" />\r\n          </p>\r\n          <p className=\"acc-col2\">Profile</p>\r\n        </div>\r\n        <div className=\"acc-row1 \" style={{ cursor: \"pointer\" }}>\r\n          <img className=\"acc-col1 save\" src={SEND_ICON} alt=\"img\" />\r\n\r\n          <p className=\"acc-col2\"> Share profile </p>\r\n        </div>\r\n        <div\r\n          className=\"acc-row1 \"\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={() => goSettings()}\r\n        >\r\n          <p className=\"acc-col1\">\r\n            <img src={SETTING_BLACK_ICON} alt=\"Setting\" />\r\n          </p>\r\n          <p className=\"acc-col2\">Settings</p>\r\n        </div>\r\n        <div\r\n          className=\"acc-row1 acc-row1-border \"\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={() => GoLogout()}\r\n        >\r\n          <img className=\"acc-col1 save\" src={LOG_OUT_ICON} alt=\"img\" />\r\n          <p className=\"acc-col2\">Logout</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Accountprofile;\r\n","import { ChangeEvent, Fragment, useEffect, useRef, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  BACK_ICON,\r\n  CLOSE_BLACK_ICON,\r\n  CLOSE_ICON,\r\n  MUSIC_ICON,\r\n  MUSIC_LIST_ICON,\r\n  PAUSE_MUSIC_IC,\r\n  PLAY_MUSIC_IC,\r\n} from \"~/assets\";\r\nimport { UserIcon, Discard, Loading, BTN, SpinningLoader } from \".\";\r\nimport { setPostList, App_state } from \"~/reduxState\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n// import { createFFmpeg, fetchFile } from \"@ffmpeg/ffmpeg\";\r\n\r\n// const ffmpeg = createFFmpeg({ log: true });\r\n\r\ntype props = {\r\n  setPopupPost: any;\r\n  popupPost: any;\r\n};\r\n\r\n\r\nfunction CreatePost({ setPopupPost, popupPost }: props) {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n  // const pageNumber = useSelector((s: App_state) => s?.pageReducer);\r\n  // const postData = useSelector((s: App_state) => s?.PostListReducer);x\r\n\r\n  const [discard, setDiscard] = useState<boolean>(false);\r\n  const [caption, setCaption] = useState<string>(\"\");\r\n  const [image, setImage] = useState<string>(\"\");\r\n  const [videoData, setVideoData] = useState<File>();\r\n  const [imgPreviewUrl, setImgPreviewUrl] = useState<string /* | ArrayBuffer | null */>(\"\");\r\n\r\n  const [audioS, setAudioS] = useState<boolean>();\r\n  const [audioList, setAudioList] = useState<any>([]);\r\n  const [playAudio, setPlayAudio] = useState<boolean>(false);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [AVLoading, setAVLoading] = useState<boolean>(false);\r\n  const [playId, setPlayID] = useState<number>();\r\n  const [audioUrl, setAudioUrl] = useState<string>(\"\");\r\n  const [audioUrlBlob, setAudioUrlBlob] = useState<string>(\"\");\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const token = user?.token;\r\n\r\n  // const [ready, setReady] = useState(false);\r\n\r\n\r\n  const [convertedData, setConvertedData] = useState<any>(null)\r\n\r\n  // async function load() { await ffmpeg.load(); setReady(true); }\r\n  // useEffect(() => {\r\n  //   ffmpeg.isLoaded() ? setReady(true) : load();\r\n  // }, [])\r\n\r\n  const checkLength = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    e.target.value.length < 251 && setCaption(e.target.value);\r\n  };\r\n\r\n  const discardTogle = () => {\r\n    if (image !== \"\" || caption !== \"\" || videoData !== undefined) {\r\n      setDiscard(!discard);\r\n    } else {\r\n      setPopupPost(false);\r\n    }\r\n  };\r\n\r\n  const generateVideoThumbnail = (file: File) => {\r\n    return new Promise((resolve, reject) => {\r\n      const canvas = document.createElement(\"canvas\");\r\n      const video = document.createElement(\"video\");\r\n\r\n      // this is important\r\n      video.autoplay = true;\r\n      video.muted = true;\r\n      video.src = URL.createObjectURL(file);\r\n\r\n      video.onloadeddata = () => {\r\n        let ctx = canvas.getContext(\"2d\");\r\n\r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n\r\n        ctx?.drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\r\n        video.pause();\r\n        // return resolve(canvas.toDataURL(\"image/jpg\"));\r\n        canvas.toBlob((blob) => {\r\n          const file = new File([blob || \"\"], \"thumbnail.jpg\", {\r\n            type: \"image/jpg\",\r\n            lastModified: Date.now(),\r\n          });\r\n          return resolve(file);\r\n        }, \"image/jpg\");\r\n      };\r\n    });\r\n  };\r\n\r\n  // ------------------ get video duration -------------------- \r\n  const getVideoDuration = (file: File) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        const media = new Audio(reader.result as string);\r\n        media.onloadedmetadata = () => resolve(media.duration);\r\n      };\r\n      reader.readAsDataURL(file);\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n  };\r\n\r\n  // ------------------ onChange for video -------------------- \r\n  const handleImageChange = async (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      e.preventDefault();\r\n      let reader = new FileReader();\r\n      let file = e.target?.files[0];\r\n      let fileSize = Math.ceil(file.size / 1024 / 1024);\r\n      let extention = file.name.split('.').pop();\r\n      let toLowerExt = extention?.toLocaleLowerCase();\r\n\r\n      if (toLowerExt != \"mp4\") {\r\n        toast.error(\"please select only MP4 video\", {\r\n          position: \"top-center\",\r\n        });\r\n        e.target.value = \"\";\r\n        setVideoData(undefined);\r\n        setImgPreviewUrl(\"\");\r\n        setImage(\"\");\r\n      } else {\r\n        const duration = (await getVideoDuration(e.target.files[0]) as number);\r\n        if ((fileSize >= 20)) {\r\n          toast.error(\"please select video less then 20mb\", {\r\n            position: \"top-center\",\r\n          });\r\n          e.target.value = \"\";\r\n          setVideoData(undefined);\r\n          setImgPreviewUrl(\"\");\r\n          setImage(\"\");\r\n        }\r\n        else if (duration >= 60) {\r\n          toast.error(\"please select video less then 60 seconds\", {\r\n            position: \"top-center\",\r\n          });\r\n          e.target.value = \"\";\r\n          setVideoData(undefined);\r\n          setImgPreviewUrl(\"\");\r\n          setImage(\"\");\r\n        }\r\n        else {\r\n          reader.onloadend = () => {\r\n            setVideoData(file);\r\n            typeof reader.result === \"string\" && setImgPreviewUrl(reader.result);\r\n          };\r\n          reader.readAsDataURL(file);\r\n          const thumbnail = (await generateVideoThumbnail(\r\n            e.target.files[0]\r\n          )) as string;\r\n          setImage(thumbnail);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // ---------------------- marge audio in video click -----------------------\r\n  // console.log(\"audioUrlBlob\", audioUrlBlob)\r\n\r\n  // const mergeAudioAndVideo = async () => {\r\n  //   setAVLoading(true);\r\n  //   let width = (videoRef?.current?.clientWidth || 0);\r\n  //   let height = (videoRef?.current?.clientHeight || 0);\r\n  //   if ((videoRef?.current?.clientWidth || 0) < 720 || (videoRef?.current?.clientHeight || 0) < 720) {\r\n  //     width = (videoRef?.current?.clientWidth || 0) * 2;\r\n  //     height = (videoRef?.current?.clientHeight || 0) * 2;\r\n  //   }\r\n\r\n  //   ffmpeg.FS('writeFile', 'video.mp4', await fetchFile(videoData || imgPreviewUrl));\r\n  //   ffmpeg.FS('writeFile', 'audio.m4a', await fetchFile(audioUrlBlob));\r\n\r\n  //   // change encoding format & make compatible for HEVC\r\n  //   await ffmpeg.run('-i', 'video.mp4', '-stream_loop', '-1', '-i', 'audio.m4a', '-shortest', '-map', '0:v:0', '-map', '1:a:0', '-c:v', 'libx264', '-c:a', 'aac', '-b:a', '192k', '-y', '-s', `${width}*${height}`, '-preset', 'ultrafast', 'output.mp4').then(() => {\r\n  //     let data = ffmpeg.FS('readFile', 'output.mp4');\r\n  //     setAVLoading(false);\r\n  //     let file = new File([new Uint8Array(data.buffer)], 'output.mp4', { type: 'video/mp4' });\r\n  //     setConvertedData(file);\r\n  //     let reader = new FileReader();\r\n  //     reader.readAsDataURL(file);\r\n  //     reader.onloadend = () => {\r\n  //       typeof reader.result === \"string\" && setImgPreviewUrl(reader.result);\r\n  //     };\r\n  //   })\r\n  //     .catch(() => {\r\n  //       setAVLoading(false);\r\n  //     });\r\n  // }\r\n\r\n  // ------------------- create post button click -------------------\r\n\r\n  const crPost = async () => {\r\n    if (videoData !== undefined) {\r\n      setLoading(true);\r\n      const formDataNew = new FormData();\r\n      formDataNew.append(\"attachments[0]\", convertedData || videoData);\r\n      formDataNew.append(\"att_thumb[0]\", image);\r\n      formDataNew.append(\"method\", \"set_post\");\r\n      formDataNew.append(\"description\", caption);\r\n      formDataNew.append(\"user_id\", user.data.user_id);\r\n\r\n      await fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          version: \"1.0.0\",\r\n          token: `Bearer ${token}`,\r\n        },\r\n        body: formDataNew,\r\n      })\r\n        .then((result) => {\r\n          result.json().then((response) => {\r\n            if (response.status === 1) {\r\n              setLoading(false);\r\n              setPopupPost(!popupPost);\r\n              fetchPostData();\r\n              location.pathname !== \"/\" && navigate(`/userprofile/${user?.data?.user_id}`)\r\n            } else {\r\n              setLoading(false);\r\n              setPopupPost(!popupPost);\r\n              toast.error(\"action failed\", {\r\n                position: \"top-center\",\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          setLoading(false);\r\n          setPopupPost(!popupPost);\r\n          toast.error(\"action failed\", {\r\n            position: \"top-center\",\r\n          });\r\n        });\r\n    };\r\n  };\r\n\r\n  // ------------------- close image click -------------------\r\n  const closeImg = () => {\r\n    setImage(\"\");\r\n    setVideoData(undefined);\r\n    setImgPreviewUrl(\"\");\r\n    setAudioS(false);\r\n  };\r\n\r\n  // ------------------- get post list for update array of post list -------------------\r\n  const fetchPostData = () => {\r\n    const obj = id === undefined && location.pathname !== \"/\" ? {\r\n      method: \"get_post_list\",\r\n      page: 1,\r\n      limit: 10,\r\n      user_id: user.data.user_id,\r\n      user_2: user.data.user_id,\r\n    } : {\r\n      method: \"get_post_list\",\r\n      page: 1,\r\n      limit: 10,\r\n      user_id: user.data.user_id,\r\n    };\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    }).then((result) => {\r\n      result.json().then((response) => {\r\n        if (response.status === 1) {\r\n          dispatch(setPostList(response?.data));\r\n          // if (pageNumber === 1) {\r\n          // } else {\r\n          //   let clone = [...postData];\r\n          //   response?.data && clone.push(...response?.data);\r\n          //   dispatch(setPostList(clone));\r\n          // dispatch(setGetPostListToggle(true))\r\n          // }\r\n          // dispatch(setPostList(response?.data));\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  // ------------------------ get files (audio)---------------------------------\r\n  // const handleAudioScreen = () => {\r\n  //   setAudioS(!audioS);\r\n  //   const obj = {\r\n  //     method: \"get_files\",\r\n  //     limit: \"10\",\r\n  //     page: \"1\",\r\n  //   };\r\n  //   fetch(`${import.meta.env.VITE_PUBLIC_URL}file`, {\r\n  //     method: \"POST\",\r\n  //     headers: {\r\n  //       accept: \"application/json\",\r\n  //       version: \"1.0.0\",\r\n  //       token: `Bearer ${token}`,\r\n  //     },\r\n  //     body: JSON.stringify(obj),\r\n  //   }).then((res) => {\r\n  //     res.json().then((response) => {\r\n  //       if (response.status === 1) {\r\n  //         setAudioList(response.data);\r\n  //       } else {\r\n  //         // console.log(\"else\", response);          \r\n  //       }\r\n  //     });\r\n  //   });\r\n  // };\r\n\r\n  // ---------------------- handle audio play - pause -------------------\r\n\r\n  const handlePlayAudio = (item: any, updateTo: boolean) => {\r\n    setPlayAudio(updateTo);\r\n    if (updateTo) {\r\n      if (item?.id === playId) {\r\n        audioRef.current?.play();\r\n      } else {\r\n        // setAudioUrlBlob(item?.file)        \r\n        setPlayID(item.id);\r\n        setAudioUrl(item.file);\r\n        setTimeout(() => audioRef.current?.play(), 500);\r\n      }\r\n    } else {\r\n      audioRef.current?.pause();\r\n    }\r\n  };\r\n\r\n  // --------- get info of video -------------------\r\n\r\n  const getInfo = (e: any) => {\r\n    // console.log(\"info -->\", e)\r\n  }\r\n  const selectAudioClick = (item: any) => {\r\n    setAudioUrlBlob(item?.file)\r\n  }\r\n\r\n  return (\r\n    <div className=\"CP-main\">\r\n      {loading ? <div className=\"w-full h-[100%] flex justify-center items-center\">\r\n        <Loading />\r\n      </div> :\r\n        <div className=\"CP-box\">\r\n          <div className=\"CP-New \">\r\n            <button className=\"CP-Arrow d-f\" /* disabled={AVLoading} */ onClick={() => discardTogle()}>\r\n              {discard ? (\r\n                <>\r\n                  <img\r\n                    src={CLOSE_BLACK_ICON}\r\n                    alt=\"Close\"\r\n                  />\r\n                  <Discard setPopupPost={setPopupPost} setDiscard={setDiscard} discardToggle={discard} />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <img\r\n                    src={CLOSE_BLACK_ICON}\r\n                    alt=\"Close\"\r\n                  />\r\n                </>\r\n              )}\r\n            </button>\r\n            <div className=\"CP-Text\">\r\n              <span>Create a new post</span>\r\n            </div>\r\n            <div className=\"CP-Share d-f\">\r\n              <button className=\"CP-POST\" disabled={AVLoading} onClick={() => crPost()}>\r\n                POST\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"cp-data\">\r\n            <div className=\"cp-img d-f relative overflow-hidden\">\r\n              {\r\n                AVLoading ? <SpinningLoader\r\n                  isLoading\r\n                  colClass=\"text-black\"\r\n                  size={10}\r\n                  className=\"flex items-center justify-center w-full mb-4\"\r\n                /> :\r\n                  <>\r\n                    {imgPreviewUrl ? (\r\n                      <>\r\n                        <video crossOrigin=\"anonymous\" className=\"h-[86vh] w-full object-contain max-h-[86vh]\" ref={videoRef} autoPlay onLoadedMetadata={getInfo} src={imgPreviewUrl as string} >\r\n                          {/* <source src={imgPreviewUrl as string} type=\"video/mp4\" /> */}\r\n                        </video>\r\n                        {/* <img\r\n                          src={MUSIC_LIST_ICON}\r\n                          alt=\"MUSIC_LIST_ICON\"\r\n                          className=\"volume-btn\"\r\n                          onClick={handleAudioScreen} /> */}\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <input\r\n                          className=\"cp-sel-img\"\r\n                          type=\"file\"\r\n                          accept=\".mp4\"\r\n                          onChange={handleImageChange} />\r\n                      </>\r\n                    )}\r\n\r\n                    {imgPreviewUrl ? (\r\n                      // <div className=\"cp-close-img\">\r\n                      <img\r\n                        src={CLOSE_ICON}\r\n                        alt=\"Close\"\r\n                        className=\"absolute top-0 right-0 bg-black p-2 rounded-bl-3xl bg-opacity-30\"\r\n                        onClick={() => closeImg()} />\r\n                    ) : // </div>\r\n                      null}\r\n                  </>\r\n              }\r\n            </div>\r\n\r\n            <div className=\"cp-caption \">\r\n              {audioS ? (\r\n                <>\r\n                  <div className=\"cp-audio-div\">\r\n                    <div className=\"cp-u\">\r\n                      <div className=\"cp-back-arr\"/*  onClick={handleAudioScreen} */>\r\n                        <img src={BACK_ICON} alt=\"back\" />\r\n                      </div>\r\n                      <div className=\"cp-UName flex justify-between\">\r\n                        <span className=\"cp-audio-title\">Select Audio </span>\r\n                        <button className=\"add-audio mr-5 text-[18px] pr-2 pl-2 rounded-md\" disabled={AVLoading} /* onClick={() => mergeAudioAndVideo()} */ > Add </button>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"audio-listing-div\">\r\n                      {/* {audioList.map((value: any, index: number) => {\r\n                        return (\r\n                          <Fragment key={index}>\r\n                            <div className={`audio-map-div px-6 cursor-pointer ${value?.file === audioUrlBlob ? 'bg-gray-100' : \"\"}`} onClick={() => selectAudioClick(value)} >\r\n                              <img\r\n                                src={MUSIC_ICON}\r\n                                alt=\"music\"\r\n                                className=\"h-5 w-5 object-contain\" />\r\n                              <div className=\"audio-title-div\">\r\n                                <span>{value.name}</span>\r\n                              </div>\r\n                              <div className=\"audio-play-btn-dic\">\r\n                                {value.id == playId ? (\r\n                                  playAudio ? (\r\n                                    <img\r\n                                      src={PAUSE_MUSIC_IC}\r\n                                      alt=\"Pause\"\r\n                                      className=\"pause-audio\"\r\n                                      onClick={() => handlePlayAudio(value, false)} />\r\n                                  ) : (\r\n                                    <img\r\n                                      src={PLAY_MUSIC_IC}\r\n                                      alt=\"play\"\r\n                                      className=\"play-audio\"\r\n                                      onClick={() => handlePlayAudio(value, true)} />\r\n                                  )\r\n                                ) : (\r\n                                  <img\r\n                                    src={PLAY_MUSIC_IC}\r\n                                    alt=\"play\"\r\n                                    className=\"play-audio\"\r\n                                    onClick={() => handlePlayAudio(value, true)} />\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </Fragment>\r\n                        );\r\n                      })} */}\r\n                    </div>\r\n                    {/* <audio crossOrigin=\"anonymous\" ref={audioRef} src={audioUrl}>                  \r\n                    </audio> */}\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div style={{ width: \"100%\" }}>\r\n                  <div className=\"cp-u \">\r\n                    <div className=\"cp-UIcon\">\r\n                      <UserIcon\r\n                        src={user.data.photo}\r\n                        popups={undefined}\r\n                        popupval={undefined}\r\n                        setPopupLike={undefined}\r\n                        popupLike={undefined}\r\n                        setPopupExplore={undefined} />\r\n                    </div>\r\n                    <div className=\"cp-UName\">{user.data.name}</div>\r\n                  </div>\r\n                  <div className=\"cp-cap d-f\">\r\n                    <textarea\r\n                      className=\"cp-inp-cap\"\r\n                      value={caption}\r\n                      id=\"cap\"\r\n                      rows={15}\r\n                      onChange={checkLength}\r\n                      placeholder=\"Write The Caption...\"\r\n                      cols={29} />\r\n                    <div className=\"cp-text-num\">\r\n                      {caption.length > 249 && \"MAX Length  \"}\r\n                      {caption.length}/250\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* <div className=\"cp-title d-f\"></div> */}\r\n            </div>\r\n          </div>\r\n        </div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreatePost;\r\n\r\n","\r\nimport React from 'react'\r\n\r\ntype props = {\r\n    setPopupPost: (b: boolean) => void, setDiscard: (b: boolean) => void, discardToggle: boolean\r\n}\r\nconst Discard = ({ setPopupPost, setDiscard, discardToggle }: props) => {\r\n    const discard = () => {\r\n        setPopupPost(false);\r\n        setDiscard(false);\r\n        // navigate(-1);\r\n    }\r\n\r\n    const cancel = () => {\r\n        setDiscard(!discardToggle);\r\n    }\r\n    return (\r\n        <div className=\"dis-main d-f\">\r\n            <div className=\"dis-box\">\r\n                <div className=\"dis-text d-f\">\r\n                    <span>  Discard post?</span>\r\n                    <span style={{ fontSize: '1.2rem' }}>  If you leave, your edits won't be saved.</span>\r\n                </div>\r\n                <div className=\"dis-discard d-f cursor-pointer\" onClick={() => discard()}>\r\n                    <span style={{ color: 'red', fontSize: '1.5rem' }} >Discard</span>\r\n                </div>\r\n                <div className=\"dis-cancel d-f cursor-pointer \" onClick={() => cancel()}>\r\n                    <span style={{ fontSize: '1.5rem' }} >Cancel</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Discard","export const AddressZero = \"0x0000000000000000000000000000000000000000\";\n//# sourceMappingURL=addresses.js.map","export const HashZero = \"0x0000000000000000000000000000000000000000000000000000000000000000\";\n//# sourceMappingURL=hashes.js.map","\"use strict\";\nimport { arrayify } from \"@ethersproject/bytes\";\nexport function decode(textData) {\n    textData = atob(textData);\n    const data = [];\n    for (let i = 0; i < textData.length; i++) {\n        data.push(textData.charCodeAt(i));\n    }\n    return arrayify(data);\n}\nexport function encode(data) {\n    data = arrayify(data);\n    let textData = \"\";\n    for (let i = 0; i < data.length; i++) {\n        textData += String.fromCharCode(data[i]);\n    }\n    return btoa(textData);\n}\n//# sourceMappingURL=base64.js.map","/**\n * MIT License\n *\n * Copyright (c) 2021 Andrew Raffensperger\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * This is a near carbon-copy of the original source (link below) with the\n * TypeScript typings added and a few tweaks to make it ES3-compatible.\n *\n * See: https://github.com/adraffy/ens-normalize.js\n */\n// https://github.com/behnammodi/polyfill/blob/master/array.polyfill.js\nfunction flat(array, depth) {\n    if (depth == null) {\n        depth = 1;\n    }\n    const result = [];\n    const forEach = result.forEach;\n    const flatDeep = function (arr, depth) {\n        forEach.call(arr, function (val) {\n            if (depth > 0 && Array.isArray(val)) {\n                flatDeep(val, depth - 1);\n            }\n            else {\n                result.push(val);\n            }\n        });\n    };\n    flatDeep(array, depth);\n    return result;\n}\nfunction fromEntries(array) {\n    const result = {};\n    for (let i = 0; i < array.length; i++) {\n        const value = array[i];\n        result[value[0]] = value[1];\n    }\n    return result;\n}\nexport function decode_arithmetic(bytes) {\n    let pos = 0;\n    function u16() { return (bytes[pos++] << 8) | bytes[pos++]; }\n    // decode the frequency table\n    let symbol_count = u16();\n    let total = 1;\n    let acc = [0, 1]; // first symbol has frequency 1\n    for (let i = 1; i < symbol_count; i++) {\n        acc.push(total += u16());\n    }\n    // skip the sized-payload that the last 3 symbols index into\n    let skip = u16();\n    let pos_payload = pos;\n    pos += skip;\n    let read_width = 0;\n    let read_buffer = 0;\n    function read_bit() {\n        if (read_width == 0) {\n            // this will read beyond end of buffer\n            // but (undefined|0) => zero pad\n            read_buffer = (read_buffer << 8) | bytes[pos++];\n            read_width = 8;\n        }\n        return (read_buffer >> --read_width) & 1;\n    }\n    const N = 31;\n    const FULL = Math.pow(2, N);\n    const HALF = FULL >>> 1;\n    const QRTR = HALF >> 1;\n    const MASK = FULL - 1;\n    // fill register\n    let register = 0;\n    for (let i = 0; i < N; i++)\n        register = (register << 1) | read_bit();\n    let symbols = [];\n    let low = 0;\n    let range = FULL; // treat like a float\n    while (true) {\n        let value = Math.floor((((register - low + 1) * total) - 1) / range);\n        let start = 0;\n        let end = symbol_count;\n        while (end - start > 1) { // binary search\n            let mid = (start + end) >>> 1;\n            if (value < acc[mid]) {\n                end = mid;\n            }\n            else {\n                start = mid;\n            }\n        }\n        if (start == 0)\n            break; // first symbol is end mark\n        symbols.push(start);\n        let a = low + Math.floor(range * acc[start] / total);\n        let b = low + Math.floor(range * acc[start + 1] / total) - 1;\n        while (((a ^ b) & HALF) == 0) {\n            register = (register << 1) & MASK | read_bit();\n            a = (a << 1) & MASK;\n            b = (b << 1) & MASK | 1;\n        }\n        while (a & ~b & QRTR) {\n            register = (register & HALF) | ((register << 1) & (MASK >>> 1)) | read_bit();\n            a = (a << 1) ^ HALF;\n            b = ((b ^ HALF) << 1) | HALF | 1;\n        }\n        low = a;\n        range = 1 + b - a;\n    }\n    let offset = symbol_count - 4;\n    return symbols.map(x => {\n        switch (x - offset) {\n            case 3: return offset + 0x10100 + ((bytes[pos_payload++] << 16) | (bytes[pos_payload++] << 8) | bytes[pos_payload++]);\n            case 2: return offset + 0x100 + ((bytes[pos_payload++] << 8) | bytes[pos_payload++]);\n            case 1: return offset + bytes[pos_payload++];\n            default: return x - 1;\n        }\n    });\n}\n// returns an iterator which returns the next symbol\nexport function read_payload(v) {\n    let pos = 0;\n    return () => v[pos++];\n}\nexport function read_compressed_payload(bytes) {\n    return read_payload(decode_arithmetic(bytes));\n}\n// eg. [0,1,2,3...] => [0,-1,1,-2,...]\nexport function signed(i) {\n    return (i & 1) ? (~i >> 1) : (i >> 1);\n}\nfunction read_counts(n, next) {\n    let v = Array(n);\n    for (let i = 0; i < n; i++)\n        v[i] = 1 + next();\n    return v;\n}\nfunction read_ascending(n, next) {\n    let v = Array(n);\n    for (let i = 0, x = -1; i < n; i++)\n        v[i] = x += 1 + next();\n    return v;\n}\nfunction read_deltas(n, next) {\n    let v = Array(n);\n    for (let i = 0, x = 0; i < n; i++)\n        v[i] = x += signed(next());\n    return v;\n}\nexport function read_member_array(next, lookup) {\n    let v = read_ascending(next(), next);\n    let n = next();\n    let vX = read_ascending(n, next);\n    let vN = read_counts(n, next);\n    for (let i = 0; i < n; i++) {\n        for (let j = 0; j < vN[i]; j++) {\n            v.push(vX[i] + j);\n        }\n    }\n    return lookup ? v.map(x => lookup[x]) : v;\n}\n// returns array of \n// [x, ys] => single replacement rule\n// [x, ys, n, dx, dx] => linear map\nexport function read_mapped_map(next) {\n    let ret = [];\n    while (true) {\n        let w = next();\n        if (w == 0)\n            break;\n        ret.push(read_linear_table(w, next));\n    }\n    while (true) {\n        let w = next() - 1;\n        if (w < 0)\n            break;\n        ret.push(read_replacement_table(w, next));\n    }\n    return fromEntries(flat(ret));\n}\nexport function read_zero_terminated_array(next) {\n    let v = [];\n    while (true) {\n        let i = next();\n        if (i == 0)\n            break;\n        v.push(i);\n    }\n    return v;\n}\nfunction read_transposed(n, w, next) {\n    let m = Array(n).fill(undefined).map(() => []);\n    for (let i = 0; i < w; i++) {\n        read_deltas(n, next).forEach((x, j) => m[j].push(x));\n    }\n    return m;\n}\nfunction read_linear_table(w, next) {\n    let dx = 1 + next();\n    let dy = next();\n    let vN = read_zero_terminated_array(next);\n    let m = read_transposed(vN.length, 1 + w, next);\n    return flat(m.map((v, i) => {\n        const x = v[0], ys = v.slice(1);\n        //let [x, ...ys] = v;\n        //return Array(vN[i]).fill().map((_, j) => {\n        return Array(vN[i]).fill(undefined).map((_, j) => {\n            let j_dy = j * dy;\n            return [x + j * dx, ys.map(y => y + j_dy)];\n        });\n    }));\n}\nfunction read_replacement_table(w, next) {\n    let n = 1 + next();\n    let m = read_transposed(n, 1 + w, next);\n    return m.map(v => [v[0], v.slice(1)]);\n}\nexport function read_emoji_trie(next) {\n    let sorted = read_member_array(next).sort((a, b) => a - b);\n    return read();\n    function read() {\n        let branches = [];\n        while (true) {\n            let keys = read_member_array(next, sorted);\n            if (keys.length == 0)\n                break;\n            branches.push({ set: new Set(keys), node: read() });\n        }\n        branches.sort((a, b) => b.set.size - a.set.size); // sort by likelihood\n        let temp = next();\n        let valid = temp % 3;\n        temp = (temp / 3) | 0;\n        let fe0f = !!(temp & 1);\n        temp >>= 1;\n        let save = temp == 1;\n        let check = temp == 2;\n        return { branches, valid, fe0f, save, check };\n    }\n}\n//# sourceMappingURL=decoder.js.map","/**\n * MIT License\n *\n * Copyright (c) 2021 Andrew Raffensperger\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * This is a near carbon-copy of the original source (link below) with the\n * TypeScript typings added and a few tweaks to make it ES3-compatible.\n *\n * See: https://github.com/adraffy/ens-normalize.js\n */\nimport { decode } from \"@ethersproject/base64\";\nimport { read_compressed_payload } from './decoder.js';\nexport function getData() {\n    return read_compressed_payload(decode('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'));\n}\n//# sourceMappingURL=include.js.map","/**\n * MIT License\n *\n * Copyright (c) 2021 Andrew Raffensperger\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * This is a near carbon-copy of the original source (link below) with the\n * TypeScript typings added and a few tweaks to make it ES3-compatible.\n *\n * See: https://github.com/adraffy/ens-normalize.js\n */\nimport { toUtf8CodePoints } from \"@ethersproject/strings\";\nimport { getData } from './include.js';\nconst r = getData();\nimport { read_member_array, read_mapped_map, read_emoji_trie } from './decoder.js';\n// @TODO: This should be lazily loaded\nconst VALID = new Set(read_member_array(r));\nconst IGNORED = new Set(read_member_array(r));\nconst MAPPED = read_mapped_map(r);\nconst EMOJI_ROOT = read_emoji_trie(r);\n//const NFC_CHECK = new Set(read_member_array(r, Array.from(VALID.values()).sort((a, b) => a - b)));\n//const STOP = 0x2E;\nconst HYPHEN = 0x2D;\nconst UNDERSCORE = 0x5F;\nfunction explode_cp(name) {\n    return toUtf8CodePoints(name);\n}\nfunction filter_fe0f(cps) {\n    return cps.filter(cp => cp != 0xFE0F);\n}\nexport function ens_normalize_post_check(name) {\n    for (let label of name.split('.')) {\n        let cps = explode_cp(label);\n        try {\n            for (let i = cps.lastIndexOf(UNDERSCORE) - 1; i >= 0; i--) {\n                if (cps[i] !== UNDERSCORE) {\n                    throw new Error(`underscore only allowed at start`);\n                }\n            }\n            if (cps.length >= 4 && cps.every(cp => cp < 0x80) && cps[2] === HYPHEN && cps[3] === HYPHEN) {\n                throw new Error(`invalid label extension`);\n            }\n        }\n        catch (err) {\n            throw new Error(`Invalid label \"${label}\": ${err.message}`);\n        }\n    }\n    return name;\n}\nexport function ens_normalize(name) {\n    return ens_normalize_post_check(normalize(name, filter_fe0f));\n}\nfunction normalize(name, emoji_filter) {\n    let input = explode_cp(name).reverse(); // flip for pop\n    let output = [];\n    while (input.length) {\n        let emoji = consume_emoji_reversed(input);\n        if (emoji) {\n            output.push(...emoji_filter(emoji));\n            continue;\n        }\n        let cp = input.pop();\n        if (VALID.has(cp)) {\n            output.push(cp);\n            continue;\n        }\n        if (IGNORED.has(cp)) {\n            continue;\n        }\n        let cps = MAPPED[cp];\n        if (cps) {\n            output.push(...cps);\n            continue;\n        }\n        throw new Error(`Disallowed codepoint: 0x${cp.toString(16).toUpperCase()}`);\n    }\n    return ens_normalize_post_check(nfc(String.fromCodePoint(...output)));\n}\nfunction nfc(s) {\n    return s.normalize('NFC');\n}\nfunction consume_emoji_reversed(cps, eaten) {\n    var _a;\n    let node = EMOJI_ROOT;\n    let emoji;\n    let saved;\n    let stack = [];\n    let pos = cps.length;\n    if (eaten)\n        eaten.length = 0; // clear input buffer (if needed)\n    while (pos) {\n        let cp = cps[--pos];\n        node = (_a = node.branches.find(x => x.set.has(cp))) === null || _a === void 0 ? void 0 : _a.node;\n        if (!node)\n            break;\n        if (node.save) { // remember\n            saved = cp;\n        }\n        else if (node.check) { // check exclusion\n            if (cp === saved)\n                break;\n        }\n        stack.push(cp);\n        if (node.fe0f) {\n            stack.push(0xFE0F);\n            if (pos > 0 && cps[pos - 1] == 0xFE0F)\n                pos--; // consume optional FE0F\n        }\n        if (node.valid) { // this is a valid emoji (so far)\n            emoji = stack.slice(); // copy stack\n            if (node.valid == 2)\n                emoji.splice(1, 1); // delete FE0F at position 1 (RGI ZWJ don't follow spec!)\n            if (eaten)\n                eaten.push(...cps.slice(pos).reverse()); // copy input (if needed)\n            cps.length = pos; // truncate\n        }\n    }\n    return emoji;\n}\n//# sourceMappingURL=lib.js.map","import { concat, hexlify } from \"@ethersproject/bytes\";\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { ens_normalize } from \"./ens-normalize/lib\";\nconst Zeros = new Uint8Array(32);\nZeros.fill(0);\nfunction checkComponent(comp) {\n    if (comp.length === 0) {\n        throw new Error(\"invalid ENS name; empty component\");\n    }\n    return comp;\n}\nfunction ensNameSplit(name) {\n    const bytes = toUtf8Bytes(ens_normalize(name));\n    const comps = [];\n    if (name.length === 0) {\n        return comps;\n    }\n    let last = 0;\n    for (let i = 0; i < bytes.length; i++) {\n        const d = bytes[i];\n        // A separator (i.e. \".\"); copy this component\n        if (d === 0x2e) {\n            comps.push(checkComponent(bytes.slice(last, i)));\n            last = i + 1;\n        }\n    }\n    // There was a stray separator at the end of the name\n    if (last >= bytes.length) {\n        throw new Error(\"invalid ENS name; empty component\");\n    }\n    comps.push(checkComponent(bytes.slice(last)));\n    return comps;\n}\nexport function ensNormalize(name) {\n    return ensNameSplit(name).map((comp) => toUtf8String(comp)).join(\".\");\n}\nexport function isValidName(name) {\n    try {\n        return (ensNameSplit(name).length !== 0);\n    }\n    catch (error) { }\n    return false;\n}\nexport function namehash(name) {\n    /* istanbul ignore if */\n    if (typeof (name) !== \"string\") {\n        logger.throwArgumentError(\"invalid ENS name; not a string\", \"name\", name);\n    }\n    let result = Zeros;\n    const comps = ensNameSplit(name);\n    while (comps.length) {\n        result = keccak256(concat([result, keccak256(comps.pop())]));\n    }\n    return hexlify(result);\n}\nexport function dnsEncode(name) {\n    return hexlify(concat(ensNameSplit(name).map((comp) => {\n        // DNS does not allow components over 63 bytes in length\n        if (comp.length > 63) {\n            throw new Error(\"invalid DNS encoded entry; length exceeds 63 bytes\");\n        }\n        const bytes = new Uint8Array(comp.length + 1);\n        bytes.set(comp, 1);\n        bytes[0] = bytes.length - 1;\n        return bytes;\n    }))) + \"00\";\n}\n//# sourceMappingURL=namehash.js.map","export const version = \"networks/5.7.1\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n;\nfunction isRenetworkable(value) {\n    return (value && typeof (value.renetwork) === \"function\");\n}\nfunction ethDefaultProvider(network) {\n    const func = function (providers, options) {\n        if (options == null) {\n            options = {};\n        }\n        const providerList = [];\n        if (providers.InfuraProvider && options.infura !== \"-\") {\n            try {\n                providerList.push(new providers.InfuraProvider(network, options.infura));\n            }\n            catch (error) { }\n        }\n        if (providers.EtherscanProvider && options.etherscan !== \"-\") {\n            try {\n                providerList.push(new providers.EtherscanProvider(network, options.etherscan));\n            }\n            catch (error) { }\n        }\n        if (providers.AlchemyProvider && options.alchemy !== \"-\") {\n            try {\n                providerList.push(new providers.AlchemyProvider(network, options.alchemy));\n            }\n            catch (error) { }\n        }\n        if (providers.PocketProvider && options.pocket !== \"-\") {\n            // These networks are currently faulty on Pocket as their\n            // network does not handle the Berlin hardfork, which is\n            // live on these ones.\n            // @TODO: This goes away once Pocket has upgraded their nodes\n            const skip = [\"goerli\", \"ropsten\", \"rinkeby\", \"sepolia\"];\n            try {\n                const provider = new providers.PocketProvider(network, options.pocket);\n                if (provider.network && skip.indexOf(provider.network.name) === -1) {\n                    providerList.push(provider);\n                }\n            }\n            catch (error) { }\n        }\n        if (providers.CloudflareProvider && options.cloudflare !== \"-\") {\n            try {\n                providerList.push(new providers.CloudflareProvider(network));\n            }\n            catch (error) { }\n        }\n        if (providers.AnkrProvider && options.ankr !== \"-\") {\n            try {\n                const skip = [\"ropsten\"];\n                const provider = new providers.AnkrProvider(network, options.ankr);\n                if (provider.network && skip.indexOf(provider.network.name) === -1) {\n                    providerList.push(provider);\n                }\n            }\n            catch (error) { }\n        }\n        if (providerList.length === 0) {\n            return null;\n        }\n        if (providers.FallbackProvider) {\n            let quorum = 1;\n            if (options.quorum != null) {\n                quorum = options.quorum;\n            }\n            else if (network === \"homestead\") {\n                quorum = 2;\n            }\n            return new providers.FallbackProvider(providerList, quorum);\n        }\n        return providerList[0];\n    };\n    func.renetwork = function (network) {\n        return ethDefaultProvider(network);\n    };\n    return func;\n}\nfunction etcDefaultProvider(url, network) {\n    const func = function (providers, options) {\n        if (providers.JsonRpcProvider) {\n            return new providers.JsonRpcProvider(url, network);\n        }\n        return null;\n    };\n    func.renetwork = function (network) {\n        return etcDefaultProvider(url, network);\n    };\n    return func;\n}\nconst homestead = {\n    chainId: 1,\n    ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n    name: \"homestead\",\n    _defaultProvider: ethDefaultProvider(\"homestead\")\n};\nconst ropsten = {\n    chainId: 3,\n    ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n    name: \"ropsten\",\n    _defaultProvider: ethDefaultProvider(\"ropsten\")\n};\nconst classicMordor = {\n    chainId: 63,\n    name: \"classicMordor\",\n    _defaultProvider: etcDefaultProvider(\"https://www.ethercluster.com/mordor\", \"classicMordor\")\n};\n// See: https://chainlist.org\nconst networks = {\n    unspecified: { chainId: 0, name: \"unspecified\" },\n    homestead: homestead,\n    mainnet: homestead,\n    morden: { chainId: 2, name: \"morden\" },\n    ropsten: ropsten,\n    testnet: ropsten,\n    rinkeby: {\n        chainId: 4,\n        ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n        name: \"rinkeby\",\n        _defaultProvider: ethDefaultProvider(\"rinkeby\")\n    },\n    kovan: {\n        chainId: 42,\n        name: \"kovan\",\n        _defaultProvider: ethDefaultProvider(\"kovan\")\n    },\n    goerli: {\n        chainId: 5,\n        ensAddress: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\",\n        name: \"goerli\",\n        _defaultProvider: ethDefaultProvider(\"goerli\")\n    },\n    kintsugi: { chainId: 1337702, name: \"kintsugi\" },\n    sepolia: {\n        chainId: 11155111,\n        name: \"sepolia\",\n        _defaultProvider: ethDefaultProvider(\"sepolia\")\n    },\n    // ETC (See: #351)\n    classic: {\n        chainId: 61,\n        name: \"classic\",\n        _defaultProvider: etcDefaultProvider(\"https:/\\/www.ethercluster.com/etc\", \"classic\")\n    },\n    classicMorden: { chainId: 62, name: \"classicMorden\" },\n    classicMordor: classicMordor,\n    classicTestnet: classicMordor,\n    classicKotti: {\n        chainId: 6,\n        name: \"classicKotti\",\n        _defaultProvider: etcDefaultProvider(\"https:/\\/www.ethercluster.com/kotti\", \"classicKotti\")\n    },\n    xdai: { chainId: 100, name: \"xdai\" },\n    matic: {\n        chainId: 137,\n        name: \"matic\",\n        _defaultProvider: ethDefaultProvider(\"matic\")\n    },\n    maticmum: { chainId: 80001, name: \"maticmum\" },\n    optimism: {\n        chainId: 10,\n        name: \"optimism\",\n        _defaultProvider: ethDefaultProvider(\"optimism\")\n    },\n    \"optimism-kovan\": { chainId: 69, name: \"optimism-kovan\" },\n    \"optimism-goerli\": { chainId: 420, name: \"optimism-goerli\" },\n    arbitrum: { chainId: 42161, name: \"arbitrum\" },\n    \"arbitrum-rinkeby\": { chainId: 421611, name: \"arbitrum-rinkeby\" },\n    \"arbitrum-goerli\": { chainId: 421613, name: \"arbitrum-goerli\" },\n    bnb: { chainId: 56, name: \"bnb\" },\n    bnbt: { chainId: 97, name: \"bnbt\" },\n};\n/**\n *  getNetwork\n *\n *  Converts a named common networks or chain ID (network ID) to a Network\n *  and verifies a network is a valid Network..\n */\nexport function getNetwork(network) {\n    // No network (null)\n    if (network == null) {\n        return null;\n    }\n    if (typeof (network) === \"number\") {\n        for (const name in networks) {\n            const standard = networks[name];\n            if (standard.chainId === network) {\n                return {\n                    name: standard.name,\n                    chainId: standard.chainId,\n                    ensAddress: (standard.ensAddress || null),\n                    _defaultProvider: (standard._defaultProvider || null)\n                };\n            }\n        }\n        return {\n            chainId: network,\n            name: \"unknown\"\n        };\n    }\n    if (typeof (network) === \"string\") {\n        const standard = networks[network];\n        if (standard == null) {\n            return null;\n        }\n        return {\n            name: standard.name,\n            chainId: standard.chainId,\n            ensAddress: standard.ensAddress,\n            _defaultProvider: (standard._defaultProvider || null)\n        };\n    }\n    const standard = networks[network.name];\n    // Not a standard network; check that it is a valid network in general\n    if (!standard) {\n        if (typeof (network.chainId) !== \"number\") {\n            logger.throwArgumentError(\"invalid network chainId\", \"network\", network);\n        }\n        return network;\n    }\n    // Make sure the chainId matches the expected network chainId (or is 0; disable EIP-155)\n    if (network.chainId !== 0 && network.chainId !== standard.chainId) {\n        logger.throwArgumentError(\"network chainId mismatch\", \"network\", network);\n    }\n    // @TODO: In the next major version add an attach function to a defaultProvider\n    // class and move the _defaultProvider internal to this file (extend Network)\n    let defaultProvider = network._defaultProvider || null;\n    if (defaultProvider == null && standard._defaultProvider) {\n        if (isRenetworkable(standard._defaultProvider)) {\n            defaultProvider = standard._defaultProvider.renetwork(network);\n        }\n        else {\n            defaultProvider = standard._defaultProvider;\n        }\n    }\n    // Standard Network (allow overriding the ENS address)\n    return {\n        name: network.name,\n        chainId: standard.chainId,\n        ensAddress: (network.ensAddress || standard.ensAddress || null),\n        _defaultProvider: defaultProvider\n    };\n}\n//# sourceMappingURL=index.js.map","export const version = \"web/5.7.1\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { arrayify } from \"@ethersproject/bytes\";\nexport function getUrl(href, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (options == null) {\n            options = {};\n        }\n        const request = {\n            method: (options.method || \"GET\"),\n            headers: (options.headers || {}),\n            body: (options.body || undefined),\n        };\n        if (options.skipFetchSetup !== true) {\n            request.mode = \"cors\"; // no-cors, cors, *same-origin\n            request.cache = \"no-cache\"; // *default, no-cache, reload, force-cache, only-if-cached\n            request.credentials = \"same-origin\"; // include, *same-origin, omit\n            request.redirect = \"follow\"; // manual, *follow, error\n            request.referrer = \"client\"; // no-referrer, *client\n        }\n        ;\n        if (options.fetchOptions != null) {\n            const opts = options.fetchOptions;\n            if (opts.mode) {\n                request.mode = (opts.mode);\n            }\n            if (opts.cache) {\n                request.cache = (opts.cache);\n            }\n            if (opts.credentials) {\n                request.credentials = (opts.credentials);\n            }\n            if (opts.redirect) {\n                request.redirect = (opts.redirect);\n            }\n            if (opts.referrer) {\n                request.referrer = opts.referrer;\n            }\n        }\n        const response = yield fetch(href, request);\n        const body = yield response.arrayBuffer();\n        const headers = {};\n        if (response.headers.forEach) {\n            response.headers.forEach((value, key) => {\n                headers[key.toLowerCase()] = value;\n            });\n        }\n        else {\n            ((response.headers).keys)().forEach((key) => {\n                headers[key.toLowerCase()] = response.headers.get(key);\n            });\n        }\n        return {\n            headers: headers,\n            statusCode: response.status,\n            statusMessage: response.statusText,\n            body: arrayify(new Uint8Array(body)),\n        };\n    });\n}\n//# sourceMappingURL=geturl.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { decode as base64Decode, encode as base64Encode } from \"@ethersproject/base64\";\nimport { hexlify, isBytesLike } from \"@ethersproject/bytes\";\nimport { shallowCopy } from \"@ethersproject/properties\";\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { getUrl } from \"./geturl\";\nfunction staller(duration) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, duration);\n    });\n}\nfunction bodyify(value, type) {\n    if (value == null) {\n        return null;\n    }\n    if (typeof (value) === \"string\") {\n        return value;\n    }\n    if (isBytesLike(value)) {\n        if (type && (type.split(\"/\")[0] === \"text\" || type.split(\";\")[0].trim() === \"application/json\")) {\n            try {\n                return toUtf8String(value);\n            }\n            catch (error) { }\n            ;\n        }\n        return hexlify(value);\n    }\n    return value;\n}\nfunction unpercent(value) {\n    return toUtf8Bytes(value.replace(/%([0-9a-f][0-9a-f])/gi, (all, code) => {\n        return String.fromCharCode(parseInt(code, 16));\n    }));\n}\n// This API is still a work in progress; the future changes will likely be:\n// - ConnectionInfo => FetchDataRequest<T = any>\n// - FetchDataRequest.body? = string | Uint8Array | { contentType: string, data: string | Uint8Array }\n//   - If string => text/plain, Uint8Array => application/octet-stream (if content-type unspecified)\n// - FetchDataRequest.processFunc = (body: Uint8Array, response: FetchDataResponse) => T\n// For this reason, it should be considered internal until the API is finalized\nexport function _fetchData(connection, body, processFunc) {\n    // How many times to retry in the event of a throttle\n    const attemptLimit = (typeof (connection) === \"object\" && connection.throttleLimit != null) ? connection.throttleLimit : 12;\n    logger.assertArgument((attemptLimit > 0 && (attemptLimit % 1) === 0), \"invalid connection throttle limit\", \"connection.throttleLimit\", attemptLimit);\n    const throttleCallback = ((typeof (connection) === \"object\") ? connection.throttleCallback : null);\n    const throttleSlotInterval = ((typeof (connection) === \"object\" && typeof (connection.throttleSlotInterval) === \"number\") ? connection.throttleSlotInterval : 100);\n    logger.assertArgument((throttleSlotInterval > 0 && (throttleSlotInterval % 1) === 0), \"invalid connection throttle slot interval\", \"connection.throttleSlotInterval\", throttleSlotInterval);\n    const errorPassThrough = ((typeof (connection) === \"object\") ? !!(connection.errorPassThrough) : false);\n    const headers = {};\n    let url = null;\n    // @TODO: Allow ConnectionInfo to override some of these values\n    const options = {\n        method: \"GET\",\n    };\n    let allow304 = false;\n    let timeout = 2 * 60 * 1000;\n    if (typeof (connection) === \"string\") {\n        url = connection;\n    }\n    else if (typeof (connection) === \"object\") {\n        if (connection == null || connection.url == null) {\n            logger.throwArgumentError(\"missing URL\", \"connection.url\", connection);\n        }\n        url = connection.url;\n        if (typeof (connection.timeout) === \"number\" && connection.timeout > 0) {\n            timeout = connection.timeout;\n        }\n        if (connection.headers) {\n            for (const key in connection.headers) {\n                headers[key.toLowerCase()] = { key: key, value: String(connection.headers[key]) };\n                if ([\"if-none-match\", \"if-modified-since\"].indexOf(key.toLowerCase()) >= 0) {\n                    allow304 = true;\n                }\n            }\n        }\n        options.allowGzip = !!connection.allowGzip;\n        if (connection.user != null && connection.password != null) {\n            if (url.substring(0, 6) !== \"https:\" && connection.allowInsecureAuthentication !== true) {\n                logger.throwError(\"basic authentication requires a secure https url\", Logger.errors.INVALID_ARGUMENT, { argument: \"url\", url: url, user: connection.user, password: \"[REDACTED]\" });\n            }\n            const authorization = connection.user + \":\" + connection.password;\n            headers[\"authorization\"] = {\n                key: \"Authorization\",\n                value: \"Basic \" + base64Encode(toUtf8Bytes(authorization))\n            };\n        }\n        if (connection.skipFetchSetup != null) {\n            options.skipFetchSetup = !!connection.skipFetchSetup;\n        }\n        if (connection.fetchOptions != null) {\n            options.fetchOptions = shallowCopy(connection.fetchOptions);\n        }\n    }\n    const reData = new RegExp(\"^data:([^;:]*)?(;base64)?,(.*)$\", \"i\");\n    const dataMatch = ((url) ? url.match(reData) : null);\n    if (dataMatch) {\n        try {\n            const response = {\n                statusCode: 200,\n                statusMessage: \"OK\",\n                headers: { \"content-type\": (dataMatch[1] || \"text/plain\") },\n                body: (dataMatch[2] ? base64Decode(dataMatch[3]) : unpercent(dataMatch[3]))\n            };\n            let result = response.body;\n            if (processFunc) {\n                result = processFunc(response.body, response);\n            }\n            return Promise.resolve(result);\n        }\n        catch (error) {\n            logger.throwError(\"processing response error\", Logger.errors.SERVER_ERROR, {\n                body: bodyify(dataMatch[1], dataMatch[2]),\n                error: error,\n                requestBody: null,\n                requestMethod: \"GET\",\n                url: url\n            });\n        }\n    }\n    if (body) {\n        options.method = \"POST\";\n        options.body = body;\n        if (headers[\"content-type\"] == null) {\n            headers[\"content-type\"] = { key: \"Content-Type\", value: \"application/octet-stream\" };\n        }\n        if (headers[\"content-length\"] == null) {\n            headers[\"content-length\"] = { key: \"Content-Length\", value: String(body.length) };\n        }\n    }\n    const flatHeaders = {};\n    Object.keys(headers).forEach((key) => {\n        const header = headers[key];\n        flatHeaders[header.key] = header.value;\n    });\n    options.headers = flatHeaders;\n    const runningTimeout = (function () {\n        let timer = null;\n        const promise = new Promise(function (resolve, reject) {\n            if (timeout) {\n                timer = setTimeout(() => {\n                    if (timer == null) {\n                        return;\n                    }\n                    timer = null;\n                    reject(logger.makeError(\"timeout\", Logger.errors.TIMEOUT, {\n                        requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                        requestMethod: options.method,\n                        timeout: timeout,\n                        url: url\n                    }));\n                }, timeout);\n            }\n        });\n        const cancel = function () {\n            if (timer == null) {\n                return;\n            }\n            clearTimeout(timer);\n            timer = null;\n        };\n        return { promise, cancel };\n    })();\n    const runningFetch = (function () {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (let attempt = 0; attempt < attemptLimit; attempt++) {\n                let response = null;\n                try {\n                    response = yield getUrl(url, options);\n                    if (attempt < attemptLimit) {\n                        if (response.statusCode === 301 || response.statusCode === 302) {\n                            // Redirection; for now we only support absolute locataions\n                            const location = response.headers.location || \"\";\n                            if (options.method === \"GET\" && location.match(/^https:/)) {\n                                url = response.headers.location;\n                                continue;\n                            }\n                        }\n                        else if (response.statusCode === 429) {\n                            // Exponential back-off throttling\n                            let tryAgain = true;\n                            if (throttleCallback) {\n                                tryAgain = yield throttleCallback(attempt, url);\n                            }\n                            if (tryAgain) {\n                                let stall = 0;\n                                const retryAfter = response.headers[\"retry-after\"];\n                                if (typeof (retryAfter) === \"string\" && retryAfter.match(/^[1-9][0-9]*$/)) {\n                                    stall = parseInt(retryAfter) * 1000;\n                                }\n                                else {\n                                    stall = throttleSlotInterval * parseInt(String(Math.random() * Math.pow(2, attempt)));\n                                }\n                                //console.log(\"Stalling 429\");\n                                yield staller(stall);\n                                continue;\n                            }\n                        }\n                    }\n                }\n                catch (error) {\n                    response = error.response;\n                    if (response == null) {\n                        runningTimeout.cancel();\n                        logger.throwError(\"missing response\", Logger.errors.SERVER_ERROR, {\n                            requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                            requestMethod: options.method,\n                            serverError: error,\n                            url: url\n                        });\n                    }\n                }\n                let body = response.body;\n                if (allow304 && response.statusCode === 304) {\n                    body = null;\n                }\n                else if (!errorPassThrough && (response.statusCode < 200 || response.statusCode >= 300)) {\n                    runningTimeout.cancel();\n                    logger.throwError(\"bad response\", Logger.errors.SERVER_ERROR, {\n                        status: response.statusCode,\n                        headers: response.headers,\n                        body: bodyify(body, ((response.headers) ? response.headers[\"content-type\"] : null)),\n                        requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                        requestMethod: options.method,\n                        url: url\n                    });\n                }\n                if (processFunc) {\n                    try {\n                        const result = yield processFunc(body, response);\n                        runningTimeout.cancel();\n                        return result;\n                    }\n                    catch (error) {\n                        // Allow the processFunc to trigger a throttle\n                        if (error.throttleRetry && attempt < attemptLimit) {\n                            let tryAgain = true;\n                            if (throttleCallback) {\n                                tryAgain = yield throttleCallback(attempt, url);\n                            }\n                            if (tryAgain) {\n                                const timeout = throttleSlotInterval * parseInt(String(Math.random() * Math.pow(2, attempt)));\n                                //console.log(\"Stalling callback\");\n                                yield staller(timeout);\n                                continue;\n                            }\n                        }\n                        runningTimeout.cancel();\n                        logger.throwError(\"processing response error\", Logger.errors.SERVER_ERROR, {\n                            body: bodyify(body, ((response.headers) ? response.headers[\"content-type\"] : null)),\n                            error: error,\n                            requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                            requestMethod: options.method,\n                            url: url\n                        });\n                    }\n                }\n                runningTimeout.cancel();\n                // If we had a processFunc, it either returned a T or threw above.\n                // The \"body\" is now a Uint8Array.\n                return body;\n            }\n            return logger.throwError(\"failed response\", Logger.errors.SERVER_ERROR, {\n                requestBody: bodyify(options.body, flatHeaders[\"content-type\"]),\n                requestMethod: options.method,\n                url: url\n            });\n        });\n    })();\n    return Promise.race([runningTimeout.promise, runningFetch]);\n}\nexport function fetchJson(connection, json, processFunc) {\n    let processJsonFunc = (value, response) => {\n        let result = null;\n        if (value != null) {\n            try {\n                result = JSON.parse(toUtf8String(value));\n            }\n            catch (error) {\n                logger.throwError(\"invalid JSON\", Logger.errors.SERVER_ERROR, {\n                    body: value,\n                    error: error\n                });\n            }\n        }\n        if (processFunc) {\n            result = processFunc(result, response);\n        }\n        return result;\n    };\n    // If we have json to send, we must\n    // - add content-type of application/json (unless already overridden)\n    // - convert the json to bytes\n    let body = null;\n    if (json != null) {\n        body = toUtf8Bytes(json);\n        // Create a connection with the content-type set for JSON\n        const updated = (typeof (connection) === \"string\") ? ({ url: connection }) : shallowCopy(connection);\n        if (updated.headers) {\n            const hasContentType = (Object.keys(updated.headers).filter((k) => (k.toLowerCase() === \"content-type\")).length) !== 0;\n            if (!hasContentType) {\n                updated.headers = shallowCopy(updated.headers);\n                updated.headers[\"content-type\"] = \"application/json\";\n            }\n        }\n        else {\n            updated.headers = { \"content-type\": \"application/json\" };\n        }\n        connection = updated;\n    }\n    return _fetchData(connection, body, processJsonFunc);\n}\nexport function poll(func, options) {\n    if (!options) {\n        options = {};\n    }\n    options = shallowCopy(options);\n    if (options.floor == null) {\n        options.floor = 0;\n    }\n    if (options.ceiling == null) {\n        options.ceiling = 10000;\n    }\n    if (options.interval == null) {\n        options.interval = 250;\n    }\n    return new Promise(function (resolve, reject) {\n        let timer = null;\n        let done = false;\n        // Returns true if cancel was successful. Unsuccessful cancel means we're already done.\n        const cancel = () => {\n            if (done) {\n                return false;\n            }\n            done = true;\n            if (timer) {\n                clearTimeout(timer);\n            }\n            return true;\n        };\n        if (options.timeout) {\n            timer = setTimeout(() => {\n                if (cancel()) {\n                    reject(new Error(\"timeout\"));\n                }\n            }, options.timeout);\n        }\n        const retryLimit = options.retryLimit;\n        let attempt = 0;\n        function check() {\n            return func().then(function (result) {\n                // If we have a result, or are allowed null then we're done\n                if (result !== undefined) {\n                    if (cancel()) {\n                        resolve(result);\n                    }\n                }\n                else if (options.oncePoll) {\n                    options.oncePoll.once(\"poll\", check);\n                }\n                else if (options.onceBlock) {\n                    options.onceBlock.once(\"block\", check);\n                    // Otherwise, exponential back-off (up to 10s) our next request\n                }\n                else if (!done) {\n                    attempt++;\n                    if (attempt > retryLimit) {\n                        if (cancel()) {\n                            reject(new Error(\"retry limit reached\"));\n                        }\n                        return;\n                    }\n                    let timeout = options.interval * parseInt(String(Math.random() * Math.pow(2, attempt)));\n                    if (timeout < options.floor) {\n                        timeout = options.floor;\n                    }\n                    if (timeout > options.ceiling) {\n                        timeout = options.ceiling;\n                    }\n                    setTimeout(check, timeout);\n                }\n                return null;\n            }, function (error) {\n                if (cancel()) {\n                    reject(error);\n                }\n            });\n        }\n        check();\n    });\n}\n//# sourceMappingURL=index.js.map","'use strict'\nvar ALPHABET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l'\n\n// pre-compute lookup table\nvar ALPHABET_MAP = {}\nfor (var z = 0; z < ALPHABET.length; z++) {\n  var x = ALPHABET.charAt(z)\n\n  if (ALPHABET_MAP[x] !== undefined) throw new TypeError(x + ' is ambiguous')\n  ALPHABET_MAP[x] = z\n}\n\nfunction polymodStep (pre) {\n  var b = pre >> 25\n  return ((pre & 0x1FFFFFF) << 5) ^\n    (-((b >> 0) & 1) & 0x3b6a57b2) ^\n    (-((b >> 1) & 1) & 0x26508e6d) ^\n    (-((b >> 2) & 1) & 0x1ea119fa) ^\n    (-((b >> 3) & 1) & 0x3d4233dd) ^\n    (-((b >> 4) & 1) & 0x2a1462b3)\n}\n\nfunction prefixChk (prefix) {\n  var chk = 1\n  for (var i = 0; i < prefix.length; ++i) {\n    var c = prefix.charCodeAt(i)\n    if (c < 33 || c > 126) return 'Invalid prefix (' + prefix + ')'\n\n    chk = polymodStep(chk) ^ (c >> 5)\n  }\n  chk = polymodStep(chk)\n\n  for (i = 0; i < prefix.length; ++i) {\n    var v = prefix.charCodeAt(i)\n    chk = polymodStep(chk) ^ (v & 0x1f)\n  }\n  return chk\n}\n\nfunction encode (prefix, words, LIMIT) {\n  LIMIT = LIMIT || 90\n  if ((prefix.length + 7 + words.length) > LIMIT) throw new TypeError('Exceeds length limit')\n\n  prefix = prefix.toLowerCase()\n\n  // determine chk mod\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') throw new Error(chk)\n\n  var result = prefix + '1'\n  for (var i = 0; i < words.length; ++i) {\n    var x = words[i]\n    if ((x >> 5) !== 0) throw new Error('Non 5-bit word')\n\n    chk = polymodStep(chk) ^ x\n    result += ALPHABET.charAt(x)\n  }\n\n  for (i = 0; i < 6; ++i) {\n    chk = polymodStep(chk)\n  }\n  chk ^= 1\n\n  for (i = 0; i < 6; ++i) {\n    var v = (chk >> ((5 - i) * 5)) & 0x1f\n    result += ALPHABET.charAt(v)\n  }\n\n  return result\n}\n\nfunction __decode (str, LIMIT) {\n  LIMIT = LIMIT || 90\n  if (str.length < 8) return str + ' too short'\n  if (str.length > LIMIT) return 'Exceeds length limit'\n\n  // don't allow mixed case\n  var lowered = str.toLowerCase()\n  var uppered = str.toUpperCase()\n  if (str !== lowered && str !== uppered) return 'Mixed-case string ' + str\n  str = lowered\n\n  var split = str.lastIndexOf('1')\n  if (split === -1) return 'No separator character for ' + str\n  if (split === 0) return 'Missing prefix for ' + str\n\n  var prefix = str.slice(0, split)\n  var wordChars = str.slice(split + 1)\n  if (wordChars.length < 6) return 'Data too short'\n\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') return chk\n\n  var words = []\n  for (var i = 0; i < wordChars.length; ++i) {\n    var c = wordChars.charAt(i)\n    var v = ALPHABET_MAP[c]\n    if (v === undefined) return 'Unknown character ' + c\n    chk = polymodStep(chk) ^ v\n\n    // not in the checksum?\n    if (i + 6 >= wordChars.length) continue\n    words.push(v)\n  }\n\n  if (chk !== 1) return 'Invalid checksum for ' + str\n  return { prefix: prefix, words: words }\n}\n\nfunction decodeUnsafe () {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n}\n\nfunction decode (str) {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n\n  throw new Error(res)\n}\n\nfunction convert (data, inBits, outBits, pad) {\n  var value = 0\n  var bits = 0\n  var maxV = (1 << outBits) - 1\n\n  var result = []\n  for (var i = 0; i < data.length; ++i) {\n    value = (value << inBits) | data[i]\n    bits += inBits\n\n    while (bits >= outBits) {\n      bits -= outBits\n      result.push((value >> bits) & maxV)\n    }\n  }\n\n  if (pad) {\n    if (bits > 0) {\n      result.push((value << (outBits - bits)) & maxV)\n    }\n  } else {\n    if (bits >= inBits) return 'Excess padding'\n    if ((value << (outBits - bits)) & maxV) return 'Non-zero padding'\n  }\n\n  return result\n}\n\nfunction toWordsUnsafe (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n}\n\nfunction toWords (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nfunction fromWordsUnsafe (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n}\n\nfunction fromWords (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nmodule.exports = {\n  decodeUnsafe: decodeUnsafe,\n  decode: decode,\n  encode: encode,\n  toWordsUnsafe: toWordsUnsafe,\n  toWords: toWords,\n  fromWordsUnsafe: fromWordsUnsafe,\n  fromWords: fromWords\n}\n","export const version = \"providers/5.7.2\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { getAddress, getContractAddress } from \"@ethersproject/address\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { hexDataLength, hexDataSlice, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { AddressZero } from \"@ethersproject/constants\";\nimport { shallowCopy } from \"@ethersproject/properties\";\nimport { accessListify, parse as parseTransaction } from \"@ethersproject/transactions\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport class Formatter {\n    constructor() {\n        this.formats = this.getDefaultFormats();\n    }\n    getDefaultFormats() {\n        const formats = ({});\n        const address = this.address.bind(this);\n        const bigNumber = this.bigNumber.bind(this);\n        const blockTag = this.blockTag.bind(this);\n        const data = this.data.bind(this);\n        const hash = this.hash.bind(this);\n        const hex = this.hex.bind(this);\n        const number = this.number.bind(this);\n        const type = this.type.bind(this);\n        const strictData = (v) => { return this.data(v, true); };\n        formats.transaction = {\n            hash: hash,\n            type: type,\n            accessList: Formatter.allowNull(this.accessList.bind(this), null),\n            blockHash: Formatter.allowNull(hash, null),\n            blockNumber: Formatter.allowNull(number, null),\n            transactionIndex: Formatter.allowNull(number, null),\n            confirmations: Formatter.allowNull(number, null),\n            from: address,\n            // either (gasPrice) or (maxPriorityFeePerGas + maxFeePerGas)\n            // must be set\n            gasPrice: Formatter.allowNull(bigNumber),\n            maxPriorityFeePerGas: Formatter.allowNull(bigNumber),\n            maxFeePerGas: Formatter.allowNull(bigNumber),\n            gasLimit: bigNumber,\n            to: Formatter.allowNull(address, null),\n            value: bigNumber,\n            nonce: number,\n            data: data,\n            r: Formatter.allowNull(this.uint256),\n            s: Formatter.allowNull(this.uint256),\n            v: Formatter.allowNull(number),\n            creates: Formatter.allowNull(address, null),\n            raw: Formatter.allowNull(data),\n        };\n        formats.transactionRequest = {\n            from: Formatter.allowNull(address),\n            nonce: Formatter.allowNull(number),\n            gasLimit: Formatter.allowNull(bigNumber),\n            gasPrice: Formatter.allowNull(bigNumber),\n            maxPriorityFeePerGas: Formatter.allowNull(bigNumber),\n            maxFeePerGas: Formatter.allowNull(bigNumber),\n            to: Formatter.allowNull(address),\n            value: Formatter.allowNull(bigNumber),\n            data: Formatter.allowNull(strictData),\n            type: Formatter.allowNull(number),\n            accessList: Formatter.allowNull(this.accessList.bind(this), null),\n        };\n        formats.receiptLog = {\n            transactionIndex: number,\n            blockNumber: number,\n            transactionHash: hash,\n            address: address,\n            topics: Formatter.arrayOf(hash),\n            data: data,\n            logIndex: number,\n            blockHash: hash,\n        };\n        formats.receipt = {\n            to: Formatter.allowNull(this.address, null),\n            from: Formatter.allowNull(this.address, null),\n            contractAddress: Formatter.allowNull(address, null),\n            transactionIndex: number,\n            // should be allowNull(hash), but broken-EIP-658 support is handled in receipt\n            root: Formatter.allowNull(hex),\n            gasUsed: bigNumber,\n            logsBloom: Formatter.allowNull(data),\n            blockHash: hash,\n            transactionHash: hash,\n            logs: Formatter.arrayOf(this.receiptLog.bind(this)),\n            blockNumber: number,\n            confirmations: Formatter.allowNull(number, null),\n            cumulativeGasUsed: bigNumber,\n            effectiveGasPrice: Formatter.allowNull(bigNumber),\n            status: Formatter.allowNull(number),\n            type: type\n        };\n        formats.block = {\n            hash: Formatter.allowNull(hash),\n            parentHash: hash,\n            number: number,\n            timestamp: number,\n            nonce: Formatter.allowNull(hex),\n            difficulty: this.difficulty.bind(this),\n            gasLimit: bigNumber,\n            gasUsed: bigNumber,\n            miner: Formatter.allowNull(address),\n            extraData: data,\n            transactions: Formatter.allowNull(Formatter.arrayOf(hash)),\n            baseFeePerGas: Formatter.allowNull(bigNumber)\n        };\n        formats.blockWithTransactions = shallowCopy(formats.block);\n        formats.blockWithTransactions.transactions = Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this)));\n        formats.filter = {\n            fromBlock: Formatter.allowNull(blockTag, undefined),\n            toBlock: Formatter.allowNull(blockTag, undefined),\n            blockHash: Formatter.allowNull(hash, undefined),\n            address: Formatter.allowNull(address, undefined),\n            topics: Formatter.allowNull(this.topics.bind(this), undefined),\n        };\n        formats.filterLog = {\n            blockNumber: Formatter.allowNull(number),\n            blockHash: Formatter.allowNull(hash),\n            transactionIndex: number,\n            removed: Formatter.allowNull(this.boolean.bind(this)),\n            address: address,\n            data: Formatter.allowFalsish(data, \"0x\"),\n            topics: Formatter.arrayOf(hash),\n            transactionHash: hash,\n            logIndex: number,\n        };\n        return formats;\n    }\n    accessList(accessList) {\n        return accessListify(accessList || []);\n    }\n    // Requires a BigNumberish that is within the IEEE754 safe integer range; returns a number\n    // Strict! Used on input.\n    number(number) {\n        if (number === \"0x\") {\n            return 0;\n        }\n        return BigNumber.from(number).toNumber();\n    }\n    type(number) {\n        if (number === \"0x\" || number == null) {\n            return 0;\n        }\n        return BigNumber.from(number).toNumber();\n    }\n    // Strict! Used on input.\n    bigNumber(value) {\n        return BigNumber.from(value);\n    }\n    // Requires a boolean, \"true\" or  \"false\"; returns a boolean\n    boolean(value) {\n        if (typeof (value) === \"boolean\") {\n            return value;\n        }\n        if (typeof (value) === \"string\") {\n            value = value.toLowerCase();\n            if (value === \"true\") {\n                return true;\n            }\n            if (value === \"false\") {\n                return false;\n            }\n        }\n        throw new Error(\"invalid boolean - \" + value);\n    }\n    hex(value, strict) {\n        if (typeof (value) === \"string\") {\n            if (!strict && value.substring(0, 2) !== \"0x\") {\n                value = \"0x\" + value;\n            }\n            if (isHexString(value)) {\n                return value.toLowerCase();\n            }\n        }\n        return logger.throwArgumentError(\"invalid hash\", \"value\", value);\n    }\n    data(value, strict) {\n        const result = this.hex(value, strict);\n        if ((result.length % 2) !== 0) {\n            throw new Error(\"invalid data; odd-length - \" + value);\n        }\n        return result;\n    }\n    // Requires an address\n    // Strict! Used on input.\n    address(value) {\n        return getAddress(value);\n    }\n    callAddress(value) {\n        if (!isHexString(value, 32)) {\n            return null;\n        }\n        const address = getAddress(hexDataSlice(value, 12));\n        return (address === AddressZero) ? null : address;\n    }\n    contractAddress(value) {\n        return getContractAddress(value);\n    }\n    // Strict! Used on input.\n    blockTag(blockTag) {\n        if (blockTag == null) {\n            return \"latest\";\n        }\n        if (blockTag === \"earliest\") {\n            return \"0x0\";\n        }\n        switch (blockTag) {\n            case \"earliest\": return \"0x0\";\n            case \"latest\":\n            case \"pending\":\n            case \"safe\":\n            case \"finalized\":\n                return blockTag;\n        }\n        if (typeof (blockTag) === \"number\" || isHexString(blockTag)) {\n            return hexValue(blockTag);\n        }\n        throw new Error(\"invalid blockTag\");\n    }\n    // Requires a hash, optionally requires 0x prefix; returns prefixed lowercase hash.\n    hash(value, strict) {\n        const result = this.hex(value, strict);\n        if (hexDataLength(result) !== 32) {\n            return logger.throwArgumentError(\"invalid hash\", \"value\", value);\n        }\n        return result;\n    }\n    // Returns the difficulty as a number, or if too large (i.e. PoA network) null\n    difficulty(value) {\n        if (value == null) {\n            return null;\n        }\n        const v = BigNumber.from(value);\n        try {\n            return v.toNumber();\n        }\n        catch (error) { }\n        return null;\n    }\n    uint256(value) {\n        if (!isHexString(value)) {\n            throw new Error(\"invalid uint256\");\n        }\n        return hexZeroPad(value, 32);\n    }\n    _block(value, format) {\n        if (value.author != null && value.miner == null) {\n            value.miner = value.author;\n        }\n        // The difficulty may need to come from _difficulty in recursed blocks\n        const difficulty = (value._difficulty != null) ? value._difficulty : value.difficulty;\n        const result = Formatter.check(format, value);\n        result._difficulty = ((difficulty == null) ? null : BigNumber.from(difficulty));\n        return result;\n    }\n    block(value) {\n        return this._block(value, this.formats.block);\n    }\n    blockWithTransactions(value) {\n        return this._block(value, this.formats.blockWithTransactions);\n    }\n    // Strict! Used on input.\n    transactionRequest(value) {\n        return Formatter.check(this.formats.transactionRequest, value);\n    }\n    transactionResponse(transaction) {\n        // Rename gas to gasLimit\n        if (transaction.gas != null && transaction.gasLimit == null) {\n            transaction.gasLimit = transaction.gas;\n        }\n        // Some clients (TestRPC) do strange things like return 0x0 for the\n        // 0 address; correct this to be a real address\n        if (transaction.to && BigNumber.from(transaction.to).isZero()) {\n            transaction.to = \"0x0000000000000000000000000000000000000000\";\n        }\n        // Rename input to data\n        if (transaction.input != null && transaction.data == null) {\n            transaction.data = transaction.input;\n        }\n        // If to and creates are empty, populate the creates from the transaction\n        if (transaction.to == null && transaction.creates == null) {\n            transaction.creates = this.contractAddress(transaction);\n        }\n        if ((transaction.type === 1 || transaction.type === 2) && transaction.accessList == null) {\n            transaction.accessList = [];\n        }\n        const result = Formatter.check(this.formats.transaction, transaction);\n        if (transaction.chainId != null) {\n            let chainId = transaction.chainId;\n            if (isHexString(chainId)) {\n                chainId = BigNumber.from(chainId).toNumber();\n            }\n            result.chainId = chainId;\n        }\n        else {\n            let chainId = transaction.networkId;\n            // geth-etc returns chainId\n            if (chainId == null && result.v == null) {\n                chainId = transaction.chainId;\n            }\n            if (isHexString(chainId)) {\n                chainId = BigNumber.from(chainId).toNumber();\n            }\n            if (typeof (chainId) !== \"number\" && result.v != null) {\n                chainId = (result.v - 35) / 2;\n                if (chainId < 0) {\n                    chainId = 0;\n                }\n                chainId = parseInt(chainId);\n            }\n            if (typeof (chainId) !== \"number\") {\n                chainId = 0;\n            }\n            result.chainId = chainId;\n        }\n        // 0x0000... should actually be null\n        if (result.blockHash && result.blockHash.replace(/0/g, \"\") === \"x\") {\n            result.blockHash = null;\n        }\n        return result;\n    }\n    transaction(value) {\n        return parseTransaction(value);\n    }\n    receiptLog(value) {\n        return Formatter.check(this.formats.receiptLog, value);\n    }\n    receipt(value) {\n        const result = Formatter.check(this.formats.receipt, value);\n        // RSK incorrectly implemented EIP-658, so we munge things a bit here for it\n        if (result.root != null) {\n            if (result.root.length <= 4) {\n                // Could be 0x00, 0x0, 0x01 or 0x1\n                const value = BigNumber.from(result.root).toNumber();\n                if (value === 0 || value === 1) {\n                    // Make sure if both are specified, they match\n                    if (result.status != null && (result.status !== value)) {\n                        logger.throwArgumentError(\"alt-root-status/status mismatch\", \"value\", { root: result.root, status: result.status });\n                    }\n                    result.status = value;\n                    delete result.root;\n                }\n                else {\n                    logger.throwArgumentError(\"invalid alt-root-status\", \"value.root\", result.root);\n                }\n            }\n            else if (result.root.length !== 66) {\n                // Must be a valid bytes32\n                logger.throwArgumentError(\"invalid root hash\", \"value.root\", result.root);\n            }\n        }\n        if (result.status != null) {\n            result.byzantium = true;\n        }\n        return result;\n    }\n    topics(value) {\n        if (Array.isArray(value)) {\n            return value.map((v) => this.topics(v));\n        }\n        else if (value != null) {\n            return this.hash(value, true);\n        }\n        return null;\n    }\n    filter(value) {\n        return Formatter.check(this.formats.filter, value);\n    }\n    filterLog(value) {\n        return Formatter.check(this.formats.filterLog, value);\n    }\n    static check(format, object) {\n        const result = {};\n        for (const key in format) {\n            try {\n                const value = format[key](object[key]);\n                if (value !== undefined) {\n                    result[key] = value;\n                }\n            }\n            catch (error) {\n                error.checkKey = key;\n                error.checkValue = object[key];\n                throw error;\n            }\n        }\n        return result;\n    }\n    // if value is null-ish, nullValue is returned\n    static allowNull(format, nullValue) {\n        return (function (value) {\n            if (value == null) {\n                return nullValue;\n            }\n            return format(value);\n        });\n    }\n    // If value is false-ish, replaceValue is returned\n    static allowFalsish(format, replaceValue) {\n        return (function (value) {\n            if (!value) {\n                return replaceValue;\n            }\n            return format(value);\n        });\n    }\n    // Requires an Array satisfying check\n    static arrayOf(format) {\n        return (function (array) {\n            if (!Array.isArray(array)) {\n                throw new Error(\"not an array\");\n            }\n            const result = [];\n            array.forEach(function (value) {\n                result.push(format(value));\n            });\n            return result;\n        });\n    }\n}\nexport function isCommunityResourcable(value) {\n    return (value && typeof (value.isCommunityResource) === \"function\");\n}\nexport function isCommunityResource(value) {\n    return (isCommunityResourcable(value) && value.isCommunityResource());\n}\n// Show the throttle message only once\nlet throttleMessage = false;\nexport function showThrottleMessage() {\n    if (throttleMessage) {\n        return;\n    }\n    throttleMessage = true;\n    console.log(\"========= NOTICE =========\");\n    console.log(\"Request-Rate Exceeded  (this message will not be repeated)\");\n    console.log(\"\");\n    console.log(\"The default API keys for each service are provided as a highly-throttled,\");\n    console.log(\"community resource for low-traffic projects and early prototyping.\");\n    console.log(\"\");\n    console.log(\"While your application will continue to function, we highly recommended\");\n    console.log(\"signing up for your own API keys to improve performance, increase your\");\n    console.log(\"request rate/limit and enable other perks, such as metrics and advanced APIs.\");\n    console.log(\"\");\n    console.log(\"For more details: https:/\\/docs.ethers.io/api-keys/\");\n    console.log(\"==========================\");\n}\n//# sourceMappingURL=formatter.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ForkEvent, Provider } from \"@ethersproject/abstract-provider\";\nimport { encode as base64Encode } from \"@ethersproject/base64\";\nimport { Base58 } from \"@ethersproject/basex\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { arrayify, concat, hexConcat, hexDataLength, hexDataSlice, hexlify, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { HashZero } from \"@ethersproject/constants\";\nimport { dnsEncode, namehash } from \"@ethersproject/hash\";\nimport { getNetwork } from \"@ethersproject/networks\";\nimport { defineReadOnly, getStatic, resolveProperties } from \"@ethersproject/properties\";\nimport { sha256 } from \"@ethersproject/sha2\";\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\nimport { fetchJson, poll } from \"@ethersproject/web\";\nimport bech32 from \"bech32\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { Formatter } from \"./formatter\";\nconst MAX_CCIP_REDIRECTS = 10;\n//////////////////////////////\n// Event Serializeing\nfunction checkTopic(topic) {\n    if (topic == null) {\n        return \"null\";\n    }\n    if (hexDataLength(topic) !== 32) {\n        logger.throwArgumentError(\"invalid topic\", \"topic\", topic);\n    }\n    return topic.toLowerCase();\n}\nfunction serializeTopics(topics) {\n    // Remove trailing null AND-topics; they are redundant\n    topics = topics.slice();\n    while (topics.length > 0 && topics[topics.length - 1] == null) {\n        topics.pop();\n    }\n    return topics.map((topic) => {\n        if (Array.isArray(topic)) {\n            // Only track unique OR-topics\n            const unique = {};\n            topic.forEach((topic) => {\n                unique[checkTopic(topic)] = true;\n            });\n            // The order of OR-topics does not matter\n            const sorted = Object.keys(unique);\n            sorted.sort();\n            return sorted.join(\"|\");\n        }\n        else {\n            return checkTopic(topic);\n        }\n    }).join(\"&\");\n}\nfunction deserializeTopics(data) {\n    if (data === \"\") {\n        return [];\n    }\n    return data.split(/&/g).map((topic) => {\n        if (topic === \"\") {\n            return [];\n        }\n        const comps = topic.split(\"|\").map((topic) => {\n            return ((topic === \"null\") ? null : topic);\n        });\n        return ((comps.length === 1) ? comps[0] : comps);\n    });\n}\nfunction getEventTag(eventName) {\n    if (typeof (eventName) === \"string\") {\n        eventName = eventName.toLowerCase();\n        if (hexDataLength(eventName) === 32) {\n            return \"tx:\" + eventName;\n        }\n        if (eventName.indexOf(\":\") === -1) {\n            return eventName;\n        }\n    }\n    else if (Array.isArray(eventName)) {\n        return \"filter:*:\" + serializeTopics(eventName);\n    }\n    else if (ForkEvent.isForkEvent(eventName)) {\n        logger.warn(\"not implemented\");\n        throw new Error(\"not implemented\");\n    }\n    else if (eventName && typeof (eventName) === \"object\") {\n        return \"filter:\" + (eventName.address || \"*\") + \":\" + serializeTopics(eventName.topics || []);\n    }\n    throw new Error(\"invalid event - \" + eventName);\n}\n//////////////////////////////\n// Helper Object\nfunction getTime() {\n    return (new Date()).getTime();\n}\nfunction stall(duration) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, duration);\n    });\n}\n//////////////////////////////\n// Provider Object\n/**\n *  EventType\n *   - \"block\"\n *   - \"poll\"\n *   - \"didPoll\"\n *   - \"pending\"\n *   - \"error\"\n *   - \"network\"\n *   - filter\n *   - topics array\n *   - transaction hash\n */\nconst PollableEvents = [\"block\", \"network\", \"pending\", \"poll\"];\nexport class Event {\n    constructor(tag, listener, once) {\n        defineReadOnly(this, \"tag\", tag);\n        defineReadOnly(this, \"listener\", listener);\n        defineReadOnly(this, \"once\", once);\n        this._lastBlockNumber = -2;\n        this._inflight = false;\n    }\n    get event() {\n        switch (this.type) {\n            case \"tx\":\n                return this.hash;\n            case \"filter\":\n                return this.filter;\n        }\n        return this.tag;\n    }\n    get type() {\n        return this.tag.split(\":\")[0];\n    }\n    get hash() {\n        const comps = this.tag.split(\":\");\n        if (comps[0] !== \"tx\") {\n            return null;\n        }\n        return comps[1];\n    }\n    get filter() {\n        const comps = this.tag.split(\":\");\n        if (comps[0] !== \"filter\") {\n            return null;\n        }\n        const address = comps[1];\n        const topics = deserializeTopics(comps[2]);\n        const filter = {};\n        if (topics.length > 0) {\n            filter.topics = topics;\n        }\n        if (address && address !== \"*\") {\n            filter.address = address;\n        }\n        return filter;\n    }\n    pollable() {\n        return (this.tag.indexOf(\":\") >= 0 || PollableEvents.indexOf(this.tag) >= 0);\n    }\n}\n;\n// https://github.com/satoshilabs/slips/blob/master/slip-0044.md\nconst coinInfos = {\n    \"0\": { symbol: \"btc\", p2pkh: 0x00, p2sh: 0x05, prefix: \"bc\" },\n    \"2\": { symbol: \"ltc\", p2pkh: 0x30, p2sh: 0x32, prefix: \"ltc\" },\n    \"3\": { symbol: \"doge\", p2pkh: 0x1e, p2sh: 0x16 },\n    \"60\": { symbol: \"eth\", ilk: \"eth\" },\n    \"61\": { symbol: \"etc\", ilk: \"eth\" },\n    \"700\": { symbol: \"xdai\", ilk: \"eth\" },\n};\nfunction bytes32ify(value) {\n    return hexZeroPad(BigNumber.from(value).toHexString(), 32);\n}\n// Compute the Base58Check encoded data (checksum is first 4 bytes of sha256d)\nfunction base58Encode(data) {\n    return Base58.encode(concat([data, hexDataSlice(sha256(sha256(data)), 0, 4)]));\n}\nconst matcherIpfs = new RegExp(\"^(ipfs):/\\/(.*)$\", \"i\");\nconst matchers = [\n    new RegExp(\"^(https):/\\/(.*)$\", \"i\"),\n    new RegExp(\"^(data):(.*)$\", \"i\"),\n    matcherIpfs,\n    new RegExp(\"^eip155:[0-9]+/(erc[0-9]+):(.*)$\", \"i\"),\n];\nfunction _parseString(result, start) {\n    try {\n        return toUtf8String(_parseBytes(result, start));\n    }\n    catch (error) { }\n    return null;\n}\nfunction _parseBytes(result, start) {\n    if (result === \"0x\") {\n        return null;\n    }\n    const offset = BigNumber.from(hexDataSlice(result, start, start + 32)).toNumber();\n    const length = BigNumber.from(hexDataSlice(result, offset, offset + 32)).toNumber();\n    return hexDataSlice(result, offset + 32, offset + 32 + length);\n}\n// Trim off the ipfs:// prefix and return the default gateway URL\nfunction getIpfsLink(link) {\n    if (link.match(/^ipfs:\\/\\/ipfs\\//i)) {\n        link = link.substring(12);\n    }\n    else if (link.match(/^ipfs:\\/\\//i)) {\n        link = link.substring(7);\n    }\n    else {\n        logger.throwArgumentError(\"unsupported IPFS format\", \"link\", link);\n    }\n    return `https:/\\/gateway.ipfs.io/ipfs/${link}`;\n}\nfunction numPad(value) {\n    const result = arrayify(value);\n    if (result.length > 32) {\n        throw new Error(\"internal; should not happen\");\n    }\n    const padded = new Uint8Array(32);\n    padded.set(result, 32 - result.length);\n    return padded;\n}\nfunction bytesPad(value) {\n    if ((value.length % 32) === 0) {\n        return value;\n    }\n    const result = new Uint8Array(Math.ceil(value.length / 32) * 32);\n    result.set(value);\n    return result;\n}\n// ABI Encodes a series of (bytes, bytes, ...)\nfunction encodeBytes(datas) {\n    const result = [];\n    let byteCount = 0;\n    // Add place-holders for pointers as we add items\n    for (let i = 0; i < datas.length; i++) {\n        result.push(null);\n        byteCount += 32;\n    }\n    for (let i = 0; i < datas.length; i++) {\n        const data = arrayify(datas[i]);\n        // Update the bytes offset\n        result[i] = numPad(byteCount);\n        // The length and padded value of data\n        result.push(numPad(data.length));\n        result.push(bytesPad(data));\n        byteCount += 32 + Math.ceil(data.length / 32) * 32;\n    }\n    return hexConcat(result);\n}\nexport class Resolver {\n    // The resolvedAddress is only for creating a ReverseLookup resolver\n    constructor(provider, address, name, resolvedAddress) {\n        defineReadOnly(this, \"provider\", provider);\n        defineReadOnly(this, \"name\", name);\n        defineReadOnly(this, \"address\", provider.formatter.address(address));\n        defineReadOnly(this, \"_resolvedAddress\", resolvedAddress);\n    }\n    supportsWildcard() {\n        if (!this._supportsEip2544) {\n            // supportsInterface(bytes4 = selector(\"resolve(bytes,bytes)\"))\n            this._supportsEip2544 = this.provider.call({\n                to: this.address,\n                data: \"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000\"\n            }).then((result) => {\n                return BigNumber.from(result).eq(1);\n            }).catch((error) => {\n                if (error.code === Logger.errors.CALL_EXCEPTION) {\n                    return false;\n                }\n                // Rethrow the error: link is down, etc. Let future attempts retry.\n                this._supportsEip2544 = null;\n                throw error;\n            });\n        }\n        return this._supportsEip2544;\n    }\n    _fetch(selector, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // e.g. keccak256(\"addr(bytes32,uint256)\")\n            const tx = {\n                to: this.address,\n                ccipReadEnabled: true,\n                data: hexConcat([selector, namehash(this.name), (parameters || \"0x\")])\n            };\n            // Wildcard support; use EIP-2544 to resolve the request\n            let parseBytes = false;\n            if (yield this.supportsWildcard()) {\n                parseBytes = true;\n                // selector(\"resolve(bytes,bytes)\")\n                tx.data = hexConcat([\"0x9061b923\", encodeBytes([dnsEncode(this.name), tx.data])]);\n            }\n            try {\n                let result = yield this.provider.call(tx);\n                if ((arrayify(result).length % 32) === 4) {\n                    logger.throwError(\"resolver threw error\", Logger.errors.CALL_EXCEPTION, {\n                        transaction: tx, data: result\n                    });\n                }\n                if (parseBytes) {\n                    result = _parseBytes(result, 0);\n                }\n                return result;\n            }\n            catch (error) {\n                if (error.code === Logger.errors.CALL_EXCEPTION) {\n                    return null;\n                }\n                throw error;\n            }\n        });\n    }\n    _fetchBytes(selector, parameters) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield this._fetch(selector, parameters);\n            if (result != null) {\n                return _parseBytes(result, 0);\n            }\n            return null;\n        });\n    }\n    _getAddress(coinType, hexBytes) {\n        const coinInfo = coinInfos[String(coinType)];\n        if (coinInfo == null) {\n            logger.throwError(`unsupported coin type: ${coinType}`, Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: `getAddress(${coinType})`\n            });\n        }\n        if (coinInfo.ilk === \"eth\") {\n            return this.provider.formatter.address(hexBytes);\n        }\n        const bytes = arrayify(hexBytes);\n        // P2PKH: OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\n        if (coinInfo.p2pkh != null) {\n            const p2pkh = hexBytes.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);\n            if (p2pkh) {\n                const length = parseInt(p2pkh[1], 16);\n                if (p2pkh[2].length === length * 2 && length >= 1 && length <= 75) {\n                    return base58Encode(concat([[coinInfo.p2pkh], (\"0x\" + p2pkh[2])]));\n                }\n            }\n        }\n        // P2SH: OP_HASH160 <scriptHash> OP_EQUAL\n        if (coinInfo.p2sh != null) {\n            const p2sh = hexBytes.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);\n            if (p2sh) {\n                const length = parseInt(p2sh[1], 16);\n                if (p2sh[2].length === length * 2 && length >= 1 && length <= 75) {\n                    return base58Encode(concat([[coinInfo.p2sh], (\"0x\" + p2sh[2])]));\n                }\n            }\n        }\n        // Bech32\n        if (coinInfo.prefix != null) {\n            const length = bytes[1];\n            // https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#witness-program\n            let version = bytes[0];\n            if (version === 0x00) {\n                if (length !== 20 && length !== 32) {\n                    version = -1;\n                }\n            }\n            else {\n                version = -1;\n            }\n            if (version >= 0 && bytes.length === 2 + length && length >= 1 && length <= 75) {\n                const words = bech32.toWords(bytes.slice(2));\n                words.unshift(version);\n                return bech32.encode(coinInfo.prefix, words);\n            }\n        }\n        return null;\n    }\n    getAddress(coinType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (coinType == null) {\n                coinType = 60;\n            }\n            // If Ethereum, use the standard `addr(bytes32)`\n            if (coinType === 60) {\n                try {\n                    // keccak256(\"addr(bytes32)\")\n                    const result = yield this._fetch(\"0x3b3b57de\");\n                    // No address\n                    if (result === \"0x\" || result === HashZero) {\n                        return null;\n                    }\n                    return this.provider.formatter.callAddress(result);\n                }\n                catch (error) {\n                    if (error.code === Logger.errors.CALL_EXCEPTION) {\n                        return null;\n                    }\n                    throw error;\n                }\n            }\n            // keccak256(\"addr(bytes32,uint256\")\n            const hexBytes = yield this._fetchBytes(\"0xf1cb7e06\", bytes32ify(coinType));\n            // No address\n            if (hexBytes == null || hexBytes === \"0x\") {\n                return null;\n            }\n            // Compute the address\n            const address = this._getAddress(coinType, hexBytes);\n            if (address == null) {\n                logger.throwError(`invalid or unsupported coin data`, Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: `getAddress(${coinType})`,\n                    coinType: coinType,\n                    data: hexBytes\n                });\n            }\n            return address;\n        });\n    }\n    getAvatar() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const linkage = [{ type: \"name\", content: this.name }];\n            try {\n                // test data for ricmoo.eth\n                //const avatar = \"eip155:1/erc721:0x265385c7f4132228A0d54EB1A9e7460b91c0cC68/29233\";\n                const avatar = yield this.getText(\"avatar\");\n                if (avatar == null) {\n                    return null;\n                }\n                for (let i = 0; i < matchers.length; i++) {\n                    const match = avatar.match(matchers[i]);\n                    if (match == null) {\n                        continue;\n                    }\n                    const scheme = match[1].toLowerCase();\n                    switch (scheme) {\n                        case \"https\":\n                            linkage.push({ type: \"url\", content: avatar });\n                            return { linkage, url: avatar };\n                        case \"data\":\n                            linkage.push({ type: \"data\", content: avatar });\n                            return { linkage, url: avatar };\n                        case \"ipfs\":\n                            linkage.push({ type: \"ipfs\", content: avatar });\n                            return { linkage, url: getIpfsLink(avatar) };\n                        case \"erc721\":\n                        case \"erc1155\": {\n                            // Depending on the ERC type, use tokenURI(uint256) or url(uint256)\n                            const selector = (scheme === \"erc721\") ? \"0xc87b56dd\" : \"0x0e89341c\";\n                            linkage.push({ type: scheme, content: avatar });\n                            // The owner of this name\n                            const owner = (this._resolvedAddress || (yield this.getAddress()));\n                            const comps = (match[2] || \"\").split(\"/\");\n                            if (comps.length !== 2) {\n                                return null;\n                            }\n                            const addr = yield this.provider.formatter.address(comps[0]);\n                            const tokenId = hexZeroPad(BigNumber.from(comps[1]).toHexString(), 32);\n                            // Check that this account owns the token\n                            if (scheme === \"erc721\") {\n                                // ownerOf(uint256 tokenId)\n                                const tokenOwner = this.provider.formatter.callAddress(yield this.provider.call({\n                                    to: addr, data: hexConcat([\"0x6352211e\", tokenId])\n                                }));\n                                if (owner !== tokenOwner) {\n                                    return null;\n                                }\n                                linkage.push({ type: \"owner\", content: tokenOwner });\n                            }\n                            else if (scheme === \"erc1155\") {\n                                // balanceOf(address owner, uint256 tokenId)\n                                const balance = BigNumber.from(yield this.provider.call({\n                                    to: addr, data: hexConcat([\"0x00fdd58e\", hexZeroPad(owner, 32), tokenId])\n                                }));\n                                if (balance.isZero()) {\n                                    return null;\n                                }\n                                linkage.push({ type: \"balance\", content: balance.toString() });\n                            }\n                            // Call the token contract for the metadata URL\n                            const tx = {\n                                to: this.provider.formatter.address(comps[0]),\n                                data: hexConcat([selector, tokenId])\n                            };\n                            let metadataUrl = _parseString(yield this.provider.call(tx), 0);\n                            if (metadataUrl == null) {\n                                return null;\n                            }\n                            linkage.push({ type: \"metadata-url-base\", content: metadataUrl });\n                            // ERC-1155 allows a generic {id} in the URL\n                            if (scheme === \"erc1155\") {\n                                metadataUrl = metadataUrl.replace(\"{id}\", tokenId.substring(2));\n                                linkage.push({ type: \"metadata-url-expanded\", content: metadataUrl });\n                            }\n                            // Transform IPFS metadata links\n                            if (metadataUrl.match(/^ipfs:/i)) {\n                                metadataUrl = getIpfsLink(metadataUrl);\n                            }\n                            linkage.push({ type: \"metadata-url\", content: metadataUrl });\n                            // Get the token metadata\n                            const metadata = yield fetchJson(metadataUrl);\n                            if (!metadata) {\n                                return null;\n                            }\n                            linkage.push({ type: \"metadata\", content: JSON.stringify(metadata) });\n                            // Pull the image URL out\n                            let imageUrl = metadata.image;\n                            if (typeof (imageUrl) !== \"string\") {\n                                return null;\n                            }\n                            if (imageUrl.match(/^(https:\\/\\/|data:)/i)) {\n                                // Allow\n                            }\n                            else {\n                                // Transform IPFS link to gateway\n                                const ipfs = imageUrl.match(matcherIpfs);\n                                if (ipfs == null) {\n                                    return null;\n                                }\n                                linkage.push({ type: \"url-ipfs\", content: imageUrl });\n                                imageUrl = getIpfsLink(imageUrl);\n                            }\n                            linkage.push({ type: \"url\", content: imageUrl });\n                            return { linkage, url: imageUrl };\n                        }\n                    }\n                }\n            }\n            catch (error) { }\n            return null;\n        });\n    }\n    getContentHash() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // keccak256(\"contenthash()\")\n            const hexBytes = yield this._fetchBytes(\"0xbc1c58d1\");\n            // No contenthash\n            if (hexBytes == null || hexBytes === \"0x\") {\n                return null;\n            }\n            // IPFS (CID: 1, Type: DAG-PB)\n            const ipfs = hexBytes.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\n            if (ipfs) {\n                const length = parseInt(ipfs[3], 16);\n                if (ipfs[4].length === length * 2) {\n                    return \"ipfs:/\\/\" + Base58.encode(\"0x\" + ipfs[1]);\n                }\n            }\n            // IPNS (CID: 1, Type: libp2p-key)\n            const ipns = hexBytes.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\n            if (ipns) {\n                const length = parseInt(ipns[3], 16);\n                if (ipns[4].length === length * 2) {\n                    return \"ipns:/\\/\" + Base58.encode(\"0x\" + ipns[1]);\n                }\n            }\n            // Swarm (CID: 1, Type: swarm-manifest; hash/length hard-coded to keccak256/32)\n            const swarm = hexBytes.match(/^0xe40101fa011b20([0-9a-f]*)$/);\n            if (swarm) {\n                if (swarm[1].length === (32 * 2)) {\n                    return \"bzz:/\\/\" + swarm[1];\n                }\n            }\n            const skynet = hexBytes.match(/^0x90b2c605([0-9a-f]*)$/);\n            if (skynet) {\n                if (skynet[1].length === (34 * 2)) {\n                    // URL Safe base64; https://datatracker.ietf.org/doc/html/rfc4648#section-5\n                    const urlSafe = { \"=\": \"\", \"+\": \"-\", \"/\": \"_\" };\n                    const hash = base64Encode(\"0x\" + skynet[1]).replace(/[=+\\/]/g, (a) => (urlSafe[a]));\n                    return \"sia:/\\/\" + hash;\n                }\n            }\n            return logger.throwError(`invalid or unsupported content hash data`, Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"getContentHash()\",\n                data: hexBytes\n            });\n        });\n    }\n    getText(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // The key encoded as parameter to fetchBytes\n            let keyBytes = toUtf8Bytes(key);\n            // The nodehash consumes the first slot, so the string pointer targets\n            // offset 64, with the length at offset 64 and data starting at offset 96\n            keyBytes = concat([bytes32ify(64), bytes32ify(keyBytes.length), keyBytes]);\n            // Pad to word-size (32 bytes)\n            if ((keyBytes.length % 32) !== 0) {\n                keyBytes = concat([keyBytes, hexZeroPad(\"0x\", 32 - (key.length % 32))]);\n            }\n            const hexBytes = yield this._fetchBytes(\"0x59d1d43c\", hexlify(keyBytes));\n            if (hexBytes == null || hexBytes === \"0x\") {\n                return null;\n            }\n            return toUtf8String(hexBytes);\n        });\n    }\n}\nlet defaultFormatter = null;\nlet nextPollId = 1;\nexport class BaseProvider extends Provider {\n    /**\n     *  ready\n     *\n     *  A Promise<Network> that resolves only once the provider is ready.\n     *\n     *  Sub-classes that call the super with a network without a chainId\n     *  MUST set this. Standard named networks have a known chainId.\n     *\n     */\n    constructor(network) {\n        super();\n        // Events being listened to\n        this._events = [];\n        this._emitted = { block: -2 };\n        this.disableCcipRead = false;\n        this.formatter = new.target.getFormatter();\n        // If network is any, this Provider allows the underlying\n        // network to change dynamically, and we auto-detect the\n        // current network\n        defineReadOnly(this, \"anyNetwork\", (network === \"any\"));\n        if (this.anyNetwork) {\n            network = this.detectNetwork();\n        }\n        if (network instanceof Promise) {\n            this._networkPromise = network;\n            // Squash any \"unhandled promise\" errors; that do not need to be handled\n            network.catch((error) => { });\n            // Trigger initial network setting (async)\n            this._ready().catch((error) => { });\n        }\n        else {\n            const knownNetwork = getStatic(new.target, \"getNetwork\")(network);\n            if (knownNetwork) {\n                defineReadOnly(this, \"_network\", knownNetwork);\n                this.emit(\"network\", knownNetwork, null);\n            }\n            else {\n                logger.throwArgumentError(\"invalid network\", \"network\", network);\n            }\n        }\n        this._maxInternalBlockNumber = -1024;\n        this._lastBlockNumber = -2;\n        this._maxFilterBlockRange = 10;\n        this._pollingInterval = 4000;\n        this._fastQueryDate = 0;\n    }\n    _ready() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._network == null) {\n                let network = null;\n                if (this._networkPromise) {\n                    try {\n                        network = yield this._networkPromise;\n                    }\n                    catch (error) { }\n                }\n                // Try the Provider's network detection (this MUST throw if it cannot)\n                if (network == null) {\n                    network = yield this.detectNetwork();\n                }\n                // This should never happen; every Provider sub-class should have\n                // suggested a network by here (or have thrown).\n                if (!network) {\n                    logger.throwError(\"no network detected\", Logger.errors.UNKNOWN_ERROR, {});\n                }\n                // Possible this call stacked so do not call defineReadOnly again\n                if (this._network == null) {\n                    if (this.anyNetwork) {\n                        this._network = network;\n                    }\n                    else {\n                        defineReadOnly(this, \"_network\", network);\n                    }\n                    this.emit(\"network\", network, null);\n                }\n            }\n            return this._network;\n        });\n    }\n    // This will always return the most recently established network.\n    // For \"any\", this can change (a \"network\" event is emitted before\n    // any change is reflected); otherwise this cannot change\n    get ready() {\n        return poll(() => {\n            return this._ready().then((network) => {\n                return network;\n            }, (error) => {\n                // If the network isn't running yet, we will wait\n                if (error.code === Logger.errors.NETWORK_ERROR && error.event === \"noNetwork\") {\n                    return undefined;\n                }\n                throw error;\n            });\n        });\n    }\n    // @TODO: Remove this and just create a singleton formatter\n    static getFormatter() {\n        if (defaultFormatter == null) {\n            defaultFormatter = new Formatter();\n        }\n        return defaultFormatter;\n    }\n    // @TODO: Remove this and just use getNetwork\n    static getNetwork(network) {\n        return getNetwork((network == null) ? \"homestead\" : network);\n    }\n    ccipReadFetch(tx, calldata, urls) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.disableCcipRead || urls.length === 0) {\n                return null;\n            }\n            const sender = tx.to.toLowerCase();\n            const data = calldata.toLowerCase();\n            const errorMessages = [];\n            for (let i = 0; i < urls.length; i++) {\n                const url = urls[i];\n                // URL expansion\n                const href = url.replace(\"{sender}\", sender).replace(\"{data}\", data);\n                // If no {data} is present, use POST; otherwise GET\n                const json = (url.indexOf(\"{data}\") >= 0) ? null : JSON.stringify({ data, sender });\n                const result = yield fetchJson({ url: href, errorPassThrough: true }, json, (value, response) => {\n                    value.status = response.statusCode;\n                    return value;\n                });\n                if (result.data) {\n                    return result.data;\n                }\n                const errorMessage = (result.message || \"unknown error\");\n                // 4xx indicates the result is not present; stop\n                if (result.status >= 400 && result.status < 500) {\n                    return logger.throwError(`response not found during CCIP fetch: ${errorMessage}`, Logger.errors.SERVER_ERROR, { url, errorMessage });\n                }\n                // 5xx indicates server issue; try the next url\n                errorMessages.push(errorMessage);\n            }\n            return logger.throwError(`error encountered during CCIP fetch: ${errorMessages.map((m) => JSON.stringify(m)).join(\", \")}`, Logger.errors.SERVER_ERROR, {\n                urls, errorMessages\n            });\n        });\n    }\n    // Fetches the blockNumber, but will reuse any result that is less\n    // than maxAge old or has been requested since the last request\n    _getInternalBlockNumber(maxAge) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._ready();\n            // Allowing stale data up to maxAge old\n            if (maxAge > 0) {\n                // While there are pending internal block requests...\n                while (this._internalBlockNumber) {\n                    // ...\"remember\" which fetch we started with\n                    const internalBlockNumber = this._internalBlockNumber;\n                    try {\n                        // Check the result is not too stale\n                        const result = yield internalBlockNumber;\n                        if ((getTime() - result.respTime) <= maxAge) {\n                            return result.blockNumber;\n                        }\n                        // Too old; fetch a new value\n                        break;\n                    }\n                    catch (error) {\n                        // The fetch rejected; if we are the first to get the\n                        // rejection, drop through so we replace it with a new\n                        // fetch; all others blocked will then get that fetch\n                        // which won't match the one they \"remembered\" and loop\n                        if (this._internalBlockNumber === internalBlockNumber) {\n                            break;\n                        }\n                    }\n                }\n            }\n            const reqTime = getTime();\n            const checkInternalBlockNumber = resolveProperties({\n                blockNumber: this.perform(\"getBlockNumber\", {}),\n                networkError: this.getNetwork().then((network) => (null), (error) => (error))\n            }).then(({ blockNumber, networkError }) => {\n                if (networkError) {\n                    // Unremember this bad internal block number\n                    if (this._internalBlockNumber === checkInternalBlockNumber) {\n                        this._internalBlockNumber = null;\n                    }\n                    throw networkError;\n                }\n                const respTime = getTime();\n                blockNumber = BigNumber.from(blockNumber).toNumber();\n                if (blockNumber < this._maxInternalBlockNumber) {\n                    blockNumber = this._maxInternalBlockNumber;\n                }\n                this._maxInternalBlockNumber = blockNumber;\n                this._setFastBlockNumber(blockNumber); // @TODO: Still need this?\n                return { blockNumber, reqTime, respTime };\n            });\n            this._internalBlockNumber = checkInternalBlockNumber;\n            // Swallow unhandled exceptions; if needed they are handled else where\n            checkInternalBlockNumber.catch((error) => {\n                // Don't null the dead (rejected) fetch, if it has already been updated\n                if (this._internalBlockNumber === checkInternalBlockNumber) {\n                    this._internalBlockNumber = null;\n                }\n            });\n            return (yield checkInternalBlockNumber).blockNumber;\n        });\n    }\n    poll() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const pollId = nextPollId++;\n            // Track all running promises, so we can trigger a post-poll once they are complete\n            const runners = [];\n            let blockNumber = null;\n            try {\n                blockNumber = yield this._getInternalBlockNumber(100 + this.pollingInterval / 2);\n            }\n            catch (error) {\n                this.emit(\"error\", error);\n                return;\n            }\n            this._setFastBlockNumber(blockNumber);\n            // Emit a poll event after we have the latest (fast) block number\n            this.emit(\"poll\", pollId, blockNumber);\n            // If the block has not changed, meh.\n            if (blockNumber === this._lastBlockNumber) {\n                this.emit(\"didPoll\", pollId);\n                return;\n            }\n            // First polling cycle, trigger a \"block\" events\n            if (this._emitted.block === -2) {\n                this._emitted.block = blockNumber - 1;\n            }\n            if (Math.abs((this._emitted.block) - blockNumber) > 1000) {\n                logger.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${blockNumber})`);\n                this.emit(\"error\", logger.makeError(\"network block skew detected\", Logger.errors.NETWORK_ERROR, {\n                    blockNumber: blockNumber,\n                    event: \"blockSkew\",\n                    previousBlockNumber: this._emitted.block\n                }));\n                this.emit(\"block\", blockNumber);\n            }\n            else {\n                // Notify all listener for each block that has passed\n                for (let i = this._emitted.block + 1; i <= blockNumber; i++) {\n                    this.emit(\"block\", i);\n                }\n            }\n            // The emitted block was updated, check for obsolete events\n            if (this._emitted.block !== blockNumber) {\n                this._emitted.block = blockNumber;\n                Object.keys(this._emitted).forEach((key) => {\n                    // The block event does not expire\n                    if (key === \"block\") {\n                        return;\n                    }\n                    // The block we were at when we emitted this event\n                    const eventBlockNumber = this._emitted[key];\n                    // We cannot garbage collect pending transactions or blocks here\n                    // They should be garbage collected by the Provider when setting\n                    // \"pending\" events\n                    if (eventBlockNumber === \"pending\") {\n                        return;\n                    }\n                    // Evict any transaction hashes or block hashes over 12 blocks\n                    // old, since they should not return null anyways\n                    if (blockNumber - eventBlockNumber > 12) {\n                        delete this._emitted[key];\n                    }\n                });\n            }\n            // First polling cycle\n            if (this._lastBlockNumber === -2) {\n                this._lastBlockNumber = blockNumber - 1;\n            }\n            // Find all transaction hashes we are waiting on\n            this._events.forEach((event) => {\n                switch (event.type) {\n                    case \"tx\": {\n                        const hash = event.hash;\n                        let runner = this.getTransactionReceipt(hash).then((receipt) => {\n                            if (!receipt || receipt.blockNumber == null) {\n                                return null;\n                            }\n                            this._emitted[\"t:\" + hash] = receipt.blockNumber;\n                            this.emit(hash, receipt);\n                            return null;\n                        }).catch((error) => { this.emit(\"error\", error); });\n                        runners.push(runner);\n                        break;\n                    }\n                    case \"filter\": {\n                        // We only allow a single getLogs to be in-flight at a time\n                        if (!event._inflight) {\n                            event._inflight = true;\n                            // This is the first filter for this event, so we want to\n                            // restrict events to events that happened no earlier than now\n                            if (event._lastBlockNumber === -2) {\n                                event._lastBlockNumber = blockNumber - 1;\n                            }\n                            // Filter from the last *known* event; due to load-balancing\n                            // and some nodes returning updated block numbers before\n                            // indexing events, a logs result with 0 entries cannot be\n                            // trusted and we must retry a range which includes it again\n                            const filter = event.filter;\n                            filter.fromBlock = event._lastBlockNumber + 1;\n                            filter.toBlock = blockNumber;\n                            // Prevent fitler ranges from growing too wild, since it is quite\n                            // likely there just haven't been any events to move the lastBlockNumber.\n                            const minFromBlock = filter.toBlock - this._maxFilterBlockRange;\n                            if (minFromBlock > filter.fromBlock) {\n                                filter.fromBlock = minFromBlock;\n                            }\n                            if (filter.fromBlock < 0) {\n                                filter.fromBlock = 0;\n                            }\n                            const runner = this.getLogs(filter).then((logs) => {\n                                // Allow the next getLogs\n                                event._inflight = false;\n                                if (logs.length === 0) {\n                                    return;\n                                }\n                                logs.forEach((log) => {\n                                    // Only when we get an event for a given block number\n                                    // can we trust the events are indexed\n                                    if (log.blockNumber > event._lastBlockNumber) {\n                                        event._lastBlockNumber = log.blockNumber;\n                                    }\n                                    // Make sure we stall requests to fetch blocks and txs\n                                    this._emitted[\"b:\" + log.blockHash] = log.blockNumber;\n                                    this._emitted[\"t:\" + log.transactionHash] = log.blockNumber;\n                                    this.emit(filter, log);\n                                });\n                            }).catch((error) => {\n                                this.emit(\"error\", error);\n                                // Allow another getLogs (the range was not updated)\n                                event._inflight = false;\n                            });\n                            runners.push(runner);\n                        }\n                        break;\n                    }\n                }\n            });\n            this._lastBlockNumber = blockNumber;\n            // Once all events for this loop have been processed, emit \"didPoll\"\n            Promise.all(runners).then(() => {\n                this.emit(\"didPoll\", pollId);\n            }).catch((error) => { this.emit(\"error\", error); });\n            return;\n        });\n    }\n    // Deprecated; do not use this\n    resetEventsBlock(blockNumber) {\n        this._lastBlockNumber = blockNumber - 1;\n        if (this.polling) {\n            this.poll();\n        }\n    }\n    get network() {\n        return this._network;\n    }\n    // This method should query the network if the underlying network\n    // can change, such as when connected to a JSON-RPC backend\n    detectNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return logger.throwError(\"provider does not support network detection\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"provider.detectNetwork\"\n            });\n        });\n    }\n    getNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const network = yield this._ready();\n            // Make sure we are still connected to the same network; this is\n            // only an external call for backends which can have the underlying\n            // network change spontaneously\n            const currentNetwork = yield this.detectNetwork();\n            if (network.chainId !== currentNetwork.chainId) {\n                // We are allowing network changes, things can get complex fast;\n                // make sure you know what you are doing if you use \"any\"\n                if (this.anyNetwork) {\n                    this._network = currentNetwork;\n                    // Reset all internal block number guards and caches\n                    this._lastBlockNumber = -2;\n                    this._fastBlockNumber = null;\n                    this._fastBlockNumberPromise = null;\n                    this._fastQueryDate = 0;\n                    this._emitted.block = -2;\n                    this._maxInternalBlockNumber = -1024;\n                    this._internalBlockNumber = null;\n                    // The \"network\" event MUST happen before this method resolves\n                    // so any events have a chance to unregister, so we stall an\n                    // additional event loop before returning from /this/ call\n                    this.emit(\"network\", currentNetwork, network);\n                    yield stall(0);\n                    return this._network;\n                }\n                const error = logger.makeError(\"underlying network changed\", Logger.errors.NETWORK_ERROR, {\n                    event: \"changed\",\n                    network: network,\n                    detectedNetwork: currentNetwork\n                });\n                this.emit(\"error\", error);\n                throw error;\n            }\n            return network;\n        });\n    }\n    get blockNumber() {\n        this._getInternalBlockNumber(100 + this.pollingInterval / 2).then((blockNumber) => {\n            this._setFastBlockNumber(blockNumber);\n        }, (error) => { });\n        return (this._fastBlockNumber != null) ? this._fastBlockNumber : -1;\n    }\n    get polling() {\n        return (this._poller != null);\n    }\n    set polling(value) {\n        if (value && !this._poller) {\n            this._poller = setInterval(() => { this.poll(); }, this.pollingInterval);\n            if (!this._bootstrapPoll) {\n                this._bootstrapPoll = setTimeout(() => {\n                    this.poll();\n                    // We block additional polls until the polling interval\n                    // is done, to prevent overwhelming the poll function\n                    this._bootstrapPoll = setTimeout(() => {\n                        // If polling was disabled, something may require a poke\n                        // since starting the bootstrap poll and it was disabled\n                        if (!this._poller) {\n                            this.poll();\n                        }\n                        // Clear out the bootstrap so we can do another\n                        this._bootstrapPoll = null;\n                    }, this.pollingInterval);\n                }, 0);\n            }\n        }\n        else if (!value && this._poller) {\n            clearInterval(this._poller);\n            this._poller = null;\n        }\n    }\n    get pollingInterval() {\n        return this._pollingInterval;\n    }\n    set pollingInterval(value) {\n        if (typeof (value) !== \"number\" || value <= 0 || parseInt(String(value)) != value) {\n            throw new Error(\"invalid polling interval\");\n        }\n        this._pollingInterval = value;\n        if (this._poller) {\n            clearInterval(this._poller);\n            this._poller = setInterval(() => { this.poll(); }, this._pollingInterval);\n        }\n    }\n    _getFastBlockNumber() {\n        const now = getTime();\n        // Stale block number, request a newer value\n        if ((now - this._fastQueryDate) > 2 * this._pollingInterval) {\n            this._fastQueryDate = now;\n            this._fastBlockNumberPromise = this.getBlockNumber().then((blockNumber) => {\n                if (this._fastBlockNumber == null || blockNumber > this._fastBlockNumber) {\n                    this._fastBlockNumber = blockNumber;\n                }\n                return this._fastBlockNumber;\n            });\n        }\n        return this._fastBlockNumberPromise;\n    }\n    _setFastBlockNumber(blockNumber) {\n        // Older block, maybe a stale request\n        if (this._fastBlockNumber != null && blockNumber < this._fastBlockNumber) {\n            return;\n        }\n        // Update the time we updated the blocknumber\n        this._fastQueryDate = getTime();\n        // Newer block number, use  it\n        if (this._fastBlockNumber == null || blockNumber > this._fastBlockNumber) {\n            this._fastBlockNumber = blockNumber;\n            this._fastBlockNumberPromise = Promise.resolve(blockNumber);\n        }\n    }\n    waitForTransaction(transactionHash, confirmations, timeout) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._waitForTransaction(transactionHash, (confirmations == null) ? 1 : confirmations, timeout || 0, null);\n        });\n    }\n    _waitForTransaction(transactionHash, confirmations, timeout, replaceable) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const receipt = yield this.getTransactionReceipt(transactionHash);\n            // Receipt is already good\n            if ((receipt ? receipt.confirmations : 0) >= confirmations) {\n                return receipt;\n            }\n            // Poll until the receipt is good...\n            return new Promise((resolve, reject) => {\n                const cancelFuncs = [];\n                let done = false;\n                const alreadyDone = function () {\n                    if (done) {\n                        return true;\n                    }\n                    done = true;\n                    cancelFuncs.forEach((func) => { func(); });\n                    return false;\n                };\n                const minedHandler = (receipt) => {\n                    if (receipt.confirmations < confirmations) {\n                        return;\n                    }\n                    if (alreadyDone()) {\n                        return;\n                    }\n                    resolve(receipt);\n                };\n                this.on(transactionHash, minedHandler);\n                cancelFuncs.push(() => { this.removeListener(transactionHash, minedHandler); });\n                if (replaceable) {\n                    let lastBlockNumber = replaceable.startBlock;\n                    let scannedBlock = null;\n                    const replaceHandler = (blockNumber) => __awaiter(this, void 0, void 0, function* () {\n                        if (done) {\n                            return;\n                        }\n                        // Wait 1 second; this is only used in the case of a fault, so\n                        // we will trade off a little bit of latency for more consistent\n                        // results and fewer JSON-RPC calls\n                        yield stall(1000);\n                        this.getTransactionCount(replaceable.from).then((nonce) => __awaiter(this, void 0, void 0, function* () {\n                            if (done) {\n                                return;\n                            }\n                            if (nonce <= replaceable.nonce) {\n                                lastBlockNumber = blockNumber;\n                            }\n                            else {\n                                // First check if the transaction was mined\n                                {\n                                    const mined = yield this.getTransaction(transactionHash);\n                                    if (mined && mined.blockNumber != null) {\n                                        return;\n                                    }\n                                }\n                                // First time scanning. We start a little earlier for some\n                                // wiggle room here to handle the eventually consistent nature\n                                // of blockchain (e.g. the getTransactionCount was for a\n                                // different block)\n                                if (scannedBlock == null) {\n                                    scannedBlock = lastBlockNumber - 3;\n                                    if (scannedBlock < replaceable.startBlock) {\n                                        scannedBlock = replaceable.startBlock;\n                                    }\n                                }\n                                while (scannedBlock <= blockNumber) {\n                                    if (done) {\n                                        return;\n                                    }\n                                    const block = yield this.getBlockWithTransactions(scannedBlock);\n                                    for (let ti = 0; ti < block.transactions.length; ti++) {\n                                        const tx = block.transactions[ti];\n                                        // Successfully mined!\n                                        if (tx.hash === transactionHash) {\n                                            return;\n                                        }\n                                        // Matches our transaction from and nonce; its a replacement\n                                        if (tx.from === replaceable.from && tx.nonce === replaceable.nonce) {\n                                            if (done) {\n                                                return;\n                                            }\n                                            // Get the receipt of the replacement\n                                            const receipt = yield this.waitForTransaction(tx.hash, confirmations);\n                                            // Already resolved or rejected (prolly a timeout)\n                                            if (alreadyDone()) {\n                                                return;\n                                            }\n                                            // The reason we were replaced\n                                            let reason = \"replaced\";\n                                            if (tx.data === replaceable.data && tx.to === replaceable.to && tx.value.eq(replaceable.value)) {\n                                                reason = \"repriced\";\n                                            }\n                                            else if (tx.data === \"0x\" && tx.from === tx.to && tx.value.isZero()) {\n                                                reason = \"cancelled\";\n                                            }\n                                            // Explain why we were replaced\n                                            reject(logger.makeError(\"transaction was replaced\", Logger.errors.TRANSACTION_REPLACED, {\n                                                cancelled: (reason === \"replaced\" || reason === \"cancelled\"),\n                                                reason,\n                                                replacement: this._wrapTransaction(tx),\n                                                hash: transactionHash,\n                                                receipt\n                                            }));\n                                            return;\n                                        }\n                                    }\n                                    scannedBlock++;\n                                }\n                            }\n                            if (done) {\n                                return;\n                            }\n                            this.once(\"block\", replaceHandler);\n                        }), (error) => {\n                            if (done) {\n                                return;\n                            }\n                            this.once(\"block\", replaceHandler);\n                        });\n                    });\n                    if (done) {\n                        return;\n                    }\n                    this.once(\"block\", replaceHandler);\n                    cancelFuncs.push(() => {\n                        this.removeListener(\"block\", replaceHandler);\n                    });\n                }\n                if (typeof (timeout) === \"number\" && timeout > 0) {\n                    const timer = setTimeout(() => {\n                        if (alreadyDone()) {\n                            return;\n                        }\n                        reject(logger.makeError(\"timeout exceeded\", Logger.errors.TIMEOUT, { timeout: timeout }));\n                    }, timeout);\n                    if (timer.unref) {\n                        timer.unref();\n                    }\n                    cancelFuncs.push(() => { clearTimeout(timer); });\n                }\n            });\n        });\n    }\n    getBlockNumber() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._getInternalBlockNumber(0);\n        });\n    }\n    getGasPrice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const result = yield this.perform(\"getGasPrice\", {});\n            try {\n                return BigNumber.from(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getGasPrice\",\n                    result, error\n                });\n            }\n        });\n    }\n    getBalance(addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag)\n            });\n            const result = yield this.perform(\"getBalance\", params);\n            try {\n                return BigNumber.from(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getBalance\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    getTransactionCount(addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag)\n            });\n            const result = yield this.perform(\"getTransactionCount\", params);\n            try {\n                return BigNumber.from(result).toNumber();\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getTransactionCount\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    getCode(addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag)\n            });\n            const result = yield this.perform(\"getCode\", params);\n            try {\n                return hexlify(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getCode\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    getStorageAt(addressOrName, position, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                address: this._getAddress(addressOrName),\n                blockTag: this._getBlockTag(blockTag),\n                position: Promise.resolve(position).then((p) => hexValue(p))\n            });\n            const result = yield this.perform(\"getStorageAt\", params);\n            try {\n                return hexlify(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"getStorageAt\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    // This should be called by any subclass wrapping a TransactionResponse\n    _wrapTransaction(tx, hash, startBlock) {\n        if (hash != null && hexDataLength(hash) !== 32) {\n            throw new Error(\"invalid response - sendTransaction\");\n        }\n        const result = tx;\n        // Check the hash we expect is the same as the hash the server reported\n        if (hash != null && tx.hash !== hash) {\n            logger.throwError(\"Transaction hash mismatch from Provider.sendTransaction.\", Logger.errors.UNKNOWN_ERROR, { expectedHash: tx.hash, returnedHash: hash });\n        }\n        result.wait = (confirms, timeout) => __awaiter(this, void 0, void 0, function* () {\n            if (confirms == null) {\n                confirms = 1;\n            }\n            if (timeout == null) {\n                timeout = 0;\n            }\n            // Get the details to detect replacement\n            let replacement = undefined;\n            if (confirms !== 0 && startBlock != null) {\n                replacement = {\n                    data: tx.data,\n                    from: tx.from,\n                    nonce: tx.nonce,\n                    to: tx.to,\n                    value: tx.value,\n                    startBlock\n                };\n            }\n            const receipt = yield this._waitForTransaction(tx.hash, confirms, timeout, replacement);\n            if (receipt == null && confirms === 0) {\n                return null;\n            }\n            // No longer pending, allow the polling loop to garbage collect this\n            this._emitted[\"t:\" + tx.hash] = receipt.blockNumber;\n            if (receipt.status === 0) {\n                logger.throwError(\"transaction failed\", Logger.errors.CALL_EXCEPTION, {\n                    transactionHash: tx.hash,\n                    transaction: tx,\n                    receipt: receipt\n                });\n            }\n            return receipt;\n        });\n        return result;\n    }\n    sendTransaction(signedTransaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const hexTx = yield Promise.resolve(signedTransaction).then(t => hexlify(t));\n            const tx = this.formatter.transaction(signedTransaction);\n            if (tx.confirmations == null) {\n                tx.confirmations = 0;\n            }\n            const blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n            try {\n                const hash = yield this.perform(\"sendTransaction\", { signedTransaction: hexTx });\n                return this._wrapTransaction(tx, hash, blockNumber);\n            }\n            catch (error) {\n                error.transaction = tx;\n                error.transactionHash = tx.hash;\n                throw error;\n            }\n        });\n    }\n    _getTransactionRequest(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const values = yield transaction;\n            const tx = {};\n            [\"from\", \"to\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => (v ? this._getAddress(v) : null));\n            });\n            [\"gasLimit\", \"gasPrice\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"value\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => (v ? BigNumber.from(v) : null));\n            });\n            [\"type\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => ((v != null) ? v : null));\n            });\n            if (values.accessList) {\n                tx.accessList = this.formatter.accessList(values.accessList);\n            }\n            [\"data\"].forEach((key) => {\n                if (values[key] == null) {\n                    return;\n                }\n                tx[key] = Promise.resolve(values[key]).then((v) => (v ? hexlify(v) : null));\n            });\n            return this.formatter.transactionRequest(yield resolveProperties(tx));\n        });\n    }\n    _getFilter(filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            filter = yield filter;\n            const result = {};\n            if (filter.address != null) {\n                result.address = this._getAddress(filter.address);\n            }\n            [\"blockHash\", \"topics\"].forEach((key) => {\n                if (filter[key] == null) {\n                    return;\n                }\n                result[key] = filter[key];\n            });\n            [\"fromBlock\", \"toBlock\"].forEach((key) => {\n                if (filter[key] == null) {\n                    return;\n                }\n                result[key] = this._getBlockTag(filter[key]);\n            });\n            return this.formatter.filter(yield resolveProperties(result));\n        });\n    }\n    _call(transaction, blockTag, attempt) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (attempt >= MAX_CCIP_REDIRECTS) {\n                logger.throwError(\"CCIP read exceeded maximum redirections\", Logger.errors.SERVER_ERROR, {\n                    redirects: attempt, transaction\n                });\n            }\n            const txSender = transaction.to;\n            const result = yield this.perform(\"call\", { transaction, blockTag });\n            // CCIP Read request via OffchainLookup(address,string[],bytes,bytes4,bytes)\n            if (attempt >= 0 && blockTag === \"latest\" && txSender != null && result.substring(0, 10) === \"0x556f1830\" && (hexDataLength(result) % 32 === 4)) {\n                try {\n                    const data = hexDataSlice(result, 4);\n                    // Check the sender of the OffchainLookup matches the transaction\n                    const sender = hexDataSlice(data, 0, 32);\n                    if (!BigNumber.from(sender).eq(txSender)) {\n                        logger.throwError(\"CCIP Read sender did not match\", Logger.errors.CALL_EXCEPTION, {\n                            name: \"OffchainLookup\",\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                            transaction, data: result\n                        });\n                    }\n                    // Read the URLs from the response\n                    const urls = [];\n                    const urlsOffset = BigNumber.from(hexDataSlice(data, 32, 64)).toNumber();\n                    const urlsLength = BigNumber.from(hexDataSlice(data, urlsOffset, urlsOffset + 32)).toNumber();\n                    const urlsData = hexDataSlice(data, urlsOffset + 32);\n                    for (let u = 0; u < urlsLength; u++) {\n                        const url = _parseString(urlsData, u * 32);\n                        if (url == null) {\n                            logger.throwError(\"CCIP Read contained corrupt URL string\", Logger.errors.CALL_EXCEPTION, {\n                                name: \"OffchainLookup\",\n                                signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                                transaction, data: result\n                            });\n                        }\n                        urls.push(url);\n                    }\n                    // Get the CCIP calldata to forward\n                    const calldata = _parseBytes(data, 64);\n                    // Get the callbackSelector (bytes4)\n                    if (!BigNumber.from(hexDataSlice(data, 100, 128)).isZero()) {\n                        logger.throwError(\"CCIP Read callback selector included junk\", Logger.errors.CALL_EXCEPTION, {\n                            name: \"OffchainLookup\",\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                            transaction, data: result\n                        });\n                    }\n                    const callbackSelector = hexDataSlice(data, 96, 100);\n                    // Get the extra data to send back to the contract as context\n                    const extraData = _parseBytes(data, 128);\n                    const ccipResult = yield this.ccipReadFetch(transaction, calldata, urls);\n                    if (ccipResult == null) {\n                        logger.throwError(\"CCIP Read disabled or provided no URLs\", Logger.errors.CALL_EXCEPTION, {\n                            name: \"OffchainLookup\",\n                            signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                            transaction, data: result\n                        });\n                    }\n                    const tx = {\n                        to: txSender,\n                        data: hexConcat([callbackSelector, encodeBytes([ccipResult, extraData])])\n                    };\n                    return this._call(tx, blockTag, attempt + 1);\n                }\n                catch (error) {\n                    if (error.code === Logger.errors.SERVER_ERROR) {\n                        throw error;\n                    }\n                }\n            }\n            try {\n                return hexlify(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"call\",\n                    params: { transaction, blockTag }, result, error\n                });\n            }\n        });\n    }\n    call(transaction, blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const resolved = yield resolveProperties({\n                transaction: this._getTransactionRequest(transaction),\n                blockTag: this._getBlockTag(blockTag),\n                ccipReadEnabled: Promise.resolve(transaction.ccipReadEnabled)\n            });\n            return this._call(resolved.transaction, resolved.blockTag, resolved.ccipReadEnabled ? 0 : -1);\n        });\n    }\n    estimateGas(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({\n                transaction: this._getTransactionRequest(transaction)\n            });\n            const result = yield this.perform(\"estimateGas\", params);\n            try {\n                return BigNumber.from(result);\n            }\n            catch (error) {\n                return logger.throwError(\"bad result from backend\", Logger.errors.SERVER_ERROR, {\n                    method: \"estimateGas\",\n                    params, result, error\n                });\n            }\n        });\n    }\n    _getAddress(addressOrName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            addressOrName = yield addressOrName;\n            if (typeof (addressOrName) !== \"string\") {\n                logger.throwArgumentError(\"invalid address or ENS name\", \"name\", addressOrName);\n            }\n            const address = yield this.resolveName(addressOrName);\n            if (address == null) {\n                logger.throwError(\"ENS name not configured\", Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: `resolveName(${JSON.stringify(addressOrName)})`\n                });\n            }\n            return address;\n        });\n    }\n    _getBlock(blockHashOrBlockTag, includeTransactions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            blockHashOrBlockTag = yield blockHashOrBlockTag;\n            // If blockTag is a number (not \"latest\", etc), this is the block number\n            let blockNumber = -128;\n            const params = {\n                includeTransactions: !!includeTransactions\n            };\n            if (isHexString(blockHashOrBlockTag, 32)) {\n                params.blockHash = blockHashOrBlockTag;\n            }\n            else {\n                try {\n                    params.blockTag = yield this._getBlockTag(blockHashOrBlockTag);\n                    if (isHexString(params.blockTag)) {\n                        blockNumber = parseInt(params.blockTag.substring(2), 16);\n                    }\n                }\n                catch (error) {\n                    logger.throwArgumentError(\"invalid block hash or block tag\", \"blockHashOrBlockTag\", blockHashOrBlockTag);\n                }\n            }\n            return poll(() => __awaiter(this, void 0, void 0, function* () {\n                const block = yield this.perform(\"getBlock\", params);\n                // Block was not found\n                if (block == null) {\n                    // For blockhashes, if we didn't say it existed, that blockhash may\n                    // not exist. If we did see it though, perhaps from a log, we know\n                    // it exists, and this node is just not caught up yet.\n                    if (params.blockHash != null) {\n                        if (this._emitted[\"b:\" + params.blockHash] == null) {\n                            return null;\n                        }\n                    }\n                    // For block tags, if we are asking for a future block, we return null\n                    if (params.blockTag != null) {\n                        if (blockNumber > this._emitted.block) {\n                            return null;\n                        }\n                    }\n                    // Retry on the next block\n                    return undefined;\n                }\n                // Add transactions\n                if (includeTransactions) {\n                    let blockNumber = null;\n                    for (let i = 0; i < block.transactions.length; i++) {\n                        const tx = block.transactions[i];\n                        if (tx.blockNumber == null) {\n                            tx.confirmations = 0;\n                        }\n                        else if (tx.confirmations == null) {\n                            if (blockNumber == null) {\n                                blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                            }\n                            // Add the confirmations using the fast block number (pessimistic)\n                            let confirmations = (blockNumber - tx.blockNumber) + 1;\n                            if (confirmations <= 0) {\n                                confirmations = 1;\n                            }\n                            tx.confirmations = confirmations;\n                        }\n                    }\n                    const blockWithTxs = this.formatter.blockWithTransactions(block);\n                    blockWithTxs.transactions = blockWithTxs.transactions.map((tx) => this._wrapTransaction(tx));\n                    return blockWithTxs;\n                }\n                return this.formatter.block(block);\n            }), { oncePoll: this });\n        });\n    }\n    getBlock(blockHashOrBlockTag) {\n        return (this._getBlock(blockHashOrBlockTag, false));\n    }\n    getBlockWithTransactions(blockHashOrBlockTag) {\n        return (this._getBlock(blockHashOrBlockTag, true));\n    }\n    getTransaction(transactionHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            transactionHash = yield transactionHash;\n            const params = { transactionHash: this.formatter.hash(transactionHash, true) };\n            return poll(() => __awaiter(this, void 0, void 0, function* () {\n                const result = yield this.perform(\"getTransaction\", params);\n                if (result == null) {\n                    if (this._emitted[\"t:\" + transactionHash] == null) {\n                        return null;\n                    }\n                    return undefined;\n                }\n                const tx = this.formatter.transactionResponse(result);\n                if (tx.blockNumber == null) {\n                    tx.confirmations = 0;\n                }\n                else if (tx.confirmations == null) {\n                    const blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                    // Add the confirmations using the fast block number (pessimistic)\n                    let confirmations = (blockNumber - tx.blockNumber) + 1;\n                    if (confirmations <= 0) {\n                        confirmations = 1;\n                    }\n                    tx.confirmations = confirmations;\n                }\n                return this._wrapTransaction(tx);\n            }), { oncePoll: this });\n        });\n    }\n    getTransactionReceipt(transactionHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            transactionHash = yield transactionHash;\n            const params = { transactionHash: this.formatter.hash(transactionHash, true) };\n            return poll(() => __awaiter(this, void 0, void 0, function* () {\n                const result = yield this.perform(\"getTransactionReceipt\", params);\n                if (result == null) {\n                    if (this._emitted[\"t:\" + transactionHash] == null) {\n                        return null;\n                    }\n                    return undefined;\n                }\n                // \"geth-etc\" returns receipts before they are ready\n                if (result.blockHash == null) {\n                    return undefined;\n                }\n                const receipt = this.formatter.receipt(result);\n                if (receipt.blockNumber == null) {\n                    receipt.confirmations = 0;\n                }\n                else if (receipt.confirmations == null) {\n                    const blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                    // Add the confirmations using the fast block number (pessimistic)\n                    let confirmations = (blockNumber - receipt.blockNumber) + 1;\n                    if (confirmations <= 0) {\n                        confirmations = 1;\n                    }\n                    receipt.confirmations = confirmations;\n                }\n                return receipt;\n            }), { oncePoll: this });\n        });\n    }\n    getLogs(filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            const params = yield resolveProperties({ filter: this._getFilter(filter) });\n            const logs = yield this.perform(\"getLogs\", params);\n            logs.forEach((log) => {\n                if (log.removed == null) {\n                    log.removed = false;\n                }\n            });\n            return Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(logs);\n        });\n    }\n    getEtherPrice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.getNetwork();\n            return this.perform(\"getEtherPrice\", {});\n        });\n    }\n    _getBlockTag(blockTag) {\n        return __awaiter(this, void 0, void 0, function* () {\n            blockTag = yield blockTag;\n            if (typeof (blockTag) === \"number\" && blockTag < 0) {\n                if (blockTag % 1) {\n                    logger.throwArgumentError(\"invalid BlockTag\", \"blockTag\", blockTag);\n                }\n                let blockNumber = yield this._getInternalBlockNumber(100 + 2 * this.pollingInterval);\n                blockNumber += blockTag;\n                if (blockNumber < 0) {\n                    blockNumber = 0;\n                }\n                return this.formatter.blockTag(blockNumber);\n            }\n            return this.formatter.blockTag(blockTag);\n        });\n    }\n    getResolver(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let currentName = name;\n            while (true) {\n                if (currentName === \"\" || currentName === \".\") {\n                    return null;\n                }\n                // Optimization since the eth node cannot change and does\n                // not have a wildcard resolver\n                if (name !== \"eth\" && currentName === \"eth\") {\n                    return null;\n                }\n                // Check the current node for a resolver\n                const addr = yield this._getResolver(currentName, \"getResolver\");\n                // Found a resolver!\n                if (addr != null) {\n                    const resolver = new Resolver(this, addr, name);\n                    // Legacy resolver found, using EIP-2544 so it isn't safe to use\n                    if (currentName !== name && !(yield resolver.supportsWildcard())) {\n                        return null;\n                    }\n                    return resolver;\n                }\n                // Get the parent node\n                currentName = currentName.split(\".\").slice(1).join(\".\");\n            }\n        });\n    }\n    _getResolver(name, operation) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (operation == null) {\n                operation = \"ENS\";\n            }\n            const network = yield this.getNetwork();\n            // No ENS...\n            if (!network.ensAddress) {\n                logger.throwError(\"network does not support ENS\", Logger.errors.UNSUPPORTED_OPERATION, { operation, network: network.name });\n            }\n            try {\n                // keccak256(\"resolver(bytes32)\")\n                const addrData = yield this.call({\n                    to: network.ensAddress,\n                    data: (\"0x0178b8bf\" + namehash(name).substring(2))\n                });\n                return this.formatter.callAddress(addrData);\n            }\n            catch (error) {\n                // ENS registry cannot throw errors on resolver(bytes32)\n            }\n            return null;\n        });\n    }\n    resolveName(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            name = yield name;\n            // If it is already an address, nothing to resolve\n            try {\n                return Promise.resolve(this.formatter.address(name));\n            }\n            catch (error) {\n                // If is is a hexstring, the address is bad (See #694)\n                if (isHexString(name)) {\n                    throw error;\n                }\n            }\n            if (typeof (name) !== \"string\") {\n                logger.throwArgumentError(\"invalid ENS name\", \"name\", name);\n            }\n            // Get the addr from the resolver\n            const resolver = yield this.getResolver(name);\n            if (!resolver) {\n                return null;\n            }\n            return yield resolver.getAddress();\n        });\n    }\n    lookupAddress(address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            address = yield address;\n            address = this.formatter.address(address);\n            const node = address.substring(2).toLowerCase() + \".addr.reverse\";\n            const resolverAddr = yield this._getResolver(node, \"lookupAddress\");\n            if (resolverAddr == null) {\n                return null;\n            }\n            // keccak(\"name(bytes32)\")\n            const name = _parseString(yield this.call({\n                to: resolverAddr,\n                data: (\"0x691f3431\" + namehash(node).substring(2))\n            }), 0);\n            const addr = yield this.resolveName(name);\n            if (addr != address) {\n                return null;\n            }\n            return name;\n        });\n    }\n    getAvatar(nameOrAddress) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let resolver = null;\n            if (isHexString(nameOrAddress)) {\n                // Address; reverse lookup\n                const address = this.formatter.address(nameOrAddress);\n                const node = address.substring(2).toLowerCase() + \".addr.reverse\";\n                const resolverAddress = yield this._getResolver(node, \"getAvatar\");\n                if (!resolverAddress) {\n                    return null;\n                }\n                // Try resolving the avatar against the addr.reverse resolver\n                resolver = new Resolver(this, resolverAddress, node);\n                try {\n                    const avatar = yield resolver.getAvatar();\n                    if (avatar) {\n                        return avatar.url;\n                    }\n                }\n                catch (error) {\n                    if (error.code !== Logger.errors.CALL_EXCEPTION) {\n                        throw error;\n                    }\n                }\n                // Try getting the name and performing forward lookup; allowing wildcards\n                try {\n                    // keccak(\"name(bytes32)\")\n                    const name = _parseString(yield this.call({\n                        to: resolverAddress,\n                        data: (\"0x691f3431\" + namehash(node).substring(2))\n                    }), 0);\n                    resolver = yield this.getResolver(name);\n                }\n                catch (error) {\n                    if (error.code !== Logger.errors.CALL_EXCEPTION) {\n                        throw error;\n                    }\n                    return null;\n                }\n            }\n            else {\n                // ENS name; forward lookup with wildcard\n                resolver = yield this.getResolver(nameOrAddress);\n                if (!resolver) {\n                    return null;\n                }\n            }\n            const avatar = yield resolver.getAvatar();\n            if (avatar == null) {\n                return null;\n            }\n            return avatar.url;\n        });\n    }\n    perform(method, params) {\n        return logger.throwError(method + \" not implemented\", Logger.errors.NOT_IMPLEMENTED, { operation: method });\n    }\n    _startEvent(event) {\n        this.polling = (this._events.filter((e) => e.pollable()).length > 0);\n    }\n    _stopEvent(event) {\n        this.polling = (this._events.filter((e) => e.pollable()).length > 0);\n    }\n    _addEventListener(eventName, listener, once) {\n        const event = new Event(getEventTag(eventName), listener, once);\n        this._events.push(event);\n        this._startEvent(event);\n        return this;\n    }\n    on(eventName, listener) {\n        return this._addEventListener(eventName, listener, false);\n    }\n    once(eventName, listener) {\n        return this._addEventListener(eventName, listener, true);\n    }\n    emit(eventName, ...args) {\n        let result = false;\n        let stopped = [];\n        let eventTag = getEventTag(eventName);\n        this._events = this._events.filter((event) => {\n            if (event.tag !== eventTag) {\n                return true;\n            }\n            setTimeout(() => {\n                event.listener.apply(this, args);\n            }, 0);\n            result = true;\n            if (event.once) {\n                stopped.push(event);\n                return false;\n            }\n            return true;\n        });\n        stopped.forEach((event) => { this._stopEvent(event); });\n        return result;\n    }\n    listenerCount(eventName) {\n        if (!eventName) {\n            return this._events.length;\n        }\n        let eventTag = getEventTag(eventName);\n        return this._events.filter((event) => {\n            return (event.tag === eventTag);\n        }).length;\n    }\n    listeners(eventName) {\n        if (eventName == null) {\n            return this._events.map((event) => event.listener);\n        }\n        let eventTag = getEventTag(eventName);\n        return this._events\n            .filter((event) => (event.tag === eventTag))\n            .map((event) => event.listener);\n    }\n    off(eventName, listener) {\n        if (listener == null) {\n            return this.removeAllListeners(eventName);\n        }\n        const stopped = [];\n        let found = false;\n        let eventTag = getEventTag(eventName);\n        this._events = this._events.filter((event) => {\n            if (event.tag !== eventTag || event.listener != listener) {\n                return true;\n            }\n            if (found) {\n                return true;\n            }\n            found = true;\n            stopped.push(event);\n            return false;\n        });\n        stopped.forEach((event) => { this._stopEvent(event); });\n        return this;\n    }\n    removeAllListeners(eventName) {\n        let stopped = [];\n        if (eventName == null) {\n            stopped = this._events;\n            this._events = [];\n        }\n        else {\n            const eventTag = getEventTag(eventName);\n            this._events = this._events.filter((event) => {\n                if (event.tag !== eventTag) {\n                    return true;\n                }\n                stopped.push(event);\n                return false;\n            });\n        }\n        stopped.forEach((event) => { this._stopEvent(event); });\n        return this;\n    }\n}\n//# sourceMappingURL=base-provider.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Signer } from \"@ethersproject/abstract-signer\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { hexlify, hexValue, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { _TypedDataEncoder } from \"@ethersproject/hash\";\nimport { checkProperties, deepCopy, defineReadOnly, getStatic, resolveProperties, shallowCopy } from \"@ethersproject/properties\";\nimport { toUtf8Bytes } from \"@ethersproject/strings\";\nimport { accessListify } from \"@ethersproject/transactions\";\nimport { fetchJson, poll } from \"@ethersproject/web\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { BaseProvider } from \"./base-provider\";\nconst errorGas = [\"call\", \"estimateGas\"];\nfunction spelunk(value, requireData) {\n    if (value == null) {\n        return null;\n    }\n    // These *are* the droids we're looking for.\n    if (typeof (value.message) === \"string\" && value.message.match(\"reverted\")) {\n        const data = isHexString(value.data) ? value.data : null;\n        if (!requireData || data) {\n            return { message: value.message, data };\n        }\n    }\n    // Spelunk further...\n    if (typeof (value) === \"object\") {\n        for (const key in value) {\n            const result = spelunk(value[key], requireData);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n    // Might be a JSON string we can further descend...\n    if (typeof (value) === \"string\") {\n        try {\n            return spelunk(JSON.parse(value), requireData);\n        }\n        catch (error) { }\n    }\n    return null;\n}\nfunction checkError(method, error, params) {\n    const transaction = params.transaction || params.signedTransaction;\n    // Undo the \"convenience\" some nodes are attempting to prevent backwards\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\n    if (method === \"call\") {\n        const result = spelunk(error, true);\n        if (result) {\n            return result.data;\n        }\n        // Nothing descriptive..\n        logger.throwError(\"missing revert data in call exception; Transaction reverted without a reason string\", Logger.errors.CALL_EXCEPTION, {\n            data: \"0x\", transaction, error\n        });\n    }\n    if (method === \"estimateGas\") {\n        // Try to find something, with a preference on SERVER_ERROR body\n        let result = spelunk(error.body, false);\n        if (result == null) {\n            result = spelunk(error, false);\n        }\n        // Found \"reverted\", this is a CALL_EXCEPTION\n        if (result) {\n            logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n                reason: result.message, method, transaction, error\n            });\n        }\n    }\n    // @TODO: Should we spelunk for message too?\n    let message = error.message;\n    if (error.code === Logger.errors.SERVER_ERROR && error.error && typeof (error.error.message) === \"string\") {\n        message = error.error.message;\n    }\n    else if (typeof (error.body) === \"string\") {\n        message = error.body;\n    }\n    else if (typeof (error.responseText) === \"string\") {\n        message = error.responseText;\n    }\n    message = (message || \"\").toLowerCase();\n    // \"insufficient funds for gas * price + value + cost(data)\"\n    if (message.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)) {\n        logger.throwError(\"insufficient funds for intrinsic transaction cost\", Logger.errors.INSUFFICIENT_FUNDS, {\n            error, method, transaction\n        });\n    }\n    // \"nonce too low\"\n    if (message.match(/nonce (is )?too low/i)) {\n        logger.throwError(\"nonce has already been used\", Logger.errors.NONCE_EXPIRED, {\n            error, method, transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/replacement transaction underpriced|transaction gas price.*too low/i)) {\n        logger.throwError(\"replacement fee too low\", Logger.errors.REPLACEMENT_UNDERPRICED, {\n            error, method, transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/only replay-protected/i)) {\n        logger.throwError(\"legacy pre-eip-155 transactions not supported\", Logger.errors.UNSUPPORTED_OPERATION, {\n            error, method, transaction\n        });\n    }\n    if (errorGas.indexOf(method) >= 0 && message.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)) {\n        logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n            error, method, transaction\n        });\n    }\n    throw error;\n}\nfunction timer(timeout) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, timeout);\n    });\n}\nfunction getResult(payload) {\n    if (payload.error) {\n        // @TODO: not any\n        const error = new Error(payload.error.message);\n        error.code = payload.error.code;\n        error.data = payload.error.data;\n        throw error;\n    }\n    return payload.result;\n}\nfunction getLowerCase(value) {\n    if (value) {\n        return value.toLowerCase();\n    }\n    return value;\n}\nconst _constructorGuard = {};\nexport class JsonRpcSigner extends Signer {\n    constructor(constructorGuard, provider, addressOrIndex) {\n        super();\n        if (constructorGuard !== _constructorGuard) {\n            throw new Error(\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\");\n        }\n        defineReadOnly(this, \"provider\", provider);\n        if (addressOrIndex == null) {\n            addressOrIndex = 0;\n        }\n        if (typeof (addressOrIndex) === \"string\") {\n            defineReadOnly(this, \"_address\", this.provider.formatter.address(addressOrIndex));\n            defineReadOnly(this, \"_index\", null);\n        }\n        else if (typeof (addressOrIndex) === \"number\") {\n            defineReadOnly(this, \"_index\", addressOrIndex);\n            defineReadOnly(this, \"_address\", null);\n        }\n        else {\n            logger.throwArgumentError(\"invalid address or index\", \"addressOrIndex\", addressOrIndex);\n        }\n    }\n    connect(provider) {\n        return logger.throwError(\"cannot alter JSON-RPC Signer connection\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"connect\"\n        });\n    }\n    connectUnchecked() {\n        return new UncheckedJsonRpcSigner(_constructorGuard, this.provider, this._address || this._index);\n    }\n    getAddress() {\n        if (this._address) {\n            return Promise.resolve(this._address);\n        }\n        return this.provider.send(\"eth_accounts\", []).then((accounts) => {\n            if (accounts.length <= this._index) {\n                logger.throwError(\"unknown account #\" + this._index, Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: \"getAddress\"\n                });\n            }\n            return this.provider.formatter.address(accounts[this._index]);\n        });\n    }\n    sendUncheckedTransaction(transaction) {\n        transaction = shallowCopy(transaction);\n        const fromAddress = this.getAddress().then((address) => {\n            if (address) {\n                address = address.toLowerCase();\n            }\n            return address;\n        });\n        // The JSON-RPC for eth_sendTransaction uses 90000 gas; if the user\n        // wishes to use this, it is easy to specify explicitly, otherwise\n        // we look it up for them.\n        if (transaction.gasLimit == null) {\n            const estimate = shallowCopy(transaction);\n            estimate.from = fromAddress;\n            transaction.gasLimit = this.provider.estimateGas(estimate);\n        }\n        if (transaction.to != null) {\n            transaction.to = Promise.resolve(transaction.to).then((to) => __awaiter(this, void 0, void 0, function* () {\n                if (to == null) {\n                    return null;\n                }\n                const address = yield this.provider.resolveName(to);\n                if (address == null) {\n                    logger.throwArgumentError(\"provided ENS name resolves to null\", \"tx.to\", to);\n                }\n                return address;\n            }));\n        }\n        return resolveProperties({\n            tx: resolveProperties(transaction),\n            sender: fromAddress\n        }).then(({ tx, sender }) => {\n            if (tx.from != null) {\n                if (tx.from.toLowerCase() !== sender) {\n                    logger.throwArgumentError(\"from address mismatch\", \"transaction\", transaction);\n                }\n            }\n            else {\n                tx.from = sender;\n            }\n            const hexTx = this.provider.constructor.hexlifyTransaction(tx, { from: true });\n            return this.provider.send(\"eth_sendTransaction\", [hexTx]).then((hash) => {\n                return hash;\n            }, (error) => {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected transaction\", Logger.errors.ACTION_REJECTED, {\n                        action: \"sendTransaction\",\n                        transaction: tx\n                    });\n                }\n                return checkError(\"sendTransaction\", error, hexTx);\n            });\n        });\n    }\n    signTransaction(transaction) {\n        return logger.throwError(\"signing transactions is unsupported\", Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"signTransaction\"\n        });\n    }\n    sendTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // This cannot be mined any earlier than any recent block\n            const blockNumber = yield this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval);\n            // Send the transaction\n            const hash = yield this.sendUncheckedTransaction(transaction);\n            try {\n                // Unfortunately, JSON-RPC only provides and opaque transaction hash\n                // for a response, and we need the actual transaction, so we poll\n                // for it; it should show up very quickly\n                return yield poll(() => __awaiter(this, void 0, void 0, function* () {\n                    const tx = yield this.provider.getTransaction(hash);\n                    if (tx === null) {\n                        return undefined;\n                    }\n                    return this.provider._wrapTransaction(tx, hash, blockNumber);\n                }), { oncePoll: this.provider });\n            }\n            catch (error) {\n                error.transactionHash = hash;\n                throw error;\n            }\n        });\n    }\n    signMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = ((typeof (message) === \"string\") ? toUtf8Bytes(message) : message);\n            const address = yield this.getAddress();\n            try {\n                return yield this.provider.send(\"personal_sign\", [hexlify(data), address.toLowerCase()]);\n            }\n            catch (error) {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected signing\", Logger.errors.ACTION_REJECTED, {\n                        action: \"signMessage\",\n                        from: address,\n                        messageData: message\n                    });\n                }\n                throw error;\n            }\n        });\n    }\n    _legacySignMessage(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = ((typeof (message) === \"string\") ? toUtf8Bytes(message) : message);\n            const address = yield this.getAddress();\n            try {\n                // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\n                return yield this.provider.send(\"eth_sign\", [address.toLowerCase(), hexlify(data)]);\n            }\n            catch (error) {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected signing\", Logger.errors.ACTION_REJECTED, {\n                        action: \"_legacySignMessage\",\n                        from: address,\n                        messageData: message\n                    });\n                }\n                throw error;\n            }\n        });\n    }\n    _signTypedData(domain, types, value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Populate any ENS names (in-place)\n            const populated = yield _TypedDataEncoder.resolveNames(domain, types, value, (name) => {\n                return this.provider.resolveName(name);\n            });\n            const address = yield this.getAddress();\n            try {\n                return yield this.provider.send(\"eth_signTypedData_v4\", [\n                    address.toLowerCase(),\n                    JSON.stringify(_TypedDataEncoder.getPayload(populated.domain, types, populated.value))\n                ]);\n            }\n            catch (error) {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected signing\", Logger.errors.ACTION_REJECTED, {\n                        action: \"_signTypedData\",\n                        from: address,\n                        messageData: { domain: populated.domain, types, value: populated.value }\n                    });\n                }\n                throw error;\n            }\n        });\n    }\n    unlock(password) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const provider = this.provider;\n            const address = yield this.getAddress();\n            return provider.send(\"personal_unlockAccount\", [address.toLowerCase(), password, null]);\n        });\n    }\n}\nclass UncheckedJsonRpcSigner extends JsonRpcSigner {\n    sendTransaction(transaction) {\n        return this.sendUncheckedTransaction(transaction).then((hash) => {\n            return {\n                hash: hash,\n                nonce: null,\n                gasLimit: null,\n                gasPrice: null,\n                data: null,\n                value: null,\n                chainId: null,\n                confirmations: 0,\n                from: null,\n                wait: (confirmations) => { return this.provider.waitForTransaction(hash, confirmations); }\n            };\n        });\n    }\n}\nconst allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, value: true,\n    type: true, accessList: true,\n    maxFeePerGas: true, maxPriorityFeePerGas: true\n};\nexport class JsonRpcProvider extends BaseProvider {\n    constructor(url, network) {\n        let networkOrReady = network;\n        // The network is unknown, query the JSON-RPC for it\n        if (networkOrReady == null) {\n            networkOrReady = new Promise((resolve, reject) => {\n                setTimeout(() => {\n                    this.detectNetwork().then((network) => {\n                        resolve(network);\n                    }, (error) => {\n                        reject(error);\n                    });\n                }, 0);\n            });\n        }\n        super(networkOrReady);\n        // Default URL\n        if (!url) {\n            url = getStatic(this.constructor, \"defaultUrl\")();\n        }\n        if (typeof (url) === \"string\") {\n            defineReadOnly(this, \"connection\", Object.freeze({\n                url: url\n            }));\n        }\n        else {\n            defineReadOnly(this, \"connection\", Object.freeze(shallowCopy(url)));\n        }\n        this._nextId = 42;\n    }\n    get _cache() {\n        if (this._eventLoopCache == null) {\n            this._eventLoopCache = {};\n        }\n        return this._eventLoopCache;\n    }\n    static defaultUrl() {\n        return \"http:/\\/localhost:8545\";\n    }\n    detectNetwork() {\n        if (!this._cache[\"detectNetwork\"]) {\n            this._cache[\"detectNetwork\"] = this._uncachedDetectNetwork();\n            // Clear this cache at the beginning of the next event loop\n            setTimeout(() => {\n                this._cache[\"detectNetwork\"] = null;\n            }, 0);\n        }\n        return this._cache[\"detectNetwork\"];\n    }\n    _uncachedDetectNetwork() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield timer(0);\n            let chainId = null;\n            try {\n                chainId = yield this.send(\"eth_chainId\", []);\n            }\n            catch (error) {\n                try {\n                    chainId = yield this.send(\"net_version\", []);\n                }\n                catch (error) { }\n            }\n            if (chainId != null) {\n                const getNetwork = getStatic(this.constructor, \"getNetwork\");\n                try {\n                    return getNetwork(BigNumber.from(chainId).toNumber());\n                }\n                catch (error) {\n                    return logger.throwError(\"could not detect network\", Logger.errors.NETWORK_ERROR, {\n                        chainId: chainId,\n                        event: \"invalidNetwork\",\n                        serverError: error\n                    });\n                }\n            }\n            return logger.throwError(\"could not detect network\", Logger.errors.NETWORK_ERROR, {\n                event: \"noNetwork\"\n            });\n        });\n    }\n    getSigner(addressOrIndex) {\n        return new JsonRpcSigner(_constructorGuard, this, addressOrIndex);\n    }\n    getUncheckedSigner(addressOrIndex) {\n        return this.getSigner(addressOrIndex).connectUnchecked();\n    }\n    listAccounts() {\n        return this.send(\"eth_accounts\", []).then((accounts) => {\n            return accounts.map((a) => this.formatter.address(a));\n        });\n    }\n    send(method, params) {\n        const request = {\n            method: method,\n            params: params,\n            id: (this._nextId++),\n            jsonrpc: \"2.0\"\n        };\n        this.emit(\"debug\", {\n            action: \"request\",\n            request: deepCopy(request),\n            provider: this\n        });\n        // We can expand this in the future to any call, but for now these\n        // are the biggest wins and do not require any serializing parameters.\n        const cache = ([\"eth_chainId\", \"eth_blockNumber\"].indexOf(method) >= 0);\n        if (cache && this._cache[method]) {\n            return this._cache[method];\n        }\n        const result = fetchJson(this.connection, JSON.stringify(request), getResult).then((result) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                request: request,\n                response: result,\n                provider: this\n            });\n            return result;\n        }, (error) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                error: error,\n                request: request,\n                provider: this\n            });\n            throw error;\n        });\n        // Cache the fetch, but clear it on the next event loop\n        if (cache) {\n            this._cache[method] = result;\n            setTimeout(() => {\n                this._cache[method] = null;\n            }, 0);\n        }\n        return result;\n    }\n    prepareRequest(method, params) {\n        switch (method) {\n            case \"getBlockNumber\":\n                return [\"eth_blockNumber\", []];\n            case \"getGasPrice\":\n                return [\"eth_gasPrice\", []];\n            case \"getBalance\":\n                return [\"eth_getBalance\", [getLowerCase(params.address), params.blockTag]];\n            case \"getTransactionCount\":\n                return [\"eth_getTransactionCount\", [getLowerCase(params.address), params.blockTag]];\n            case \"getCode\":\n                return [\"eth_getCode\", [getLowerCase(params.address), params.blockTag]];\n            case \"getStorageAt\":\n                return [\"eth_getStorageAt\", [getLowerCase(params.address), hexZeroPad(params.position, 32), params.blockTag]];\n            case \"sendTransaction\":\n                return [\"eth_sendRawTransaction\", [params.signedTransaction]];\n            case \"getBlock\":\n                if (params.blockTag) {\n                    return [\"eth_getBlockByNumber\", [params.blockTag, !!params.includeTransactions]];\n                }\n                else if (params.blockHash) {\n                    return [\"eth_getBlockByHash\", [params.blockHash, !!params.includeTransactions]];\n                }\n                return null;\n            case \"getTransaction\":\n                return [\"eth_getTransactionByHash\", [params.transactionHash]];\n            case \"getTransactionReceipt\":\n                return [\"eth_getTransactionReceipt\", [params.transactionHash]];\n            case \"call\": {\n                const hexlifyTransaction = getStatic(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_call\", [hexlifyTransaction(params.transaction, { from: true }), params.blockTag]];\n            }\n            case \"estimateGas\": {\n                const hexlifyTransaction = getStatic(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_estimateGas\", [hexlifyTransaction(params.transaction, { from: true })]];\n            }\n            case \"getLogs\":\n                if (params.filter && params.filter.address != null) {\n                    params.filter.address = getLowerCase(params.filter.address);\n                }\n                return [\"eth_getLogs\", [params.filter]];\n            default:\n                break;\n        }\n        return null;\n    }\n    perform(method, params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Legacy networks do not like the type field being passed along (which\n            // is fair), so we delete type if it is 0 and a non-EIP-1559 network\n            if (method === \"call\" || method === \"estimateGas\") {\n                const tx = params.transaction;\n                if (tx && tx.type != null && BigNumber.from(tx.type).isZero()) {\n                    // If there are no EIP-1559 properties, it might be non-EIP-1559\n                    if (tx.maxFeePerGas == null && tx.maxPriorityFeePerGas == null) {\n                        const feeData = yield this.getFeeData();\n                        if (feeData.maxFeePerGas == null && feeData.maxPriorityFeePerGas == null) {\n                            // Network doesn't know about EIP-1559 (and hence type)\n                            params = shallowCopy(params);\n                            params.transaction = shallowCopy(tx);\n                            delete params.transaction.type;\n                        }\n                    }\n                }\n            }\n            const args = this.prepareRequest(method, params);\n            if (args == null) {\n                logger.throwError(method + \" not implemented\", Logger.errors.NOT_IMPLEMENTED, { operation: method });\n            }\n            try {\n                return yield this.send(args[0], args[1]);\n            }\n            catch (error) {\n                return checkError(method, error, params);\n            }\n        });\n    }\n    _startEvent(event) {\n        if (event.tag === \"pending\") {\n            this._startPending();\n        }\n        super._startEvent(event);\n    }\n    _startPending() {\n        if (this._pendingFilter != null) {\n            return;\n        }\n        const self = this;\n        const pendingFilter = this.send(\"eth_newPendingTransactionFilter\", []);\n        this._pendingFilter = pendingFilter;\n        pendingFilter.then(function (filterId) {\n            function poll() {\n                self.send(\"eth_getFilterChanges\", [filterId]).then(function (hashes) {\n                    if (self._pendingFilter != pendingFilter) {\n                        return null;\n                    }\n                    let seq = Promise.resolve();\n                    hashes.forEach(function (hash) {\n                        // @TODO: This should be garbage collected at some point... How? When?\n                        self._emitted[\"t:\" + hash.toLowerCase()] = \"pending\";\n                        seq = seq.then(function () {\n                            return self.getTransaction(hash).then(function (tx) {\n                                self.emit(\"pending\", tx);\n                                return null;\n                            });\n                        });\n                    });\n                    return seq.then(function () {\n                        return timer(1000);\n                    });\n                }).then(function () {\n                    if (self._pendingFilter != pendingFilter) {\n                        self.send(\"eth_uninstallFilter\", [filterId]);\n                        return;\n                    }\n                    setTimeout(function () { poll(); }, 0);\n                    return null;\n                }).catch((error) => { });\n            }\n            poll();\n            return filterId;\n        }).catch((error) => { });\n    }\n    _stopEvent(event) {\n        if (event.tag === \"pending\" && this.listenerCount(\"pending\") === 0) {\n            this._pendingFilter = null;\n        }\n        super._stopEvent(event);\n    }\n    // Convert an ethers.js transaction into a JSON-RPC transaction\n    //  - gasLimit => gas\n    //  - All values hexlified\n    //  - All numeric values zero-striped\n    //  - All addresses are lowercased\n    // NOTE: This allows a TransactionRequest, but all values should be resolved\n    //       before this is called\n    // @TODO: This will likely be removed in future versions and prepareRequest\n    //        will be the preferred method for this.\n    static hexlifyTransaction(transaction, allowExtra) {\n        // Check only allowed properties are given\n        const allowed = shallowCopy(allowedTransactionKeys);\n        if (allowExtra) {\n            for (const key in allowExtra) {\n                if (allowExtra[key]) {\n                    allowed[key] = true;\n                }\n            }\n        }\n        checkProperties(transaction, allowed);\n        const result = {};\n        // JSON-RPC now requires numeric values to be \"quantity\" values\n        [\"chainId\", \"gasLimit\", \"gasPrice\", \"type\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"nonce\", \"value\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            const value = hexValue(BigNumber.from(transaction[key]));\n            if (key === \"gasLimit\") {\n                key = \"gas\";\n            }\n            result[key] = value;\n        });\n        [\"from\", \"to\", \"data\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            result[key] = hexlify(transaction[key]);\n        });\n        if (transaction.accessList) {\n            result[\"accessList\"] = accessListify(transaction.accessList);\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=json-rpc-provider.js.map","\"use strict\";\nimport { deepCopy, defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { JsonRpcProvider } from \"./json-rpc-provider\";\nlet _nextId = 1;\nfunction buildWeb3LegacyFetcher(provider, sendFunc) {\n    const fetcher = \"Web3LegacyFetcher\";\n    return function (method, params) {\n        const request = {\n            method: method,\n            params: params,\n            id: (_nextId++),\n            jsonrpc: \"2.0\"\n        };\n        return new Promise((resolve, reject) => {\n            this.emit(\"debug\", {\n                action: \"request\",\n                fetcher,\n                request: deepCopy(request),\n                provider: this\n            });\n            sendFunc(request, (error, response) => {\n                if (error) {\n                    this.emit(\"debug\", {\n                        action: \"response\",\n                        fetcher,\n                        error,\n                        request,\n                        provider: this\n                    });\n                    return reject(error);\n                }\n                this.emit(\"debug\", {\n                    action: \"response\",\n                    fetcher,\n                    request,\n                    response,\n                    provider: this\n                });\n                if (response.error) {\n                    const error = new Error(response.error.message);\n                    error.code = response.error.code;\n                    error.data = response.error.data;\n                    return reject(error);\n                }\n                resolve(response.result);\n            });\n        });\n    };\n}\nfunction buildEip1193Fetcher(provider) {\n    return function (method, params) {\n        if (params == null) {\n            params = [];\n        }\n        const request = { method, params };\n        this.emit(\"debug\", {\n            action: \"request\",\n            fetcher: \"Eip1193Fetcher\",\n            request: deepCopy(request),\n            provider: this\n        });\n        return provider.request(request).then((response) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                fetcher: \"Eip1193Fetcher\",\n                request,\n                response,\n                provider: this\n            });\n            return response;\n        }, (error) => {\n            this.emit(\"debug\", {\n                action: \"response\",\n                fetcher: \"Eip1193Fetcher\",\n                request,\n                error,\n                provider: this\n            });\n            throw error;\n        });\n    };\n}\nexport class Web3Provider extends JsonRpcProvider {\n    constructor(provider, network) {\n        if (provider == null) {\n            logger.throwArgumentError(\"missing provider\", \"provider\", provider);\n        }\n        let path = null;\n        let jsonRpcFetchFunc = null;\n        let subprovider = null;\n        if (typeof (provider) === \"function\") {\n            path = \"unknown:\";\n            jsonRpcFetchFunc = provider;\n        }\n        else {\n            path = provider.host || provider.path || \"\";\n            if (!path && provider.isMetaMask) {\n                path = \"metamask\";\n            }\n            subprovider = provider;\n            if (provider.request) {\n                if (path === \"\") {\n                    path = \"eip-1193:\";\n                }\n                jsonRpcFetchFunc = buildEip1193Fetcher(provider);\n            }\n            else if (provider.sendAsync) {\n                jsonRpcFetchFunc = buildWeb3LegacyFetcher(provider, provider.sendAsync.bind(provider));\n            }\n            else if (provider.send) {\n                jsonRpcFetchFunc = buildWeb3LegacyFetcher(provider, provider.send.bind(provider));\n            }\n            else {\n                logger.throwArgumentError(\"unsupported provider\", \"provider\", provider);\n            }\n            if (!path) {\n                path = \"unknown:\";\n            }\n        }\n        super(path, network);\n        defineReadOnly(this, \"jsonRpcFetchFunc\", jsonRpcFetchFunc);\n        defineReadOnly(this, \"provider\", subprovider);\n    }\n    send(method, params) {\n        return this.jsonRpcFetchFunc(method, params);\n    }\n}\n//# sourceMappingURL=web3-provider.js.map","\"use strict\";\nimport { Provider } from \"@ethersproject/abstract-provider\";\nimport { getNetwork } from \"@ethersproject/networks\";\nimport { BaseProvider, Resolver } from \"./base-provider\";\nimport { AlchemyProvider, AlchemyWebSocketProvider } from \"./alchemy-provider\";\nimport { AnkrProvider } from \"./ankr-provider\";\nimport { CloudflareProvider } from \"./cloudflare-provider\";\nimport { EtherscanProvider } from \"./etherscan-provider\";\nimport { FallbackProvider } from \"./fallback-provider\";\nimport { IpcProvider } from \"./ipc-provider\";\nimport { InfuraProvider, InfuraWebSocketProvider } from \"./infura-provider\";\nimport { JsonRpcProvider, JsonRpcSigner } from \"./json-rpc-provider\";\nimport { JsonRpcBatchProvider } from \"./json-rpc-batch-provider\";\nimport { NodesmithProvider } from \"./nodesmith-provider\";\nimport { PocketProvider } from \"./pocket-provider\";\nimport { StaticJsonRpcProvider, UrlJsonRpcProvider } from \"./url-json-rpc-provider\";\nimport { Web3Provider } from \"./web3-provider\";\nimport { WebSocketProvider } from \"./websocket-provider\";\nimport { Formatter, isCommunityResourcable, isCommunityResource, showThrottleMessage } from \"./formatter\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n////////////////////////\n// Helper Functions\nfunction getDefaultProvider(network, options) {\n    if (network == null) {\n        network = \"homestead\";\n    }\n    // If passed a URL, figure out the right type of provider based on the scheme\n    if (typeof (network) === \"string\") {\n        // @TODO: Add support for IpcProvider; maybe if it ends in \".ipc\"?\n        // Handle http and ws (and their secure variants)\n        const match = network.match(/^(ws|http)s?:/i);\n        if (match) {\n            switch (match[1].toLowerCase()) {\n                case \"http\":\n                case \"https\":\n                    return new JsonRpcProvider(network);\n                case \"ws\":\n                case \"wss\":\n                    return new WebSocketProvider(network);\n                default:\n                    logger.throwArgumentError(\"unsupported URL scheme\", \"network\", network);\n            }\n        }\n    }\n    const n = getNetwork(network);\n    if (!n || !n._defaultProvider) {\n        logger.throwError(\"unsupported getDefaultProvider network\", Logger.errors.NETWORK_ERROR, {\n            operation: \"getDefaultProvider\",\n            network: network\n        });\n    }\n    return n._defaultProvider({\n        FallbackProvider,\n        AlchemyProvider,\n        AnkrProvider,\n        CloudflareProvider,\n        EtherscanProvider,\n        InfuraProvider,\n        JsonRpcProvider,\n        NodesmithProvider,\n        PocketProvider,\n        Web3Provider,\n        IpcProvider,\n    }, options);\n}\n////////////////////////\n// Exports\nexport { \n// Abstract Providers (or Abstract-ish)\nProvider, BaseProvider, Resolver, UrlJsonRpcProvider, \n///////////////////////\n// Concrete Providers\nFallbackProvider, AlchemyProvider, AlchemyWebSocketProvider, AnkrProvider, CloudflareProvider, EtherscanProvider, InfuraProvider, InfuraWebSocketProvider, JsonRpcProvider, JsonRpcBatchProvider, NodesmithProvider, PocketProvider, StaticJsonRpcProvider, Web3Provider, WebSocketProvider, IpcProvider, \n///////////////////////\n// Signer\nJsonRpcSigner, \n///////////////////////\n// Functions\ngetDefaultProvider, getNetwork, isCommunityResource, isCommunityResourcable, showThrottleMessage, \n///////////////////////\n// Objects\nFormatter };\n//# sourceMappingURL=index.js.map","import { useState, useEffect, useRef, useCallback, useContext } from \"react\";\r\nimport { FollowBtnCheck, Followers, Loading, SpinningLoader } from \"~/components\";\r\nimport UserProfilePostCards from \"../components/ForPagination/UserProfilePostCards\";\r\nimport { MESSAGES_ICON, MORE_ICON, SETTING_BLACK_ICON } from \"~/assets\";\r\nimport { LogoutUser, LogoutUserPost } from \"~/reduxState\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { App_state, setPostList } from \"../reduxState\";\r\n// import PostDetails from \"~/pages/PostDetails\";\r\nimport { FollowEnum } from \"~/functions\";\r\nimport { toast } from \"react-toastify\";\r\nimport { DEF_USER } from \"../assets\";\r\nimport { SharePopup } from \"./\";\r\nimport { db, ref, set, onValue, push, child, update } from \"~/utils\";\r\nimport { AppContext, resetUser } from \"~/context\";\r\nimport PostDetails from \"./PostDetails\";\r\n\r\nconst UserProfile = () => {\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n  const { dispatch: disp } = useContext(AppContext);\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const token = user?.token;\r\n  const postData = useSelector((s: App_state) => s?.PostListReducer);\r\n\r\n  const [userProfile, setUserProfile] = useState<any>({});\r\n  const [accountPrivacy, setAccountPrivacy] = useState<boolean>(false);\r\n  const [followers, setFollowers] = useState<boolean>(false);\r\n  const [following, setFollowing] = useState<boolean>(false);\r\n  // const [visible, setVisible] = useState<boolean>(false);\r\n  const [toggleDetails, setToggleDetails] = useState<boolean>(false);\r\n  // const [postDetailsState, setPostDetailsState] = useState<any>({});\r\n  const [hasNextPage, setHasNextPage] = useState(false);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [btnLoading, setBtnLoading] = useState<boolean>(false);\r\n  const [pageNo, setPageNo] = useState<number>(1);\r\n  const [mainLoading, setMainLoading] = useState<boolean>(true);\r\n  const [visibleShare, setVisibleShare] = useState<boolean>(false);\r\n  const [followersCount, setFollowersCount] = useState<string>(\"\")\r\n  const [followingsCount, setFollowingsCount] = useState<string>(\"\")\r\n  const [isDecibel, setIsDecibel] = useState<string>(\"\")\r\n  const [postDataMainLoading, setPostDataMainLoading] = useState<boolean>(false);\r\n  const [pDetails, setPDetails] = useState<any>({});\r\n  const [handleGP, setHandleGP] = useState<boolean>(false);\r\n\r\n\r\n  const limit = 10;\r\n\r\n  useEffect(() => {\r\n    getUserProfile(true);\r\n    // setGetID((prev: string) => prev)\r\n    // eslint-disable-next-line\r\n  }, [id, handleGP]);\r\n\r\n  useEffect(() => {\r\n    // if (accountPrivacy !== true) {     \r\n    getUserPost();\r\n    // }\r\n  }, [pageNo, accountPrivacy, handleGP, id]);\r\n\r\n  // console.log(\"getId\", getId)\r\n  // console.log(\"id\", id)\r\n\r\n  // --------------------- Get User Profile ---------------------------------\r\n\r\n  const getUserProfile = (toggleMainLoading: boolean) => {\r\n    toggleMainLoading && setMainLoading(true);\r\n    setPageNo(1)\r\n    const obj = {\r\n      method: \"get_profile\",\r\n      user_id: user.data.user_id,\r\n      user_2: id,\r\n    };\r\n\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}profile`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    }).then((res) => {\r\n      res.json().then((response) => {\r\n        if (response.status === 1) {\r\n          setMainLoading(false);\r\n          setUserProfile(response?.data);\r\n          setFollowersCount(response?.data?.total_followers)\r\n          setFollowingsCount(response?.data?.total_followings)\r\n          if (user.data.user_id !== id) {\r\n            if (\r\n              (response.data.profile_status === \"0\") &&\r\n              ((response.data.user_1_follow_request === null && response.data.user_2_follow_request === \"accepted\") || (response.data.user_1_follow_request === \"\" && response.data.user_2_follow_request === \"accepted\")) ||\r\n              (response.data.user_1_follow_request === \"pending\" && response.data.user_2_follow_request === null) || (response.data.user_1_follow_request === \"pending\" && response.data.user_2_follow_request === \"\")\r\n              || (response.data.user_1_follow_request === \"pending\" && response.data.user_2_follow_request === \"accepted\")\r\n            ) {\r\n              setAccountPrivacy(true);\r\n            }\r\n          }\r\n        } if (response.status === 2) {\r\n          toast.error(\"Your session is expired. Please login to access your account\", {\r\n            position: \"top-center\",\r\n          });\r\n          dispatch(LogoutUser());\r\n          dispatch(LogoutUserPost());\r\n          navigate(\"/\");\r\n          resetUser(disp);\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  // --------------------- Get User Post ---------------------------------\r\n\r\n  const getUserPost = () => {\r\n    pageNo === 1 && setPostDataMainLoading(true)\r\n    setLoading(true);\r\n    const obj = {\r\n      method: \"get_post_list\",\r\n      page: pageNo,\r\n      limit: limit,\r\n      user_id: user.data.user_id,\r\n      user_2: id,\r\n    };\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    }).then((res) => {\r\n      res\r\n        .json()\r\n        .then((response) => {\r\n          if (response.status === 1) {\r\n            setPostDataMainLoading(false)\r\n            let pLimit = limit;\r\n            let pData = response?.data?.length;\r\n            setHasNextPage(pData >= pLimit);\r\n            if (pageNo === 1) {\r\n              dispatch(setPostList(response?.data));\r\n            } else {\r\n              let clone = [...postData];\r\n              response?.data && clone.push(...response?.data);\r\n              dispatch(setPostList(clone));\r\n            }\r\n          }\r\n        })\r\n        .finally(() => setLoading(false));\r\n    });\r\n  };\r\n\r\n  // --------------------- Button Handler ---------------------------------\r\n\r\n  const followBtnClick = (type: FollowEnum, action: string, userItem: any) => {\r\n\r\n    if (type == FollowEnum.typeFollow) {\r\n      setBtnLoading(true)\r\n      setIsDecibel(userItem?.user_id)\r\n      const obj = {\r\n        method: \"do_follow\",\r\n        user_id: user?.data?.user_id,\r\n        user_2: userItem?.user_id,\r\n      };\r\n\r\n      fetch(`${import.meta.env.VITE_PUBLIC_URL}profile`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          accept: \"application/json\",\r\n          contentType: \"application/json\",\r\n          version: \"1.0.0\",\r\n          token: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(obj),\r\n      }).then((res) => {\r\n        res.json().then((response) => {\r\n          if (response.status === 1) {\r\n            setIsDecibel(\"\")\r\n            setBtnLoading(false)\r\n            let newPostData = {\r\n              ...userItem,\r\n              user_1_follow_request: response?.extra?.user_1_follow_request,\r\n              user_2_follow_request: response?.extra?.user_2_follow_request,\r\n            };\r\n            setUserProfile(newPostData);\r\n            getUserProfile(true);\r\n          } else {\r\n            setBtnLoading(false)\r\n            setIsDecibel(\"\")\r\n          }\r\n        });\r\n      });\r\n    } else if (type == FollowEnum.typeUnfollow) {\r\n      // UN FOLLOW\r\n      setBtnLoading(true)\r\n      setIsDecibel(userItem?.user_id)\r\n      const obj = {\r\n        method: \"unfollow\",\r\n        user_id: user?.data?.user_id,\r\n        user_2: userItem?.user_id,\r\n      };\r\n\r\n      fetch(`${import.meta.env.VITE_PUBLIC_URL}profile`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          accept: \"application/json\",\r\n          contentType: \"application/json\",\r\n          version: \"1.0.0\",\r\n          token: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(obj),\r\n      }).then((res) => {\r\n        res.json().then((response) => {\r\n          if (response.status === 1) {\r\n            setIsDecibel(\"\")\r\n            setBtnLoading(false)\r\n            let newPostData = {\r\n              ...userItem,\r\n              user_1_follow_request: response?.extra?.user_1_follow_request,\r\n              user_2_follow_request: response?.extra?.user_2_follow_request,\r\n            };\r\n            setUserProfile(newPostData);\r\n            getUserProfile(true);\r\n          } else {\r\n            setBtnLoading(false)\r\n            setIsDecibel(\"\")\r\n          }\r\n        });\r\n      });\r\n    } else if (type == FollowEnum.typeFollowBack) {\r\n      // FOLLOW BACK\r\n      setBtnLoading(true)\r\n      setIsDecibel(userItem?.user_id)\r\n      const obj = {\r\n        method: \"do_follow\",\r\n        user_id: user?.data?.user_id,\r\n        user_2: userItem?.user_id,\r\n      };\r\n\r\n      fetch(`${import.meta.env.VITE_PUBLIC_URL}profile`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          accept: \"application/json\",\r\n          contentType: \"application/json\",\r\n          version: \"1.0.0\",\r\n          token: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(obj),\r\n      }).then((res) => {\r\n        res.json().then((response) => {\r\n          if (response.status === 1) {\r\n            setBtnLoading(false)\r\n            setIsDecibel(\"\")\r\n            let newPostData = {\r\n              ...userItem,\r\n              user_1_follow_request: response?.extra?.user_1_follow_request,\r\n              user_2_follow_request: response?.extra?.user_2_follow_request,\r\n            };\r\n            setUserProfile(newPostData);\r\n            getUserProfile(false);\r\n          } else {\r\n            setBtnLoading(false)\r\n            setIsDecibel(\"\")\r\n          }\r\n        });\r\n      });\r\n    } else if (type == FollowEnum.typeRequestSent) {\r\n      // REQUEST SENT\r\n      setBtnLoading(true)\r\n      setIsDecibel(userItem?.user_id)\r\n      const obj = {\r\n        method: \"cancel_follow_request\",\r\n        user_id: user?.data?.user_id,\r\n        user_2: userItem?.user_id,\r\n      };\r\n      fetch(`${import.meta.env.VITE_PUBLIC_URL}profile`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          accept: \"application/json\",\r\n          contentType: \"application/json\",\r\n          version: \"1.0.0\",\r\n          token: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(obj),\r\n      }).then((res) => {\r\n        res.json().then((response) => {\r\n          if (response.status === 1) {\r\n            setBtnLoading(false)\r\n            setIsDecibel(\"\")\r\n            let newPostData = {\r\n              ...userItem,\r\n              user_1_follow_request: response?.extra?.user_1_follow_request,\r\n              user_2_follow_request: response?.extra?.user_2_follow_request,\r\n            };\r\n            setUserProfile(newPostData);\r\n            getUserProfile(false);\r\n          } else {\r\n            setBtnLoading(false)\r\n            setIsDecibel(\"\")\r\n          }\r\n        });\r\n      });\r\n    } else if (type == FollowEnum.typeGotRequest) {\r\n      // ACCEPT / REJECT REQUEST\r\n      if (action === \"accept\") {\r\n        setBtnLoading(true)\r\n        setIsDecibel(userItem?.user_id)\r\n        const obj = {\r\n          method: \"accept_follow_request\",\r\n          user_id: user?.data?.user_id,\r\n          user_2: userItem?.user_id,\r\n        };\r\n\r\n        fetch(`${import.meta.env.VITE_PUBLIC_URL}profile`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            accept: \"application/json\",\r\n            contentType: \"application/json\",\r\n            version: \"1.0.0\",\r\n            token: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(obj),\r\n        }).then((res) => {\r\n          res.json().then((response) => {\r\n            if (response.status === 1) {\r\n              setBtnLoading(false)\r\n              setIsDecibel(\"\")\r\n              let newPostData = {\r\n                ...userItem,\r\n                user_1_follow_request: response?.extra?.user_1_follow_request,\r\n                user_2_follow_request: response?.extra?.user_2_follow_request,\r\n              };\r\n              setUserProfile(newPostData);\r\n              getUserProfile(false);\r\n            } else {\r\n              setBtnLoading(false)\r\n              setIsDecibel(\"\")\r\n            }\r\n          });\r\n        });\r\n      } else {\r\n        setBtnLoading(true)\r\n        setIsDecibel(userItem?.user_id)\r\n        const obj = {\r\n          method: \"reject_follow_request\",\r\n          user_id: user?.data?.user_id,\r\n          user_2: userItem?.user_id,\r\n        };\r\n\r\n        fetch(`${import.meta.env.VITE_PUBLIC_URL}profile`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            accept: \"application/json\",\r\n            contentType: \"application/json\",\r\n            version: \"1.0.0\",\r\n            token: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(obj),\r\n        }).then((res) => {\r\n          res.json().then((response) => {\r\n            if (response.status === 1) {\r\n              setBtnLoading(false)\r\n              setIsDecibel(\"\")\r\n              let newPostData = {\r\n                ...userItem,\r\n                user_1_follow_request: response?.extra?.user_1_follow_request,\r\n                user_2_follow_request: response?.extra?.user_2_follow_request,\r\n              };\r\n              setUserProfile(newPostData);\r\n              getUserProfile(false);\r\n            } else {\r\n              setBtnLoading(false)\r\n              setIsDecibel(\"\")\r\n            }\r\n          });\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const editProfile = () => {\r\n    navigate(`/uapp/ep/${id}/${\"gen\"}`);\r\n  };\r\n\r\n  const getUserProfileAllPostClick = (uId: number) => {\r\n    if (!accountPrivacy) {\r\n      navigate(`/postlist/${id}`);\r\n    }\r\n  };\r\n\r\n  const GoSettings = () => {\r\n    navigate(`/uapp/ep/${id}/${\"settings\"}`);\r\n  };\r\n\r\n  const getFollowers = () => {\r\n    setFollowers(!followers);\r\n  };\r\n\r\n  const getFollowing = () => {\r\n    setFollowing(!following);\r\n  };\r\n\r\n  const showPostDetailsClick = (value: any) => {\r\n    setPDetails(value)\r\n    setToggleDetails(!toggleDetails)\r\n  };\r\n\r\n  const intObserver = useRef<any>();\r\n  const lastPostRef = useCallback(\r\n    (post: any) => {\r\n      if (loading) return;\r\n      if (intObserver.current) intObserver.current.disconnect();\r\n\r\n      intObserver.current = new IntersectionObserver((posts) => {\r\n        if (posts[0].isIntersecting && hasNextPage) {\r\n          setPageNo((prev) => prev + 1);\r\n        }\r\n      });\r\n\r\n      if (post) intObserver.current.observe(post);\r\n    },\r\n    [loading, hasNextPage, id]\r\n  );\r\n\r\n  // ------------- generate unique id function  -------------\r\n\r\n  function getUniqueChatId(otherUserId: string) {\r\n    let intUserId = parseInt(user?.data?.user_id)\r\n    let intOtherUserId = parseInt(otherUserId)\r\n\r\n    // let kb = intUserId + intOtherUserId\r\n\r\n    let result = (intUserId * intOtherUserId)\r\n    return result.toString()\r\n  }\r\n\r\n  const goMsgClick = (item: any) => {\r\n\r\n    let generateId = getUniqueChatId(item?.user_id)\r\n\r\n    navigate(`/messages/${generateId}`)\r\n\r\n    const chatHRef = ref(db, `chathistory/${user?.data?.user_id}`);\r\n    const newChatHRef = child(chatHRef, generateId)\r\n\r\n    onValue(newChatHRef, (snapshot) => {\r\n      if (!snapshot.exists()) {\r\n\r\n        let chatHistoryObj = {\r\n          chatHistoryId: generateId,\r\n          chatRoomId: generateId,\r\n          createdAt: `${Date.now().toString()}`,\r\n          last_message: \"\",\r\n          opp_userChatHistoryId: generateId,\r\n          opp_userId: item?.user_id,\r\n          opp_username: item?.name,\r\n          opp_userprofile: item?.photo,\r\n        }\r\n        set(newChatHRef, chatHistoryObj);\r\n\r\n        // ---------------- opp user set chat history ---------------\r\n\r\n        const oppMsgListRef = ref(db, `chathistory/${item?.user_id}`);\r\n        const oopNewMsgRef = child(oppMsgListRef, generateId);\r\n\r\n        let oppChatHistoryObj = {\r\n          chatHistoryId: generateId,\r\n          chatRoomId: generateId,\r\n          createdAt: `${Date.now().toString()}`,\r\n          last_message: \"\",\r\n          opp_userChatHistoryId: generateId,\r\n          opp_userId: user?.data?.user_id,\r\n          opp_username: user?.data?.name,\r\n          opp_userprofile: user?.data?.photo,\r\n        }\r\n        set(oopNewMsgRef, oppChatHistoryObj);\r\n\r\n      }\r\n    });\r\n\r\n    const chatRoomRef = ref(db, `chatroom/`);\r\n    const newChatRoomRef = child(chatRoomRef, generateId);\r\n\r\n    let chatRoomObj = {\r\n      channel_Id: generateId,\r\n      opp_userId: item?.user_id,\r\n      user_id: user?.data?.user_id,\r\n    }\r\n    set(newChatRoomRef, chatRoomObj);\r\n\r\n    // ----------------- create chat Room --------------------------------\r\n\r\n    // if (chatData.map((item) => item.chatHistoryId !== generateId)) {\r\n    //   let chatRoomObj = {\r\n    //     channel_Id: generateId,\r\n    //     opp_userId: item?.user_id,\r\n    //     user_id: user?.data?.user_id,\r\n    //   }\r\n    //   update(newChatRoomRef, chatRoomObj);\r\n    // } else {\r\n    //   let chatRoomObj = {\r\n    //     channel_Id: generateId,\r\n    //     opp_userId: item?.user_id,\r\n    //     user_id: user?.data?.user_id,\r\n    //   }\r\n    //   set(newChatRoomRef, chatRoomObj);\r\n    // }\r\n\r\n\r\n\r\n    const dbRef = ref(db, `messages/${generateId}`);\r\n    onValue(dbRef, (snapshot) => {\r\n      let msgArr: any[] = []\r\n      snapshot.forEach((childSnapshot) => {\r\n        const childKey = childSnapshot.key;\r\n        const childData = childSnapshot.val();\r\n        msgArr.push(childData)\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* =================================== */}\r\n      <main className=\"mt-16 bg-opacity-25\">\r\n        {mainLoading ? (\r\n          <div className=\"w-full h-[100%] flex justify-center items-center\">\r\n            <Loading />\r\n          </div>\r\n        ) : (\r\n          <div className=\"mb-8 lg:w-8/12 lg:mx-auto\">\r\n            <header className=\"flex flex-wrap items-center p-4 md:py-8\">\r\n              <div className=\"md:w-3/12 md:ml-16\">\r\n                <img\r\n                  className=\"object-cover w-20 h-20 p-1 border-2 border-black rounded-full md:w-40 md:h-40\"\r\n                  alt=\"profile\"\r\n                  src={userProfile?.photo || DEF_USER}\r\n                  crossOrigin=\"anonymous\"\r\n                  onError={(e: any) =>\r\n                    (e.target.onerror = null) || (e.target.src = DEF_USER)\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"w-8/12 ml-4 md:w-7/12\">\r\n                <div className=\"mb-4 md:flex md:flex-wrap md:items-center\">\r\n                  <h2 className=\"inline-block mb-2 text-3xl font-light md:mr-2 sm:mb-0\">\r\n                    {userProfile?.name || \"UserName\"}\r\n                  </h2>\r\n\r\n                  <span\r\n                    className=\"relative inline-block mr-6 text-xl text-blue-500 transform -translate-y-2 fas fa-certificate fa-lg\"\r\n                    aria-hidden=\"true\"\r\n                  >\r\n                    <i\r\n                      className=\"absolute inset-x-0 mt-px ml-1 text-xs text-white fas fa-check\"\r\n                    ></i>\r\n                  </span>\r\n\r\n                  {userProfile ? (\r\n                    <>\r\n                      {id === user.data.user_id ? (\r\n                        <>\r\n                          <div\r\n                            style={{ display: \"flex\", alignItems: \"center\" }}\r\n                          >\r\n                            <span className=\"up-un-ed d-f\">\r\n                              <button\r\n                                className=\"primary-btn-sm\"\r\n                                onClick={() => editProfile()}\r\n                              >\r\n                                Edit Profile\r\n                              </button>\r\n                            </span>{\" \"}\r\n                            <span className=\"up-un-st d-f\">\r\n                              <img\r\n                                src={SETTING_BLACK_ICON}\r\n                                alt=\"setting\"\r\n                                className=\"object-contain w-5 h-5\"\r\n                                onClick={() => GoSettings()}\r\n                              />\r\n                            </span>\r\n                          </div>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <div className=\"flex\">\r\n                            <FollowBtnCheck\r\n                              key={userProfile}\r\n                              followBtnClick={followBtnClick}\r\n                              user1={userProfile?.user_1_follow_request}\r\n                              user2={userProfile?.user_2_follow_request}\r\n                              userItem={userProfile}\r\n                              loading={btnLoading}\r\n                              isDecibel={isDecibel}\r\n                            />\r\n                            <img src={MORE_ICON} alt=\"more\" className=\"ml-3\" onClick={() => setVisibleShare(!visibleShare)} />\r\n                            {userProfile?.user_1_follow_request === \"accepted\" ? (\r\n                              <img\r\n                                src={MESSAGES_ICON}\r\n                                alt=\"more\"\r\n                                className=\"ml-3\"\r\n                                onClick={() => goMsgClick(userProfile)}\r\n                              />\r\n                            ) : null}\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </>\r\n                  ) : null}\r\n                </div>\r\n\r\n                <ul className=\"hidden mb-4 space-x-8 md:flex\">\r\n                  <li>\r\n                    <span\r\n                      className=\"font-semibold\"\r\n                      onClick={() =>\r\n                        getUserProfileAllPostClick(userProfile?.user_id)\r\n                      }\r\n                    >\r\n                      {userProfile?.posts[0].total_post} posts\r\n                    </span>\r\n                  </li>\r\n\r\n                  <li>\r\n                    <span className=\"font-semibold\">\r\n                      {followers ? (\r\n                        <>\r\n                          <span onClick={() => getFollowers()}>\r\n                            {followersCount} followers\r\n                          </span>\r\n                          {!accountPrivacy ? (\r\n                            <>\r\n                              <Followers\r\n                                uid={id}\r\n                                title={\"Followers\"}\r\n                                setFollowers={setFollowers}\r\n                                setFollowing={setFollowing}\r\n                                user1Status={userProfile?.user_1_follow_request}\r\n                                user2Status={userProfile?.user_2_follow_request}\r\n                                followingsCount={followingsCount}\r\n                                setFollowingsCount={setFollowingsCount}\r\n                              />\r\n                            </>\r\n                          ) : null}\r\n                        </>\r\n                      ) : (\r\n                        <span onClick={() => getFollowers()}>\r\n                          {followersCount} followers\r\n                        </span>\r\n                      )}\r\n                    </span>\r\n                  </li>\r\n                  <li>\r\n                    <span className=\"font-semibold\">\r\n                      {following ? (\r\n                        <>\r\n                          <span onClick={() => getFollowing()}>\r\n                            {followingsCount} following\r\n                          </span>\r\n                          {!accountPrivacy ? (\r\n                            <>\r\n                              <Followers\r\n                                uid={id}\r\n                                title={\"Following\"}\r\n                                setFollowers={setFollowers}\r\n                                setFollowing={setFollowing}\r\n                                user1Status={userProfile?.user_1_follow_request}\r\n                                user2Status={userProfile?.user_2_follow_request}\r\n                                followingsCount={followingsCount}\r\n                                setFollowingsCount={setFollowingsCount}\r\n                              />\r\n                            </>\r\n                          ) : null}\r\n                        </>\r\n                      ) : (\r\n                        <span onClick={() => getFollowing()}>\r\n                          {followingsCount} following\r\n                        </span>\r\n                      )}\r\n                    </span>\r\n                  </li>\r\n                </ul>\r\n\r\n                <div className=\"hidden md:block\">\r\n                  <span>{userProfile?.bio}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"my-2 text-sm md:hidden\">\r\n                <span>{userProfile?.bio}</span>\r\n              </div>\r\n            </header>\r\n\r\n            <div className=\"px-px md:px-3\">\r\n              <ul\r\n                className=\"flex justify-around p-2 space-x-8 text-sm leading-snug text-center text-gray-600 border-t md:hidden\"\r\n              >\r\n                <li>\r\n                  <span\r\n                    className=\"block font-semibold text-gray-800\"\r\n                    onClick={() =>\r\n                      getUserProfileAllPostClick(userProfile?.user_id)\r\n                    }\r\n                  >\r\n                    {userProfile?.posts[0].total_post} posts\r\n                  </span>\r\n                </li>\r\n\r\n                <li>\r\n                  <span className=\"block font-semibold text-gray-800\">\r\n                    {followers ? (\r\n                      <>\r\n                        <span onClick={() => getFollowers()}>\r\n                          {followersCount} followers\r\n                        </span>\r\n                        {!accountPrivacy ? (\r\n                          <>\r\n                            <Followers\r\n                              uid={id}\r\n                              title={\"Followers\"}\r\n                              setFollowers={setFollowers}\r\n                              setFollowing={setFollowing}\r\n                              user1Status={userProfile?.user_1_follow_request}\r\n                              user2Status={userProfile?.user_2_follow_request}\r\n                              followingsCount={followingsCount}\r\n                              setFollowingsCount={setFollowingsCount}\r\n                            />\r\n                          </>\r\n                        ) : null}\r\n                      </>\r\n                    ) : (\r\n                      <span onClick={() => getFollowers()}>\r\n                        {followersCount} followers\r\n                      </span>\r\n                    )}\r\n                  </span>\r\n                </li>\r\n                <li>\r\n                  <span className=\"block font-semibold text-gray-800\">\r\n                    {following ? (\r\n                      <>\r\n                        <span onClick={() => getFollowing()}>\r\n                          {followingsCount} following\r\n                        </span>\r\n                        {!accountPrivacy ? (\r\n                          <>\r\n                            <Followers\r\n                              uid={id}\r\n                              title={\"Following\"}\r\n                              user1Status={userProfile?.user_1_follow_request}\r\n                              user2Status={userProfile?.user_2_follow_request}\r\n                              setFollowing={setFollowing}\r\n                              setFollowers={setFollowers}\r\n                              followingsCount={followingsCount}\r\n                              setFollowingsCount={setFollowingsCount}\r\n                            />\r\n                          </>\r\n                        ) : null}\r\n                      </>\r\n                    ) : (\r\n                      <span onClick={() => getFollowing()}>\r\n                        {followingsCount} following\r\n                      </span>\r\n                    )}\r\n                  </span>\r\n                </li>\r\n              </ul>\r\n              <div className=\"mb-5 border-t \" />\r\n              <div className=\"flex flex-wrap -mx-px md:-mx-3\">\r\n                {postDataMainLoading ? <SpinningLoader\r\n                  isLoading\r\n                  colClass=\"text-black\"\r\n                  size={20}\r\n                  className=\"flex items-center justify-center w-full mb-4\"\r\n                /> : postData?.length > 0\r\n                  ? postData?.map((val: any, index: number) => {\r\n                    return postData?.length === index + 1 ? (\r\n                      <UserProfilePostCards\r\n                        key={index}\r\n                        item={val}\r\n                        index={index}\r\n                        showPostDetailsClick={showPostDetailsClick}\r\n                        ref={lastPostRef}\r\n                      />\r\n                    ) : (\r\n                      <UserProfilePostCards\r\n                        key={index}\r\n                        item={val}\r\n                        index={index}\r\n                        showPostDetailsClick={showPostDetailsClick}\r\n                      />\r\n                    );\r\n                  })\r\n                  : !loading && (\r\n                    <p className=\"flex items-center justify-center w-full text-xl text-center text-gray-500 h-52 text-bold\">\r\n                      No posts yet !!\r\n                    </p>\r\n                  )}\r\n              </div>\r\n              {loading && !postDataMainLoading && (\r\n                <SpinningLoader\r\n                  isLoading\r\n                  colClass=\"text-black\"\r\n                  size={10}\r\n                  className=\"flex items-center justify-center w-full mb-4\"\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n      {toggleDetails && (\r\n        <PostDetails\r\n          key={pDetails?.post_id}\r\n          value={pDetails}\r\n          closeToggle={setToggleDetails}\r\n          setHandleGP={setHandleGP}\r\n          handleGP={handleGP}\r\n        />\r\n      )}\r\n      <SharePopup value={userProfile} visible={visibleShare} onClose={setVisibleShare} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { UserIcon, ShowComm, EditPost, ReportPost, DeleteConform } from \"./\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { Like, Chat, Send, DefaultImg, DEF_USER } from \"~/assets/\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { MORE_ICON } from \"~/assets\";\r\nimport moment from \"moment\";\r\n\r\nconst UserAccountPostPreview = () => {\r\n  const [imgSrc, setImgSrc] = useState<string>(\"\");\r\n  const [comment, setComment] = useState<string>(\"\");\r\n  const [postData, setPostData] = useState<any>(\"\");\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n  const [showComment, setShowComment] = useState<any[]>([]);\r\n  const [edCommId, setEdCommId] = useState<string>(\"\");\r\n  const [edtPostMenu, setEdtPostMenu] = useState<boolean>(false);\r\n  const [dlCom, setDlCom] = useState<string>(\"\");\r\n  const [report, setReport] = useState<boolean>(false);\r\n  const [conformPostDelete, setConformPostDelete] = useState<boolean>(false);\r\n  const [message, setMessage] = useState<string>(\"\");\r\n  const [likePostStatus, setLikePostStatus] = useState<boolean>(false);\r\n  const [playBool, setPlayBool] = useState<boolean>(false);\r\n  const [soundBool, setSoundBool] = useState<boolean>(false);\r\n\r\n  const videoRef = useRef<any>();\r\n\r\n  const token = user?.token;\r\n  const back = () => {\r\n    navigate(-1);\r\n  };\r\n  const checkLength = (e: any) => {\r\n    e.target.value.length < 251 && setComment(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const obj = {\r\n      method: \"get_post\",\r\n      post_id: id,\r\n      user_id: user.data.user_id,\r\n    };\r\n\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    })\r\n      .then((res) => {\r\n        res.json().then((response) => {\r\n          if (response.status === 1) {\r\n            setPostData(response);\r\n            setImgSrc(response.data.attachments[0].attachment);\r\n            commentApi();\r\n          }\r\n          // console.log(\"response.data[0].attachment\", response);\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        // console.error(\"post preview Error ...\", e);\r\n      });\r\n  }, [edCommId, dlCom, likePostStatus]);\r\n\r\n  const commentApi = () => {\r\n    const obj2 = {\r\n      method: \"get_post_comments\",\r\n      post_id: id,\r\n      page: 1,\r\n      limit: 30,\r\n      user_id: user.data.user_id,\r\n    };\r\n\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj2),\r\n    }).then((res) => {\r\n      res.json().then((response) => {\r\n        if (response.status === 1) {\r\n          setShowComment(response.data);\r\n        } else {\r\n          // console.log(\"EEEE\");\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  const setPostC = () => {\r\n    const obj = {\r\n      method: \"comment_post\",\r\n      post_id: id,\r\n      comment: comment,\r\n      user_id: user.data.user_id,\r\n    };\r\n\r\n    const objEdit = {\r\n      method: \"comment_post\",\r\n      post_id: id,\r\n      comment: comment,\r\n      comment_id: edCommId,\r\n      user_id: user.data.user_id,\r\n    };\r\n\r\n    objEdit\r\n      ? fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          accept: \"application/json\",\r\n          contentType: \"application/json\",\r\n          version: \"1.0.0\",\r\n          token: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(objEdit),\r\n      }).then((res) => {\r\n        res.json().then((response) => {\r\n          if (response.status === 1) {\r\n            setComment(\"\");\r\n            commentApi();\r\n            setEdCommId(\"\");\r\n            // console.log(\"Comment EDIT MATE\", response);\r\n          }\r\n        });\r\n      })\r\n      : fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          accept: \"application/json\",\r\n          contentType: \"application/json\",\r\n          version: \"1.0.0\",\r\n          token: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(obj),\r\n      }).then((res) => {\r\n        res.json().then((response) => {\r\n          if (response.status === 1) {\r\n            setComment(\"\");\r\n            commentApi();\r\n          }\r\n        });\r\n      });\r\n  };\r\n\r\n  const postEdit = () => {\r\n    setEdtPostMenu(true);\r\n  };\r\n  const showReportPost = () => {\r\n    setReport(!report);\r\n  };\r\n\r\n  const reportPost = (e: any) => {\r\n    const obj = {\r\n      method: \"report_post\",\r\n      post_id: id,\r\n      user_id: user.data.user_id,\r\n      report: e,\r\n    };\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    })\r\n      .then((res) => {\r\n        res.json().then((response) => {\r\n          if (response.status === 1) {\r\n            setReport(false);\r\n          } else {\r\n            setMessage(response.message);\r\n          }\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        setMessage(e);\r\n      });\r\n  };\r\n\r\n  const conPostDelete = () => {\r\n    setConformPostDelete(!conformPostDelete);\r\n  };\r\n\r\n  const likePost = () => {\r\n    const obj = {\r\n      method: \"like_post\",\r\n      post_id: postData?.data?.post_id,\r\n      user_id: user.data.user_id,\r\n    };\r\n\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    })\r\n      .then((res) => {\r\n        res.json().then((response) => {\r\n          if (response.status === 1) {\r\n            setLikePostStatus(!likePostStatus);\r\n          }\r\n        });\r\n      })\r\n      .catch(() => {\r\n        // console.log(\"Like Network issue...\");\r\n      });\r\n  };\r\n\r\n  const handleVideo = () => {\r\n    if (playBool) {\r\n      videoRef.current?.play();\r\n      setPlayBool(false);\r\n    } else {\r\n      videoRef.current?.pause();\r\n      setPlayBool(true);\r\n    }\r\n  };\r\n\r\n  const handleToggleSound = () => {\r\n    videoRef.current?.volume === 1\r\n      ? (videoRef.current.volume = 0)\r\n      : videoRef.current\r\n        ? (videoRef.current.volume = 1)\r\n        : null;\r\n    setSoundBool((prevState) => !prevState);\r\n  };\r\n\r\n  return (\r\n    <div className=\"CP-main\">\r\n      <div className=\"CP-close\">\r\n        {/* <AiOutlineClose onClick={() => back()} style={{ fontSize: \"2rem\" }} /> */}\r\n      </div>\r\n\r\n      <div className=\"uap-box d\">\r\n        <div>\r\n          {postData ? (\r\n            <>\r\n              <div className=\"uap-img\">\r\n                {playBool ? (\r\n                  <></>\r\n                ) : (\r\n                  // <BsFillPlayCircleFill\r\n                  //   className=\"play-v\"\r\n                  //   onClick={handleVideo}\r\n                  // />\r\n                  <></>\r\n                  // <BsPauseCircleFill\r\n                  //   className=\"pause-v\"\r\n                  //   onClick={handleVideo}\r\n                  // />\r\n                )}\r\n                {!soundBool ? (\r\n                  <></>\r\n                ) : (\r\n                  // <HiVolumeUp className=\"on-v\" onClick={handleToggleSound} />\r\n                  <></>\r\n                  // <HiVolumeOff className=\"off-v\" onClick={handleToggleSound} />\r\n                )}\r\n                <video\r\n                  className=\"uap-img\"\r\n                  autoPlay\r\n                  style={{\r\n                    objectFit: \"cover\",\r\n                    width: \"800px\",\r\n                    height: \"500px\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  ref={videoRef}\r\n                  onClick={handleVideo}\r\n                  onEnded={() => setPlayBool(false)}\r\n                >\r\n                  <source\r\n                    src={imgSrc}\r\n                    type=\"video/mp4\"\r\n                    style={{\r\n                      objectFit: \"cover\",\r\n                      width: \"300px\",\r\n                      height: \"300px\",\r\n                    }}\r\n                  />\r\n                </video>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <img src={DefaultImg} alt=\"img\" className=\"uap-img\" />\r\n            </>\r\n          )}\r\n        </div>\r\n        {/* =============================================================================== */}\r\n        <div className=\"uap-box-comm\">\r\n          <div className=\"uap-comm-head\">\r\n            <div className=\"uap-comm-ic\">\r\n              {/* <div className=\"comment_header\">\r\n                <UserIcon\r\n                  src={postData.data.photo}\r\n                  popups={undefined}\r\n                  popupval={undefined}\r\n                  setPopupLike={undefined}\r\n                  popupLike={undefined}\r\n                  setPopupExplore={undefined}\r\n                />\r\n                <span style={{ marginLeft: \"15px\" }}>{postData.data.name}</span>\r\n              </div>\r\n              <div className=\"home-user-info d-f\">\r\n                <BiDotsHorizontalRounded style={{ cursor: \"pointer\" }} />\r\n              </div> */}\r\n              {postData ? (\r\n                <>\r\n                  <span>\r\n                    {\" \"}\r\n                    <UserIcon\r\n                      src={postData.data.photo}\r\n                      popups={undefined}\r\n                      popupval={undefined}\r\n                      setPopupLike={undefined}\r\n                      popupLike={undefined}\r\n                      setPopupExplore={undefined}\r\n                    />\r\n                  </span>\r\n                  <span> {postData.data.name}</span>\r\n\r\n                  {postData.data.user_id === user.data.user_id ? (\r\n                    <>\r\n                      <span style={{ cursor: \"pointer\" }}>\r\n                        <img\r\n                          src={MORE_ICON}\r\n                          alt=\"more\"\r\n                          onClick={() => postEdit()}\r\n                        />\r\n                      </span>\r\n                      {conformPostDelete ? (\r\n                        <>\r\n                          <span style={{ cursor: \"pointer\", color: \"red\" }}>\r\n                            {/* <MdDelete onClick={() => conPostDelete()} /> */}\r\n                          </span>\r\n                          <DeleteConform\r\n                            setConformPostDelete={setConformPostDelete}\r\n                          />\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <span style={{ cursor: \"pointer\", color: \"red\" }}>\r\n                            {/* <MdDelete onClick={() => conPostDelete()} /> */}\r\n                          </span>\r\n                        </>\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      {report ? (\r\n                        <>\r\n                          <span style={{ cursor: \"pointer\" }}>\r\n                            {/* <FiAlertCircle onClick={() => showReportPost()} /> */}\r\n                          </span>\r\n                          <ReportPost\r\n                            setReport={setReport}\r\n                            message={message}\r\n                            reportPost={reportPost}\r\n                          />\r\n                        </>\r\n                      ) : (\r\n                        <span\r\n                          style={{ cursor: \"pointer\" }}\r\n                          className=\"uap-re-ic\"\r\n                        >\r\n                          {/* <FiAlertCircle onClick={() => showReportPost()} /> */}\r\n                        </span>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                  {edtPostMenu ? (\r\n                    <EditPost\r\n                      postData={postData}\r\n                      setEdtPostMenu={setEdtPostMenu}\r\n                    />\r\n                  ) : null}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <span>\r\n                    {\" \"}\r\n                    <UserIcon\r\n                      src={DEF_USER}\r\n                      popups={undefined}\r\n                      popupval={undefined}\r\n                      setPopupLike={undefined}\r\n                      popupLike={undefined}\r\n                      setPopupExplore={undefined}\r\n                    />{\" \"}\r\n                  </span>\r\n                  <span> User Name...</span>\r\n\r\n                  <span className=\"uap-date\"> Date</span>\r\n                </>\r\n              )}\r\n              {/* <AiOutlineClose onClick={() => back()} style={{ fontSize: \"2rem\" }} /> */}\r\n            </div>\r\n\r\n            <div className=\"uap-comm-comments\">\r\n              {postData ? (\r\n                <>\r\n                  <div className=\"uap-show-comm\">\r\n                    <div className=\"uap-sh-card\">\r\n                      <div className=\"comment_header uap-c-n\">\r\n                        <UserIcon\r\n                          src={postData.data.photo}\r\n                          popups={undefined}\r\n                          popupval={undefined}\r\n                          setPopupLike={undefined}\r\n                          popupLike={undefined}\r\n                          setPopupExplore={undefined}\r\n                        />\r\n                        <span style={{ marginLeft: \"15px\" }}>\r\n                          {postData.data.name}\r\n                        </span>\r\n                      </div>\r\n                      <span className=\"uap-s-c\">\r\n                        <span>{postData.data.description}</span>\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"uap-sh-t\">\r\n                      <span className=\"uap-time\">\r\n                        {moment\r\n                          .utc(`${postData.data.reg_date}`)\r\n                          .local()\r\n                          .startOf(\"seconds\")\r\n                          .fromNow()}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {showComment ? (\r\n                    <>\r\n                      {showComment.map((item, index) => {\r\n                        return (\r\n                          <ShowComm\r\n                            item={item}\r\n                            key={index}\r\n                            pid={id}\r\n                            dlCom={dlCom}\r\n                            setComment={setComment}\r\n                            setEdCommId={setEdCommId}\r\n                            setDlCom={setDlCom}\r\n                          />\r\n                        );\r\n                      })}\r\n                    </>\r\n                  ) : null}\r\n                </>\r\n              ) : null}\r\n            </div>\r\n            <div className=\"uap-comm-foot\">\r\n              {postData ? (\r\n                <>\r\n                  <div className=\"uap-post-like\">\r\n                    {postData.data.is_liked === \"1\" ? (\r\n                      <></>\r\n                    ) : (\r\n                      // <FcLike\r\n                      //   className=\"ic-liked my-2.5\"\r\n                      //   onClick={() => likePost()}\r\n                      // />\r\n                      <img\r\n                        src={Like}\r\n                        className=\"ic my-2.5\"\r\n                        onClick={() => likePost()}\r\n                        alt=\"hh\"\r\n                      />\r\n                    )}\r\n                    <img src={Chat} className=\"ic my-2.5\" alt=\"hh\" />\r\n                    <img src={Send} className=\"ic my-2.5\" alt=\"hh\" />\r\n                  </div>\r\n                  <div className=\"uap-post-book\">\r\n                    {/* <VscBookmark className=\"ic-1 my-2.5\" /> */}\r\n                  </div>\r\n                </>\r\n              ) : null}\r\n            </div>\r\n            <div className=\"uap-comm-li\">\r\n              {postData ? (\r\n                <>\r\n                  {likePostStatus ? (\r\n                    <span className=\"uap-p-like\">\r\n                      {\" \"}\r\n                      {postData.data.likes} Likes\r\n                    </span>\r\n                  ) : (\r\n                    <span className=\"uap-p-like\">\r\n                      {\" \"}\r\n                      {postData.data.likes} Likes\r\n                    </span>\r\n                  )}\r\n                  <span className=\"uap-text-num\">\r\n                    {comment.length > 249 && \"MAX Length  \"}\r\n                    {comment.length}/250\r\n                  </span>\r\n                  <span className=\"uap-date\">\r\n                    {/* {moment.utc(`${postData.data.reg_date}`).local().startOf('seconds').fromNow()} */}\r\n                    {moment.utc(`${postData.data.reg_date}`).fromNow()}\r\n                  </span>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <span className=\"uap-p-like\"> Likes</span>\r\n                  <span className=\"uap-text-num\"> 0/250 </span>\r\n                  <span className=\"uap-date\"> Time </span>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"uap-comm-set-comm\">\r\n              <textarea\r\n                className=\"uap-inp-cap\"\r\n                value={comment}\r\n                id=\"cap\"\r\n                rows={15}\r\n                onChange={checkLength}\r\n                placeholder=\"Write Comment...\"\r\n                cols={29}\r\n              />\r\n              <span className=\"uap-p\" onClick={() => setPostC()}>\r\n                POST\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserAccountPostPreview;\r\n","import moment from \"moment\";\r\nimport { UserIcon } from \"../\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\ntype props = {\r\n  item: any;\r\n  pid: string | number | unknown;\r\n  setComment: (v: string) => void;\r\n  setEdCommId: (v: string) => void;\r\n  setDlCom: (v: string) => void;\r\n  dlCom: any;\r\n};\r\n\r\nconst ShowComm = ({\r\n  item,\r\n  pid,\r\n  setComment,\r\n  setEdCommId,\r\n  setDlCom,\r\n  dlCom,\r\n}: props) => {\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n  const token = user?.token;\r\n\r\n  const editComment = () => {\r\n    setComment(item?.comment);\r\n    setEdCommId(item?.comment_id);\r\n  };\r\n  const deleteComment = () => {\r\n    const obj = {\r\n      method: \"delete_post_comment\",\r\n      post_id: pid,\r\n      comment_id: item?.comment_id,\r\n      user_id: user.data.user_id,\r\n    };\r\n    // console.log(\"obj---\", obj);\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    }).then((res) => {\r\n      res.json().then((response) => {\r\n        if (response.status === 1) {\r\n          setDlCom(item?.comment_id);\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"uap-show-comm\" key={item?.comment_id}>\r\n      <div className=\"uap-sh-card\">\r\n        <span className=\"uap-c-n \">\r\n          <UserIcon\r\n            src={item?.photo}\r\n            popups={undefined}\r\n            popupval={undefined}\r\n            setPopupLike={undefined}\r\n            popupLike={undefined}\r\n            setPopupExplore={undefined}\r\n          />\r\n          {item?.name}{\" \"}\r\n        </span>\r\n        <div className=\"uap-s-c\">\r\n          <span\r\n            style={{\r\n              width: \"90%\",\r\n              textAlign: \"justify\",\r\n              flexWrap: \"wrap\",\r\n              overflowWrap: \"break-word\",\r\n            }}\r\n          >\r\n            {item?.comment}\r\n          </span>\r\n\r\n          {item?.user_id === user.data.user_id && (\r\n            <>\r\n              <span\r\n                style={{\r\n                  fontSize: \"1.3rem\",\r\n                  paddingLeft: \"10px\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n              >\r\n                {/* EDIT ICON =>  < onClick={() => editComment()} /> */}\r\n              </span>\r\n              <span style={{ fontSize: \"1.3rem\", cursor: \"pointer\" }}>\r\n                {/*  DELETE ICON =>  <   onClick={() => deleteComment()} /> */}\r\n              </span>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"uap-sh-t\">\r\n        <span className=\"uap-time\">\r\n          {moment\r\n            .utc(`${item?.reg_date}`)\r\n            .local()\r\n            .startOf(\"seconds\")\r\n            .fromNow()}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowComm;\r\n","import { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { CLOSE_BLACK_ICON } from \"~/assets\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport FollowersContent from \"./ForPagination/FollowersContent\";\r\nimport SpinningLoader from \"./Animation/SpinningLoader\";\r\n\r\ntype Props = {\r\n  uid: any;\r\n  title: any;\r\n  setFollowers: (b: boolean) => void;\r\n  setFollowing: (b: boolean) => void;\r\n  user1Status: string;\r\n  user2Status: string;\r\n  followingsCount: string\r\n  setFollowingsCount: (s: string) => void,\r\n};\r\n\r\nconst Followers = ({\r\n  uid,\r\n  title,\r\n  setFollowers,\r\n  setFollowing,\r\n  user1Status,\r\n  user2Status,\r\n  followingsCount,\r\n  setFollowingsCount,\r\n}: Props) => {\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n  const navigate = useNavigate();\r\n\r\n  const [result, setResult] = useState<any[]>([]);\r\n\r\n  const [hasNextPage, setHasNextPage] = useState(false);\r\n\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [pageNo, setPageNo] = useState(1);\r\n  const [isDecibel, setIsDecibel] = useState<string>(\"\")\r\n\r\n  const limit = 10;\r\n\r\n  const token = user?.token;\r\n  const goBack = () => {\r\n    if (title === \"Following\") {\r\n      setFollowing(false);\r\n    } else {\r\n      setFollowers(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [user1Status, user2Status, pageNo]);\r\n\r\n  const getData = () => {\r\n    setLoading(true);\r\n    const obj = {\r\n      method: title === \"Followers\" ? \"get_followers\" : \"get_followings\",\r\n      user_id: user.data.user_id,\r\n      user_2: uid,\r\n      page: pageNo,\r\n      limit: limit,\r\n    };\r\n\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}profile`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    }).then((res) => {\r\n      res.json().then((response) => {\r\n        if (response.status === 1) {\r\n          setLoading(false);\r\n          if (title === \"Followers\") {\r\n            // console.log(\"followers res--->\", response)\r\n            let pLimit = limit;\r\n            let pData = response?.data?.followers?.length;\r\n            setHasNextPage(pData >= pLimit);\r\n            if (pageNo === 1) {\r\n              setResult(response?.data?.followers);\r\n            } else {\r\n              let clone = [...result];\r\n              response?.data?.followers &&\r\n                clone.push(...response?.data?.followers);\r\n              setResult(clone);\r\n            }\r\n          } else {\r\n            // console.log(\"following res--->\", response)\r\n            let pLimit = limit;\r\n            let pData = response?.data?.followings?.length;\r\n            setHasNextPage(pData <= pLimit);\r\n            if (pageNo === 1) {\r\n              setResult(response?.data?.followings);\r\n            } else {\r\n              let clone = [...result];\r\n              response?.data?.followings &&\r\n                clone.push(...response?.data?.followings);\r\n              setResult(clone);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n\r\n\r\n  const intObserver = useRef<any>();\r\n  const lastPostRef = useCallback(\r\n    (post: any) => {\r\n      if (loading) return;\r\n      if (intObserver.current) intObserver.current.disconnect();\r\n\r\n      intObserver.current = new IntersectionObserver((posts) => {\r\n        if (posts[0].isIntersecting && hasNextPage) {\r\n          setPageNo((prev) => prev + 1);\r\n        }\r\n      });\r\n\r\n      if (post) intObserver.current.observe(post);\r\n    },\r\n    [loading, hasNextPage]\r\n  );\r\n\r\n  const goProfile = (id: string) => {\r\n    navigate(`/userprofile/${id}`);\r\n    if (title === \"Following\") {\r\n      setFollowing(false);\r\n    } else {\r\n      setFollowers(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"followers-main fixed text-black overflow-auto left-0 right-0 top-0 bottom-0 transition-all duration-300 \">\r\n        <div className=\"followers-card  bg-white rounded-xl shadow-2xl p-6  sm:w-8/12 xs:w-8/12 mx-10 flex justify-center flex-col \">\r\n          <div className=\"followers-heading\">\r\n            <span\r\n              style={{\r\n                padding: \"10px 10px\",\r\n                width: \"100%\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              {title}\r\n            </span>\r\n            <span style={{ width: \"30px\" }} onClick={() => goBack()}>\r\n              <img src={CLOSE_BLACK_ICON} alt=\"Close\" />\r\n            </span>\r\n          </div>\r\n          <div className=\"\" style={{ overflow: \"scroll\", height: \"470px\" }}>\r\n            {result?.length > 0\r\n              ? result?.map((val: object, index: number) => {\r\n                return result?.length === index + 1 ? (\r\n                  <FollowersContent\r\n                    key={index}\r\n                    val={val}\r\n                    index={index}\r\n                    ref={lastPostRef}\r\n                    goProfile={goProfile}\r\n                    setResult={setResult}\r\n                    result={result}\r\n                    uid={uid}\r\n                    followingsCount={followingsCount}\r\n                    setFollowingsCount={setFollowingsCount}\r\n                    isDecibel={isDecibel}\r\n                    setIsDecibel={setIsDecibel}\r\n                  />\r\n                ) : (\r\n                  <FollowersContent\r\n                    key={index}\r\n                    val={val}\r\n                    index={index}\r\n                    goProfile={goProfile}\r\n                    setResult={setResult}\r\n                    result={result}\r\n                    uid={uid}\r\n                    followingsCount={followingsCount}\r\n                    setFollowingsCount={setFollowingsCount}\r\n                    isDecibel={isDecibel}\r\n                    setIsDecibel={setIsDecibel}\r\n\r\n                  />\r\n                );\r\n              })\r\n              : !loading && <p>No Data yet !!</p>}\r\n            {loading && (\r\n              <SpinningLoader\r\n                isLoading\r\n                colClass={`text-black ${result?.length === 0 ? \"mt-40\" : \"\"}`}\r\n                size={10}\r\n                className=\"mb-4 w-full flex justify-center items-center\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Followers;\r\n","import React from \"react\";\r\n\r\ntype Props = {\r\n  setReport: any;\r\n  reportPost: any;\r\n  message: any;\r\n};\r\n\r\nconst ReportPost = ({ setReport, reportPost, message }: Props) => {\r\n  const reportData = [`Report Post`, `Hide Post`, `Block User`, `Close`];\r\n\r\n  const goBack = () => {\r\n    setReport(false);\r\n  };\r\n\r\n  const doReport = (e: any) => {\r\n    reportPost(e);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"reportpost-main\">\r\n        <div className=\"reportpost-card\">\r\n          {/* <div className=\"reportpost-head \">\r\n            <span style={{ width: \"300px\", textAlign: \"center\" }}>\r\n              Report Post\r\n            </span>\r\n            <span\r\n              style={{\r\n                width: \"40px\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              {\" \"}\r\n              <GiCrossMark />{\" \"}\r\n            </span>\r\n          </div> */}\r\n\r\n          {/* <div className=\"reportpost-head \">\r\n                        <span style={{ width: '350px', fontSize: '1rem', textAlign: 'left', color: 'red' }}>Why are you reporting this post?</span>\r\n                    </div> */}\r\n\r\n          {reportData.map((element) => {\r\n            return (\r\n              <div className=\"reportpost-head1\" onClick={() => goBack()}>\r\n                <span\r\n                  onClick={() => doReport(element)}\r\n                  style={{\r\n                    width: \"350px\",\r\n                    fontSize: \"1rem\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                  {element}\r\n                </span>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        {message ? (\r\n          <>\r\n            <div className=\"reportpost-head \">\r\n              <span\r\n                style={{\r\n                  width: \"350px\",\r\n                  fontSize: \"1rem\",\r\n                  textAlign: \"left\",\r\n                  color: \"red\",\r\n                }}\r\n              >\r\n                {message}\r\n              </span>\r\n            </div>\r\n          </>\r\n        ) : null}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReportPost;\r\n","import React from 'react'\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\ntype props = {\r\n  setConformPostDelete: any,\r\n  \r\n}\r\n\r\nconst DeleteConform = ({ setConformPostDelete }: props) => {\r\n\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n\r\n  const token = user?.token;\r\n\r\n  const discard = () => {\r\n    const obj = {\r\n      \"method\": 'delete_post',\r\n      \"post_id\": id,\r\n      \"user_id\": user.data.user_id,\r\n    }\r\n\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n      method: 'POST',\r\n      headers: {\r\n        accept: 'application/json',\r\n        contentType: 'application/json',\r\n        version: '1.0.0',\r\n        token: `Bearer ${token}`,\r\n      }, body: JSON.stringify(obj)\r\n    }).then((res) => {\r\n      res.json().then((response) => {\r\n        if (response.status === 1) {\r\n          navigate(-1);\r\n        }\r\n\r\n      })\r\n    }).catch((e) => {\r\n      // console.log('post Delete Error ...', e);\r\n\r\n    })\r\n  }\r\n\r\n  const cancel = () => {\r\n    // setDiscard(false);\r\n    setConformPostDelete(false);\r\n  }\r\n  return (\r\n\r\n    <div className=\"dis-main d-f\" onClick={() => discard()}>\r\n      <div className=\"dis-box\">\r\n        <div className=\"dis-text d-f\">\r\n          <span>  Discard post?</span>\r\n          <span style={{ fontSize: '1.2rem' }}>  Do you Wan't to Delete Post.</span>\r\n        </div>\r\n        <div className=\"dis-discard d-f\">\r\n          <span style={{ color: 'red', fontSize: '1.5rem' }} onClick={() => discard()}>Discard</span>\r\n        </div>\r\n        <div className=\"dis-cancel d-f\">\r\n          <span style={{ fontSize: '1.5rem' }} onClick={() => cancel()}>Cancel</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DeleteConform","import { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n// import { STATE_BLACK_LOGO } from \"~/assets\";\r\nimport PostDetails from \"./PostDetails\";\r\nimport { getMyPost } from \"~/reduxState\";\r\nimport { GetAllPostContent, Loading, SpinningLoader } from \"~/components\";\r\n\r\nfunction PostList() {\r\n  const dispatch = useDispatch();\r\n\r\n  const { user } = useSelector((state: any) => state.UserLogin);\r\n  const token = user?.token;\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [upost, setUPost] = useState<any[]>([]);\r\n\r\n  // const [loadMore, setLoadMore] = useState<boolean>(false);\r\n\r\n  const [toggleDetails, setToggleDetails] = useState<boolean>(false);\r\n  const [postDetailsState, setPostDetailsState] = useState<any>({});\r\n  const [handleGP, setHandleGP] = useState<boolean>(false);\r\n  const [pageNo, setPageNo] = useState<number>(1);\r\n\r\n  const [mainLoading, setMainLoading] = useState<boolean>(false);\r\n  const [hasNextPage, setHasNextPage] = useState(false);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const limit = 10;\r\n\r\n  useEffect(() => {\r\n    getUserPostList();\r\n  }, [pageNo, handleGP]);\r\n\r\n  // console.log(\"location\", location)\r\n  const getUserPostList = () => {\r\n    setMainLoading(true);\r\n    pageNo !== 1 && setLoading(true);\r\n    const obj = {\r\n      method: \"get_post_list\",\r\n      page: pageNo,\r\n      limit: limit,\r\n      user_id: user?.data?.user_id,\r\n      user_2: id,\r\n      all_post: true,\r\n    };\r\n    fetch(`${import.meta.env.VITE_PUBLIC_URL}post`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        accept: \"application/json\",\r\n        contentType: \"application/json\",\r\n        version: \"1.0.0\",\r\n        token: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(obj),\r\n    }).then((res) => {\r\n      res.json().then((response) => {\r\n        if (response.status === 1) {\r\n          setLoading(false);\r\n          setMainLoading(false);\r\n          let pLimit = limit;\r\n          let pData = response?.data?.length;\r\n          setHasNextPage(pData >= pLimit);\r\n          if (pageNo === 1) {\r\n            setUPost(response.data);\r\n          } else {\r\n            let clone = [...upost];\r\n            response?.data && clone.push(...response?.data);\r\n            setUPost(clone);\r\n          }\r\n\r\n          if (pageNo === 1) {\r\n            setUPost(response.data);\r\n          } else {\r\n            setUPost([...upost, ...response.data]);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  const intObserver = useRef<any>();\r\n  const lastPostRef = useCallback(\r\n    (post: any) => {\r\n      if (loading) return;\r\n      if (intObserver.current) intObserver.current.disconnect();\r\n\r\n      intObserver.current = new IntersectionObserver((posts) => {\r\n        if (posts[0].isIntersecting && hasNextPage) {\r\n          setPageNo((prev) => prev + 1);\r\n        }\r\n      });\r\n\r\n      if (post) intObserver.current.observe(post);\r\n    },\r\n    [loading, hasNextPage]\r\n  );\r\n  const showPostDetailsClick = (value: any) => {\r\n    // navigate(`/postdetails/${value?.post_id}`, { state: { value: value } })\r\n    setPostDetailsState(value);\r\n    setToggleDetails(!toggleDetails);\r\n  };\r\n\r\n  return (\r\n    <div className=\"lg:w-8/12 lg:mx-auto mb-8 \">\r\n      {mainLoading && pageNo === 1 ? (\r\n        <div className=\"w-full h-[100vh] flex justify-center items-center\">\r\n          <Loading />\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex flex-wrap -mx-px md:-mx-3 mt-20 \">\r\n          {upost?.length > 0\r\n            ? upost.map((val: any, index) => {\r\n              return upost?.length === index + 1 ? (\r\n                <GetAllPostContent\r\n                  key={index}\r\n                  val={val}\r\n                  index={index}\r\n                  showPostDetailsClick={showPostDetailsClick}\r\n                  ref={lastPostRef}\r\n                />\r\n              ) : (\r\n                <GetAllPostContent\r\n                  key={index}\r\n                  val={val}\r\n                  index={index}\r\n                  showPostDetailsClick={showPostDetailsClick}\r\n                />\r\n              );\r\n            })\r\n            : !loading && (\r\n              <p className=\" text-center h-52 w-full flex justify-center items-center text-gray-500 text-xl text-bold\">\r\n                No post yet !!\r\n              </p>\r\n            )}\r\n          {/* ========================================================================= */}\r\n        </div>\r\n      )}\r\n      {loading && (\r\n        <SpinningLoader\r\n          isLoading\r\n          colClass=\"text-black\"\r\n          size={10}\r\n          className=\"mb-4 w-full flex justify-center items-center\"\r\n        />\r\n      )}\r\n      {toggleDetails && (\r\n        <PostDetails\r\n          key={postDetailsState?.post_id}\r\n          closeToggle={setToggleDetails}\r\n          value={postDetailsState}\r\n          setHandleGP={setHandleGP}\r\n          handleGP={handleGP}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default PostList;\r\n","import {\r\n  Login,\r\n  SignUp,\r\n  Home,\r\n  ForgotPassword,\r\n  Error,\r\n  PrivacyPolicy,\r\n  Playground,\r\n  VerifyOTP,\r\n  SetPassword,\r\n  SaveBookMark,\r\n  HiddenPost,\r\n  BlockUsers,\r\n  AboutUs,\r\n  DeleteAccount,\r\n  EditUProfile,\r\n  Discover,\r\n  Wallet,\r\n  Notification,\r\n  CreateWallet,\r\n  Messages,\r\n  SendETH,\r\n  SendSTATE,\r\n  NFT,\r\n  NFTDetails,\r\n  History,\r\n  TermsConditions,\r\n  PostDetails,\r\n} from \"../pages\";\r\nimport {\r\n  NavBar,\r\n  UserProfile,\r\n  UserAccountPostPreview,\r\n  Loading,\r\n  SpinningLoader,\r\n} from \"../components\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { App_state } from \"~/reduxState\";\r\nimport { Suspense } from \"react\";\r\nimport PostList from \"~/pages/PostList\";\r\n\r\nconst Index = () => {\r\n  const { user } = useSelector((s: App_state) => s.UserLogin);\r\n\r\n  function FallbackLoader() {\r\n    return (\r\n      <div className=\"flex h-[80vh] flex-col w-full items-center justify-center py-9\">\r\n        <SpinningLoader isLoading colClass=\"text-black\" size={10} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {user.data.user_id && <NavBar />}\r\n      <Suspense fallback={<FallbackLoader />}>\r\n        <ToastContainer />\r\n        <Routes>\r\n          {user.data.user_id ? (\r\n            <>\r\n              <Route path=\"/login\" element={<Navigate to=\"/\" replace />} />\r\n              <Route path=\"/signup\" element={<SignUp />} />\r\n              <Route path=\"/reset\" element={<ForgotPassword />} />\r\n              <Route path=\"/*\" element={<Error />} />\r\n              <Route path=\"/\" element={<Home />} />\r\n              <Route path=\"/playground\" element={<Playground />} />\r\n              <Route path=\"/userprofile/:id\" element={<UserProfile />} />\r\n              <Route path=\"/uapp/:id\" element={<UserAccountPostPreview />} />\r\n              {/* <Route path=\"/postdetails/:id\" element={<PostDetails />} /> */}\r\n              <Route path=\"/uapp/ep/:id/:general\" element={<EditUProfile />} />\r\n              <Route path=\"/ep/:id/:general\" element={<SaveBookMark />} />\r\n              <Route path=\"/:id/:general\" element={<HiddenPost />} />\r\n              <Route path=\"/uapp/ep/:id/:general\" element={<BlockUsers />} />\r\n              <Route path=\"/uapp/ep/:id/:general\" element={<DeleteAccount />} />\r\n              <Route path=\"/uapp/ep/:id/:general\" element={<PrivacyPolicy />} />\r\n              <Route path=\"/uapp/ep/:id/:general\" element={<AboutUs />} />\r\n              <Route path=\"/discover\" element={<Discover />} />\r\n              <Route path=\"/notification\" element={<Notification />} />\r\n              <Route path=\"/postlist/:id\" element={<PostList />} />\r\n\r\n              <Route path=\"/VerifyOTP\" element={<VerifyOTP />} />\r\n              <Route path=\"/setPassword\" element={<SetPassword />} />\r\n              <Route path=\"/messages\" element={<Messages />} />\r\n              <Route path=\"/messages/:chatroomId\" element={<Messages />} />\r\n              <Route path=\"/wallet\" element={<Wallet />} />\r\n              <Route path=\"/wallet/create\" element={<CreateWallet />} />\r\n              <Route path=\"/wallet/send-state\" element={<SendSTATE />} />\r\n              <Route path=\"/wallet/send-eth\" element={<SendETH />} />\r\n              <Route path=\"/wallet/NFT\" element={<NFT />} />\r\n              <Route path=\"/wallet/NFT/:id\" element={<NFTDetails />} />\r\n              <Route path=\"/wallet/history\" element={<History />} />\r\n              {/* <Route path=\"/uapp/ep/:id\" element={<EditUProfile />}/> */}\r\n              {/* <Route path=\"/uapp/ep/:id/:gen\" element={<EdProfile />}/> */}\r\n              {/* <Route path=\"/uapp/ep/:id/\" element={<CngPassword />}/> */}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Route path=\"/\" element={<Navigate to=\"/login\" replace />} />\r\n              <Route path=\"/login\" element={<Login />} />\r\n              <Route path=\"/signup\" element={<SignUp />} />\r\n              <Route path=\"/reset\" element={<ForgotPassword />} />\r\n              <Route path=\"/*\" element={<Navigate to=\"/login\" replace />} />\r\n              <Route path=\"/VerifyOTP\" element={<VerifyOTP />} />\r\n              <Route path=\"/setPassword\" element={<SetPassword />} />\r\n              <Route\r\n                path=\"/Terms_and_Conditions\"\r\n                element={<TermsConditions />}\r\n              />\r\n\r\n              {/* <Route path=\"*\" element={<Error />} /> */}\r\n              {/* <Route path=\"/\" element={<Home />} /> */}\r\n              {/* <Route path=\"/userprofile\" element={<Navigate to=\"/login\" />} /> */}\r\n              {/* <Route path=\"/createpost\" element={<Navigate to=\"/login\" />} /> */}\r\n              {/* <Route path=\"/userprofile\" element={<UserProfile/>} /> */}\r\n              {/* <Route path=\"/abc\" element={<ABC />} /> */}\r\n            </>\r\n          )}\r\n        </Routes>\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","var ConnectorEvent;\n\n(function (ConnectorEvent) {\n  ConnectorEvent[\"Update\"] = \"Web3ReactUpdate\";\n  ConnectorEvent[\"Error\"] = \"Web3ReactError\";\n  ConnectorEvent[\"Deactivate\"] = \"Web3ReactDeactivate\";\n})(ConnectorEvent || (ConnectorEvent = {}));\n\nexport { ConnectorEvent };\n//# sourceMappingURL=types.esm.js.map\n","import React, { useReducer, useRef, useCallback, useEffect, createContext, useMemo, useContext } from 'react';\nimport invariant from 'tiny-invariant';\nimport { ConnectorEvent } from '@web3-react/types';\nimport warning from 'tiny-warning';\nimport { arrayify } from '@ethersproject/bytes';\nimport { keccak256 } from '@ethersproject/keccak256';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\n// A type of promise-like that resolves synchronously and supports only one observer\nvar _iteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = /*#__PURE__*/Symbol(\"Symbol.iterator\")) : \"@@iterator\"; // Asynchronously iterate through an object's values\nvar _asyncIteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator = /*#__PURE__*/Symbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\"; // Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\n\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n} // Asynchronously await a promise and pass the result to a finally continuation\n\nfunction normalizeChainId(chainId) {\n  if (typeof chainId === 'string') {\n    // Temporary fix until the next version of Metamask Mobile gets released.\n    // In the current version (0.2.13), the chainId starts with Ox rather\n    // than 0x. Fix: https://github.com/MetaMask/metamask-mobile/pull/1275\n    chainId = chainId.replace(/^Ox/, '0x');\n    var parsedChainId = Number.parseInt(chainId, chainId.trim().substring(0, 2) === '0x' ? 16 : 10);\n    !!Number.isNaN(parsedChainId) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"chainId \" + chainId + \" is not an integer\") : invariant(false) : void 0;\n    return parsedChainId;\n  } else {\n    !Number.isInteger(chainId) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"chainId \" + chainId + \" is not an integer\") : invariant(false) : void 0;\n    return chainId;\n  }\n} // https://github.com/ethers-io/ethers.js/blob/d9d438a119bb11f8516fc9cf02c534ab3816fcb3/packages/address/src.ts/index.ts\n\nfunction normalizeAccount(_address) {\n  !(typeof _address === 'string' && _address.match(/^(0x)?[0-9a-fA-F]{40}$/)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Invalid address \" + _address) : invariant(false) : void 0;\n  var address = _address.substring(0, 2) === '0x' ? _address : \"0x\" + _address;\n  var chars = address.toLowerCase().substring(2).split('');\n  var charsArray = new Uint8Array(40);\n\n  for (var i = 0; i < 40; i++) {\n    charsArray[i] = chars[i].charCodeAt(0);\n  }\n\n  var hashed = arrayify(keccak256(charsArray));\n\n  for (var _i = 0; _i < 40; _i += 2) {\n    if (hashed[_i >> 1] >> 4 >= 8) {\n      chars[_i] = chars[_i].toUpperCase();\n    }\n\n    if ((hashed[_i >> 1] & 0x0f) >= 8) {\n      chars[_i + 1] = chars[_i + 1].toUpperCase();\n    }\n  }\n\n  var addressChecksum = \"0x\" + chars.join('');\n  !!(address.match(/([A-F].*[a-f])|([a-f].*[A-F])/) && address !== addressChecksum) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Bad address checksum \" + address + \" \" + addressChecksum) : invariant(false) : void 0;\n  return addressChecksum;\n}\n\nvar augmentConnectorUpdate = function augmentConnectorUpdate(connector, update) {\n  try {\n    var _temp3 = function _temp3(provider) {\n      return Promise.resolve(Promise.all([update.chainId === undefined ? connector.getChainId() : update.chainId, update.account === undefined ? connector.getAccount() : update.account])).then(function (_ref2) {\n        var _chainId = _ref2[0],\n            _account = _ref2[1];\n        var chainId = normalizeChainId(_chainId);\n\n        if (!!connector.supportedChainIds && !connector.supportedChainIds.includes(chainId)) {\n          throw new UnsupportedChainIdError(chainId, connector.supportedChainIds);\n        }\n\n        var account = _account === null ? _account : normalizeAccount(_account);\n        return {\n          provider: provider,\n          chainId: chainId,\n          account: account\n        };\n      });\n    };\n\n    var _temp4 = update.provider === undefined;\n\n    return Promise.resolve(_temp4 ? Promise.resolve(connector.getProvider()).then(_temp3) : _temp3(update.provider));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar StaleConnectorError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(StaleConnectorError, _Error);\n\n  function StaleConnectorError() {\n    var _this;\n\n    _this = _Error.call(this) || this;\n    _this.name = _this.constructor.name;\n    return _this;\n  }\n\n  return StaleConnectorError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar UnsupportedChainIdError = /*#__PURE__*/function (_Error2) {\n  _inheritsLoose(UnsupportedChainIdError, _Error2);\n\n  function UnsupportedChainIdError(unsupportedChainId, supportedChainIds) {\n    var _this2;\n\n    _this2 = _Error2.call(this) || this;\n    _this2.name = _this2.constructor.name;\n    _this2.message = \"Unsupported chain id: \" + unsupportedChainId + \". Supported chain ids are: \" + supportedChainIds + \".\";\n    return _this2;\n  }\n\n  return UnsupportedChainIdError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar ActionType;\n\n(function (ActionType) {\n  ActionType[ActionType[\"ACTIVATE_CONNECTOR\"] = 0] = \"ACTIVATE_CONNECTOR\";\n  ActionType[ActionType[\"UPDATE\"] = 1] = \"UPDATE\";\n  ActionType[ActionType[\"UPDATE_FROM_ERROR\"] = 2] = \"UPDATE_FROM_ERROR\";\n  ActionType[ActionType[\"ERROR\"] = 3] = \"ERROR\";\n  ActionType[ActionType[\"ERROR_FROM_ACTIVATION\"] = 4] = \"ERROR_FROM_ACTIVATION\";\n  ActionType[ActionType[\"DEACTIVATE_CONNECTOR\"] = 5] = \"DEACTIVATE_CONNECTOR\";\n})(ActionType || (ActionType = {}));\n\nfunction reducer(state, _ref) {\n  var type = _ref.type,\n      payload = _ref.payload;\n\n  switch (type) {\n    case ActionType.ACTIVATE_CONNECTOR:\n      {\n        var connector = payload.connector,\n            provider = payload.provider,\n            chainId = payload.chainId,\n            account = payload.account,\n            onError = payload.onError;\n        return {\n          connector: connector,\n          provider: provider,\n          chainId: chainId,\n          account: account,\n          onError: onError\n        };\n      }\n\n    case ActionType.UPDATE:\n      {\n        var _provider = payload.provider,\n            _chainId2 = payload.chainId,\n            _account2 = payload.account;\n        return _extends({}, state, _provider === undefined ? {} : {\n          provider: _provider\n        }, _chainId2 === undefined ? {} : {\n          chainId: _chainId2\n        }, _account2 === undefined ? {} : {\n          account: _account2\n        });\n      }\n\n    case ActionType.UPDATE_FROM_ERROR:\n      {\n        var _provider2 = payload.provider,\n            _chainId3 = payload.chainId,\n            _account3 = payload.account;\n        return _extends({}, state, _provider2 === undefined ? {} : {\n          provider: _provider2\n        }, _chainId3 === undefined ? {} : {\n          chainId: _chainId3\n        }, _account3 === undefined ? {} : {\n          account: _account3\n        }, {\n          error: undefined\n        });\n      }\n\n    case ActionType.ERROR:\n      {\n        var error = payload.error;\n        var _connector = state.connector,\n            _onError = state.onError;\n        return {\n          connector: _connector,\n          error: error,\n          onError: _onError\n        };\n      }\n\n    case ActionType.ERROR_FROM_ACTIVATION:\n      {\n        var _connector2 = payload.connector,\n            _error = payload.error;\n        return {\n          connector: _connector2,\n          error: _error\n        };\n      }\n\n    case ActionType.DEACTIVATE_CONNECTOR:\n      {\n        return {};\n      }\n  }\n}\n\nfunction useWeb3ReactManager() {\n  var _useReducer = useReducer(reducer, {}),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var connector = state.connector,\n      provider = state.provider,\n      chainId = state.chainId,\n      account = state.account,\n      onError = state.onError,\n      error = state.error;\n  var updateBusterRef = useRef(-1);\n  updateBusterRef.current += 1;\n  var activate = useCallback(function (connector, onError, throwErrors) {\n    if (throwErrors === void 0) {\n      throwErrors = false;\n    }\n\n    try {\n      var updateBusterInitial = updateBusterRef.current;\n      var activated = false;\n      return Promise.resolve(_catch(function () {\n        return Promise.resolve(connector.activate().then(function (update) {\n          activated = true;\n          return update;\n        })).then(function (update) {\n          return Promise.resolve(augmentConnectorUpdate(connector, update)).then(function (augmentedUpdate) {\n            if (updateBusterRef.current > updateBusterInitial) {\n              throw new StaleConnectorError();\n            }\n\n            dispatch({\n              type: ActionType.ACTIVATE_CONNECTOR,\n              payload: _extends({\n                connector: connector\n              }, augmentedUpdate, {\n                onError: onError\n              })\n            });\n          });\n        });\n      }, function (error) {\n        if (error instanceof StaleConnectorError) {\n          activated && connector.deactivate();\n          process.env.NODE_ENV !== \"production\" ? warning(false, \"Suppressed stale connector activation \" + connector) : void 0;\n        } else if (throwErrors) {\n          activated && connector.deactivate();\n          throw error;\n        } else if (onError) {\n          activated && connector.deactivate();\n          onError(error);\n        } else {\n          // we don't call activated && connector.deactivate() here because it'll be handled in the useEffect\n          dispatch({\n            type: ActionType.ERROR_FROM_ACTIVATION,\n            payload: {\n              connector: connector,\n              error: error\n            }\n          });\n        }\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, []);\n  var setError = useCallback(function (error) {\n    dispatch({\n      type: ActionType.ERROR,\n      payload: {\n        error: error\n      }\n    });\n  }, []);\n  var deactivate = useCallback(function () {\n    dispatch({\n      type: ActionType.DEACTIVATE_CONNECTOR\n    });\n  }, []);\n  var handleUpdate = useCallback(function (update) {\n    try {\n      if (!connector) {\n        throw Error(\"This should never happen, it's just so Typescript stops complaining\");\n      }\n\n      var updateBusterInitial = updateBusterRef.current; // updates are handled differently depending on whether the connector is active vs in an error state\n\n      return Promise.resolve(function () {\n        if (!error) {\n          var _chainId4 = update.chainId === undefined ? undefined : normalizeChainId(update.chainId);\n\n          if (_chainId4 !== undefined && !!connector.supportedChainIds && !connector.supportedChainIds.includes(_chainId4)) {\n            var _error2 = new UnsupportedChainIdError(_chainId4, connector.supportedChainIds);\n\n            onError ? onError(_error2) : dispatch({\n              type: ActionType.ERROR,\n              payload: {\n                error: _error2\n              }\n            });\n          } else {\n            var _account4 = typeof update.account === 'string' ? normalizeAccount(update.account) : update.account;\n\n            dispatch({\n              type: ActionType.UPDATE,\n              payload: {\n                provider: update.provider,\n                chainId: _chainId4,\n                account: _account4\n              }\n            });\n          }\n        } else {\n          return _catch(function () {\n            return Promise.resolve(augmentConnectorUpdate(connector, update)).then(function (augmentedUpdate) {\n              if (updateBusterRef.current > updateBusterInitial) {\n                throw new StaleConnectorError();\n              }\n\n              dispatch({\n                type: ActionType.UPDATE_FROM_ERROR,\n                payload: augmentedUpdate\n              });\n            });\n          }, function (error) {\n            if (error instanceof StaleConnectorError) {\n              process.env.NODE_ENV !== \"production\" ? warning(false, \"Suppressed stale connector update from error state \" + connector + \" \" + update) : void 0;\n            } else {\n              // though we don't have to, we're re-circulating the new error\n              onError ? onError(error) : dispatch({\n                type: ActionType.ERROR,\n                payload: {\n                  error: error\n                }\n              });\n            }\n          });\n        }\n      }());\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [connector, error, onError]);\n  var handleError = useCallback(function (error) {\n    onError ? onError(error) : dispatch({\n      type: ActionType.ERROR,\n      payload: {\n        error: error\n      }\n    });\n  }, [onError]);\n  var handleDeactivate = useCallback(function () {\n    dispatch({\n      type: ActionType.DEACTIVATE_CONNECTOR\n    });\n  }, []); // ensure that connectors which were set are deactivated\n\n  useEffect(function () {\n    return function () {\n      if (connector) {\n        connector.deactivate();\n      }\n    };\n  }, [connector]); // ensure that events emitted from the set connector are handled appropriately\n\n  useEffect(function () {\n    if (connector) {\n      connector.on(ConnectorEvent.Update, handleUpdate).on(ConnectorEvent.Error, handleError).on(ConnectorEvent.Deactivate, handleDeactivate);\n    }\n\n    return function () {\n      if (connector) {\n        connector.off(ConnectorEvent.Update, handleUpdate).off(ConnectorEvent.Error, handleError).off(ConnectorEvent.Deactivate, handleDeactivate);\n      }\n    };\n  }, [connector, handleUpdate, handleError, handleDeactivate]);\n  return {\n    connector: connector,\n    provider: provider,\n    chainId: chainId,\n    account: account,\n    activate: activate,\n    setError: setError,\n    deactivate: deactivate,\n    error: error\n  };\n}\n\nvar PRIMARY_KEY = 'primary';\nvar CONTEXTS = {};\nfunction createWeb3ReactRoot(key) {\n  !!CONTEXTS[key] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A root already exists for provided key \" + key) : invariant(false) : void 0;\n  CONTEXTS[key] = createContext({\n    activate: function () {\n      try {\n        !false ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'No <Web3ReactProvider ... /> found.') : invariant(false) : void 0;\n        return Promise.resolve();\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    },\n    setError: function setError() {\n       process.env.NODE_ENV !== \"production\" ? invariant(false, 'No <Web3ReactProvider ... /> found.') : invariant(false) ;\n    },\n    deactivate: function deactivate() {\n       process.env.NODE_ENV !== \"production\" ? invariant(false, 'No <Web3ReactProvider ... /> found.') : invariant(false) ;\n    },\n    active: false\n  });\n  CONTEXTS[key].displayName = \"Web3ReactContext - \" + key;\n  var Provider = CONTEXTS[key].Provider;\n  return function Web3ReactProvider(_ref) {\n    var getLibrary = _ref.getLibrary,\n        children = _ref.children;\n\n    var _useWeb3ReactManager = useWeb3ReactManager(),\n        connector = _useWeb3ReactManager.connector,\n        provider = _useWeb3ReactManager.provider,\n        chainId = _useWeb3ReactManager.chainId,\n        account = _useWeb3ReactManager.account,\n        activate = _useWeb3ReactManager.activate,\n        setError = _useWeb3ReactManager.setError,\n        deactivate = _useWeb3ReactManager.deactivate,\n        error = _useWeb3ReactManager.error;\n\n    var active = connector !== undefined && chainId !== undefined && account !== undefined && !!!error;\n    var library = useMemo(function () {\n      return active && chainId !== undefined && Number.isInteger(chainId) && !!connector ? getLibrary(provider, connector) : undefined;\n    }, [active, getLibrary, provider, connector, chainId]);\n    var web3ReactContext = {\n      connector: connector,\n      library: library,\n      chainId: chainId,\n      account: account,\n      activate: activate,\n      setError: setError,\n      deactivate: deactivate,\n      active: active,\n      error: error\n    };\n    return React.createElement(Provider, {\n      value: web3ReactContext\n    }, children);\n  };\n}\nvar Web3ReactProvider = /*#__PURE__*/createWeb3ReactRoot(PRIMARY_KEY);\nfunction getWeb3ReactContext(key) {\n  if (key === void 0) {\n    key = PRIMARY_KEY;\n  }\n\n  !Object.keys(CONTEXTS).includes(key) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Invalid key \" + key) : invariant(false) : void 0;\n  return CONTEXTS[key];\n}\nfunction useWeb3React(key) {\n  return useContext(getWeb3ReactContext(key));\n}\n\nexport { PRIMARY_KEY, UnsupportedChainIdError, Web3ReactProvider, createWeb3ReactRoot, getWeb3ReactContext, useWeb3React };\n//# sourceMappingURL=core.esm.js.map\n","import AppRoute from './routes'\r\nimport \"./styles/index.css\"\r\n\r\nimport { BrowserRouter, Outlet } from 'react-router-dom'\r\nimport { createWeb3ReactRoot, Web3ReactProvider } from '@web3-react/core'\r\nimport { Web3Provider } from '@ethersproject/providers'\r\n// import your favorite web3 convenience library here\r\n\r\nfunction App() {\r\n\r\n  function getLibrary(provider: any, connector: any) {\r\n    return new Web3Provider(provider) // this will vary according to whether you use e.g. ethers or web3.js\r\n  };\r\n\r\n  // const Web3ReactProviderReloaded = createWeb3ReactRoot('anotherOne')\r\n\r\n  return (\r\n    <BrowserRouter basename='/' >\r\n      <Web3ReactProvider getLibrary={getLibrary}>\r\n        {/* <Web3ReactProviderReloaded getLibrary={getLibrary}> */}\r\n        <AppRoute />        \r\n        {/* </Web3ReactProviderReloaded> */}\r\n      </Web3ReactProvider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;","import ReactDOM from 'react-dom/client';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport store, { persistor } from './reduxState/store';\r\nimport { AppContextProvider } from '~/context';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport \"./index.css\";\r\nimport 'vite/modulepreload-polyfill';\r\n\r\nReactDOM.createRoot(document.getElementById('root') as HTMLElement).render(\r\n  // <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate persistor={persistor}>\r\n        <AppContextProvider>\r\n          <App />\r\n        </AppContextProvider>\r\n      </PersistGate>\r\n    </Provider>\r\n  // </React.StrictMode>\r\n)\r\n"],"names":["m","require$$0","client","_typeof","obj","_classCallCheck","instance","Constructor","_defineProperties","target","props","i","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","_inherits","subClass","superClass","_setPrototypeOf","p","_defineProperty","key","value","PersistGate","_PureComponent","_getPrototypeOf2","_this","_len","args","_key","persistor","_persistor$getState","bootstrapped","PureComponent","createListenerCollection","batch","getBatch","first","last","listener","listeners","callback","isSubscribed","nullListeners","createSubscription","store","parentSub","unsubscribe","addNestedSub","trySubscribe","notifyNestedSubs","handleChangeWrapper","subscription","tryUnsubscribe","canUseDOM","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","Provider","context","children","serverState","contextValue","useMemo","previousState","Context","ReactReduxContext","React","appReducer","state","action","ActionType","initialState","AppContextProvider","dispatch","useReducer","val","AppContext","Like","Chat","Send","UP_ARROW","TOP_ARROW","WALLET_INACTIVE","HOME_ICON","ADD_POST_ICON","MESSAGES_ICON","NOTIFICATION_ICON","PROFILE_BLACK_ICON","LOG_OUT_ICON","NavBar","popup","setPopup","useState","user","useSelector","useParams","popuplike","setPopupLike","popupPost","setPopupPost","setPopupExplore","navigate","useNavigate","postpop","goHome","userMenuRef","useRef","useOnClickOutside","jsxs","jsx","ScrollToTop","Link","BLACK_LOGO","SEARCH_ICON","CreatePost","UserIcon","Accountprofile","useDispatch","disp","useContext","GoLogout","LogoutUser","LogoutUserPost","resetUser","goSettings","goProfile","SEND_ICON","SETTING_BLACK_ICON","id","discard","setDiscard","caption","setCaption","image","setImage","videoData","setVideoData","imgPreviewUrl","setImgPreviewUrl","audioS","setAudioS","loading","setLoading","AVLoading","setAVLoading","videoRef","token","convertedData","setConvertedData","checkLength","e","discardTogle","generateVideoThumbnail","file","resolve","reject","canvas","video","ctx","blob","getVideoDuration","reader","media","error","handleImageChange","_a","fileSize","extention","toast","duration","thumbnail","crPost","formDataNew","result","response","fetchPostData","closeImg","setPostList","Loading","Fragment","CLOSE_BLACK_ICON","Discard","SpinningLoader","CLOSE_ICON","BACK_ICON","discardToggle","cancel","AddressZero","HashZero","decode","textData","data","arrayify","encode","flat","array","depth","forEach","flatDeep","arr","fromEntries","decode_arithmetic","bytes","pos","u16","symbol_count","total","acc","skip","pos_payload","read_width","read_buffer","read_bit","N","FULL","HALF","QRTR","MASK","register","symbols","low","range","start","end","mid","a","b","offset","x","read_payload","v","read_compressed_payload","signed","read_counts","next","read_ascending","read_deltas","read_member_array","lookup","n","vX","vN","j","read_mapped_map","ret","w","read_linear_table","read_replacement_table","read_zero_terminated_array","read_transposed","dx","dy","ys","_","j_dy","read_emoji_trie","sorted","read","branches","keys","temp","valid","fe0f","save","check","getData","r","VALID","IGNORED","MAPPED","EMOJI_ROOT","HYPHEN","UNDERSCORE","explode_cp","name","toUtf8CodePoints","filter_fe0f","cps","cp","ens_normalize_post_check","label","err","ens_normalize","normalize","emoji_filter","input","output","emoji","consume_emoji_reversed","nfc","s","eaten","node","saved","stack","logger","Logger","version","Zeros","checkComponent","comp","ensNameSplit","toUtf8Bytes","comps","namehash","keccak256","concat","hexlify","dnsEncode","isRenetworkable","ethDefaultProvider","network","func","providers","options","providerList","provider","quorum","etcDefaultProvider","url","homestead","ropsten","classicMordor","networks","getNetwork","standard","defaultProvider","__awaiter","this","thisArg","_arguments","P","generator","adopt","fulfilled","step","rejected","getUrl","href","request","opts","body","headers","staller","bodyify","type","isBytesLike","toUtf8String","unpercent","all","code","_fetchData","connection","processFunc","attemptLimit","throttleCallback","throttleSlotInterval","errorPassThrough","allow304","timeout","authorization","base64Encode","shallowCopy","reData","dataMatch","base64Decode","flatHeaders","header","runningTimeout","timer","runningFetch","attempt","location","tryAgain","stall","retryAfter","fetchJson","json","processJsonFunc","updated","k","poll","done","retryLimit","ALPHABET","ALPHABET_MAP","z","polymodStep","pre","prefixChk","prefix","chk","c","words","LIMIT","__decode","str","lowered","uppered","split","wordChars","decodeUnsafe","res","convert","inBits","outBits","pad","bits","maxV","toWordsUnsafe","toWords","fromWordsUnsafe","fromWords","bech32","Formatter","formats","address","bigNumber","blockTag","hash","hex","number","strictData","accessList","accessListify","BigNumber","strict","isHexString","getAddress","hexDataSlice","getContractAddress","hexValue","hexDataLength","hexZeroPad","format","difficulty","transaction","chainId","parseTransaction","object","nullValue","replaceValue","MAX_CCIP_REDIRECTS","checkTopic","topic","serializeTopics","topics","unique","deserializeTopics","getEventTag","eventName","ForkEvent","getTime","PollableEvents","Event","tag","once","defineReadOnly","filter","coinInfos","bytes32ify","base58Encode","Base58","sha256","matcherIpfs","matchers","_parseString","_parseBytes","length","getIpfsLink","link","numPad","padded","bytesPad","encodeBytes","datas","byteCount","hexConcat","Resolver","resolvedAddress","selector","parameters","tx","parseBytes","coinType","hexBytes","coinInfo","p2pkh","p2sh","linkage","avatar","match","scheme","owner","addr","tokenId","tokenOwner","balance","metadataUrl","metadata","imageUrl","ipfs","ipns","swarm","skynet","urlSafe","keyBytes","defaultFormatter","nextPollId","BaseProvider","knownNetwork","getStatic","calldata","urls","sender","errorMessages","errorMessage","maxAge","internalBlockNumber","reqTime","checkInternalBlockNumber","resolveProperties","blockNumber","networkError","respTime","pollId","runners","eventBlockNumber","event","runner","receipt","minFromBlock","logs","log","currentNetwork","now","transactionHash","confirmations","replaceable","cancelFuncs","alreadyDone","minedHandler","lastBlockNumber","scannedBlock","replaceHandler","nonce","mined","block","ti","reason","addressOrName","params","position","startBlock","confirms","replacement","signedTransaction","hexTx","t","values","txSender","urlsOffset","urlsLength","urlsData","u","callbackSelector","extraData","ccipResult","resolved","blockHashOrBlockTag","includeTransactions","blockWithTxs","currentName","resolver","operation","addrData","resolverAddr","nameOrAddress","resolverAddress","method","stopped","eventTag","found","errorGas","spelunk","requireData","checkError","message","getResult","payload","getLowerCase","_constructorGuard","JsonRpcSigner","Signer","constructorGuard","addressOrIndex","UncheckedJsonRpcSigner","accounts","fromAddress","estimate","to","domain","types","populated","_TypedDataEncoder","password","allowedTransactionKeys","JsonRpcProvider","networkOrReady","deepCopy","cache","feeData","pendingFilter","filterId","hashes","seq","allowExtra","allowed","checkProperties","_nextId","buildWeb3LegacyFetcher","sendFunc","fetcher","buildEip1193Fetcher","Web3Provider","path","jsonRpcFetchFunc","subprovider","UserProfile","postData","userProfile","setUserProfile","accountPrivacy","setAccountPrivacy","followers","setFollowers","following","setFollowing","toggleDetails","setToggleDetails","hasNextPage","setHasNextPage","btnLoading","setBtnLoading","pageNo","setPageNo","mainLoading","setMainLoading","visibleShare","setVisibleShare","followersCount","setFollowersCount","followingsCount","setFollowingsCount","isDecibel","setIsDecibel","postDataMainLoading","setPostDataMainLoading","pDetails","setPDetails","handleGP","setHandleGP","limit","getUserProfile","getUserPost","toggleMainLoading","_b","pLimit","pData","clone","followBtnClick","userItem","FollowEnum","newPostData","_c","_d","_e","_f","editProfile","getUserProfileAllPostClick","uId","GoSettings","getFollowers","getFollowing","showPostDetailsClick","intObserver","lastPostRef","useCallback","post","posts","prev","getUniqueChatId","otherUserId","intUserId","intOtherUserId","goMsgClick","item","generateId","chatHRef","ref","db","newChatHRef","child","onValue","snapshot","chatHistoryObj","set","oppMsgListRef","oopNewMsgRef","oppChatHistoryObj","chatRoomRef","newChatRoomRef","chatRoomObj","dbRef","childSnapshot","DEF_USER","FollowBtnCheck","MORE_ICON","Followers","index","UserProfilePostCards","PostDetails","SharePopup","UserAccountPostPreview","imgSrc","setImgSrc","comment","setComment","setPostData","showComment","setShowComment","edCommId","setEdCommId","edtPostMenu","setEdtPostMenu","dlCom","setDlCom","report","setReport","conformPostDelete","setConformPostDelete","setMessage","likePostStatus","setLikePostStatus","playBool","setPlayBool","soundBool","setSoundBool","commentApi","obj2","setPostC","objEdit","postEdit","reportPost","likePost","DefaultImg","DeleteConform","ReportPost","EditPost","moment","ShowComm","pid","uid","title","user1Status","user2Status","setResult","goBack","_g","_h","_i","_j","FollowersContent","reportData","doReport","element","PostList","upost","setUPost","postDetailsState","setPostDetailsState","getUserPostList","GetAllPostContent","Index","FallbackLoader","Suspense","ToastContainer","Routes","Route","Navigate","SignUp","ForgotPassword","Error","Home","Playground","EditUProfile","SaveBookMark","HiddenPost","BlockUsers","DeleteAccount","PrivacyPolicy","AboutUs","Discover","Notification","VerifyOTP","SetPassword","Messages","Wallet","CreateWallet","SendSTATE","SendETH","NFT","NFTDetails","History","Login","TermsConditions","isProduction","invariant","condition","provided","ConnectorEvent","_extends","source","_inheritsLoose","_isNativeReflectConstruct","_construct","Parent","Class","_isNativeFunction","fn","_wrapNativeSuper","_cache","Wrapper","_catch","recover","normalizeChainId","parsedChainId","normalizeAccount","_address","chars","charsArray","hashed","addressChecksum","augmentConnectorUpdate","connector","update","_temp3","_ref2","_chainId","_account","UnsupportedChainIdError","account","_temp4","StaleConnectorError","_Error","_Error2","unsupportedChainId","supportedChainIds","_this2","reducer","_ref","onError","_provider","_chainId2","_account2","_provider2","_chainId3","_account3","_connector","_onError","_connector2","_error","useWeb3ReactManager","_useReducer","updateBusterRef","activate","throwErrors","updateBusterInitial","activated","augmentedUpdate","setError","deactivate","handleUpdate","_chainId4","_error2","_account4","handleError","handleDeactivate","PRIMARY_KEY","CONTEXTS","createWeb3ReactRoot","createContext","getLibrary","_useWeb3ReactManager","active","library","web3ReactContext","Web3ReactProvider","App","BrowserRouter","AppRoute","ReactDOM"],"mappings":"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"}